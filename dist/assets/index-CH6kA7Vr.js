(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();function IA(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var ym={exports:{}},ql={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var L_;function NA(){if(L_)return ql;L_=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,o,u){var f=null;if(u!==void 0&&(f=""+u),o.key!==void 0&&(f=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:r,type:s,key:f,ref:o!==void 0?o:null,props:u}}return ql.Fragment=e,ql.jsx=n,ql.jsxs=n,ql}var U_;function OA(){return U_||(U_=1,ym.exports=NA()),ym.exports}var w=OA(),vm={exports:{}},Ne={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var j_;function DA(){if(j_)return Ne;j_=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),T=Symbol.iterator;function R(M){return M===null||typeof M!="object"?null:(M=T&&M[T]||M["@@iterator"],typeof M=="function"?M:null)}var U={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},z=Object.assign,K={};function N(M,Z,le){this.props=M,this.context=Z,this.refs=K,this.updater=le||U}N.prototype.isReactComponent={},N.prototype.setState=function(M,Z){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,Z,"setState")},N.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function X(){}X.prototype=N.prototype;function Q(M,Z,le){this.props=M,this.context=Z,this.refs=K,this.updater=le||U}var re=Q.prototype=new X;re.constructor=Q,z(re,N.prototype),re.isPureReactComponent=!0;var de=Array.isArray,ae={H:null,A:null,T:null,S:null,V:null},oe=Object.prototype.hasOwnProperty;function D(M,Z,le,ne,W,me){return le=me.ref,{$$typeof:r,type:M,key:Z,ref:le!==void 0?le:null,props:me}}function S(M,Z){return D(M.type,Z,void 0,void 0,void 0,M.props)}function x(M){return typeof M=="object"&&M!==null&&M.$$typeof===r}function k(M){var Z={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(le){return Z[le]})}var P=/\/+/g;function L(M,Z){return typeof M=="object"&&M!==null&&M.key!=null?k(""+M.key):Z.toString(36)}function I(){}function Pe(M){switch(M.status){case"fulfilled":return M.value;case"rejected":throw M.reason;default:switch(typeof M.status=="string"?M.then(I,I):(M.status="pending",M.then(function(Z){M.status==="pending"&&(M.status="fulfilled",M.value=Z)},function(Z){M.status==="pending"&&(M.status="rejected",M.reason=Z)})),M.status){case"fulfilled":return M.value;case"rejected":throw M.reason}}throw M}function Ee(M,Z,le,ne,W){var me=typeof M;(me==="undefined"||me==="boolean")&&(M=null);var fe=!1;if(M===null)fe=!0;else switch(me){case"bigint":case"string":case"number":fe=!0;break;case"object":switch(M.$$typeof){case r:case e:fe=!0;break;case _:return fe=M._init,Ee(fe(M._payload),Z,le,ne,W)}}if(fe)return W=W(M),fe=ne===""?"."+L(M,0):ne,de(W)?(le="",fe!=null&&(le=fe.replace(P,"$&/")+"/"),Ee(W,Z,le,"",function(Ye){return Ye})):W!=null&&(x(W)&&(W=S(W,le+(W.key==null||M&&M.key===W.key?"":(""+W.key).replace(P,"$&/")+"/")+fe)),Z.push(W)),1;fe=0;var we=ne===""?".":ne+":";if(de(M))for(var De=0;De<M.length;De++)ne=M[De],me=we+L(ne,De),fe+=Ee(ne,Z,le,me,W);else if(De=R(M),typeof De=="function")for(M=De.call(M),De=0;!(ne=M.next()).done;)ne=ne.value,me=we+L(ne,De++),fe+=Ee(ne,Z,le,me,W);else if(me==="object"){if(typeof M.then=="function")return Ee(Pe(M),Z,le,ne,W);throw Z=String(M),Error("Objects are not valid as a React child (found: "+(Z==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":Z)+"). If you meant to render a collection of children, use an array instead.")}return fe}function F(M,Z,le){if(M==null)return M;var ne=[],W=0;return Ee(M,ne,"","",function(me){return Z.call(le,me,W++)}),ne}function ce(M){if(M._status===-1){var Z=M._result;Z=Z(),Z.then(function(le){(M._status===0||M._status===-1)&&(M._status=1,M._result=le)},function(le){(M._status===0||M._status===-1)&&(M._status=2,M._result=le)}),M._status===-1&&(M._status=0,M._result=Z)}if(M._status===1)return M._result.default;throw M._result}var se=typeof reportError=="function"?reportError:function(M){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Z=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof M=="object"&&M!==null&&typeof M.message=="string"?String(M.message):String(M),error:M});if(!window.dispatchEvent(Z))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",M);return}console.error(M)};function Oe(){}return Ne.Children={map:F,forEach:function(M,Z,le){F(M,function(){Z.apply(this,arguments)},le)},count:function(M){var Z=0;return F(M,function(){Z++}),Z},toArray:function(M){return F(M,function(Z){return Z})||[]},only:function(M){if(!x(M))throw Error("React.Children.only expected to receive a single React element child.");return M}},Ne.Component=N,Ne.Fragment=n,Ne.Profiler=o,Ne.PureComponent=Q,Ne.StrictMode=s,Ne.Suspense=p,Ne.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ae,Ne.__COMPILER_RUNTIME={__proto__:null,c:function(M){return ae.H.useMemoCache(M)}},Ne.cache=function(M){return function(){return M.apply(null,arguments)}},Ne.cloneElement=function(M,Z,le){if(M==null)throw Error("The argument must be a React element, but you passed "+M+".");var ne=z({},M.props),W=M.key,me=void 0;if(Z!=null)for(fe in Z.ref!==void 0&&(me=void 0),Z.key!==void 0&&(W=""+Z.key),Z)!oe.call(Z,fe)||fe==="key"||fe==="__self"||fe==="__source"||fe==="ref"&&Z.ref===void 0||(ne[fe]=Z[fe]);var fe=arguments.length-2;if(fe===1)ne.children=le;else if(1<fe){for(var we=Array(fe),De=0;De<fe;De++)we[De]=arguments[De+2];ne.children=we}return D(M.type,W,void 0,void 0,me,ne)},Ne.createContext=function(M){return M={$$typeof:f,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null},M.Provider=M,M.Consumer={$$typeof:u,_context:M},M},Ne.createElement=function(M,Z,le){var ne,W={},me=null;if(Z!=null)for(ne in Z.key!==void 0&&(me=""+Z.key),Z)oe.call(Z,ne)&&ne!=="key"&&ne!=="__self"&&ne!=="__source"&&(W[ne]=Z[ne]);var fe=arguments.length-2;if(fe===1)W.children=le;else if(1<fe){for(var we=Array(fe),De=0;De<fe;De++)we[De]=arguments[De+2];W.children=we}if(M&&M.defaultProps)for(ne in fe=M.defaultProps,fe)W[ne]===void 0&&(W[ne]=fe[ne]);return D(M,me,void 0,void 0,null,W)},Ne.createRef=function(){return{current:null}},Ne.forwardRef=function(M){return{$$typeof:m,render:M}},Ne.isValidElement=x,Ne.lazy=function(M){return{$$typeof:_,_payload:{_status:-1,_result:M},_init:ce}},Ne.memo=function(M,Z){return{$$typeof:g,type:M,compare:Z===void 0?null:Z}},Ne.startTransition=function(M){var Z=ae.T,le={};ae.T=le;try{var ne=M(),W=ae.S;W!==null&&W(le,ne),typeof ne=="object"&&ne!==null&&typeof ne.then=="function"&&ne.then(Oe,se)}catch(me){se(me)}finally{ae.T=Z}},Ne.unstable_useCacheRefresh=function(){return ae.H.useCacheRefresh()},Ne.use=function(M){return ae.H.use(M)},Ne.useActionState=function(M,Z,le){return ae.H.useActionState(M,Z,le)},Ne.useCallback=function(M,Z){return ae.H.useCallback(M,Z)},Ne.useContext=function(M){return ae.H.useContext(M)},Ne.useDebugValue=function(){},Ne.useDeferredValue=function(M,Z){return ae.H.useDeferredValue(M,Z)},Ne.useEffect=function(M,Z,le){var ne=ae.H;if(typeof le=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return ne.useEffect(M,Z)},Ne.useId=function(){return ae.H.useId()},Ne.useImperativeHandle=function(M,Z,le){return ae.H.useImperativeHandle(M,Z,le)},Ne.useInsertionEffect=function(M,Z){return ae.H.useInsertionEffect(M,Z)},Ne.useLayoutEffect=function(M,Z){return ae.H.useLayoutEffect(M,Z)},Ne.useMemo=function(M,Z){return ae.H.useMemo(M,Z)},Ne.useOptimistic=function(M,Z){return ae.H.useOptimistic(M,Z)},Ne.useReducer=function(M,Z,le){return ae.H.useReducer(M,Z,le)},Ne.useRef=function(M){return ae.H.useRef(M)},Ne.useState=function(M){return ae.H.useState(M)},Ne.useSyncExternalStore=function(M,Z,le){return ae.H.useSyncExternalStore(M,Z,le)},Ne.useTransition=function(){return ae.H.useTransition()},Ne.version="19.1.1",Ne}var z_;function Rp(){return z_||(z_=1,vm.exports=DA()),vm.exports}var C=Rp();const Xs=IA(C);var _m={exports:{}},Hl={},Em={exports:{}},bm={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var B_;function kA(){return B_||(B_=1,(function(r){function e(F,ce){var se=F.length;F.push(ce);e:for(;0<se;){var Oe=se-1>>>1,M=F[Oe];if(0<o(M,ce))F[Oe]=ce,F[se]=M,se=Oe;else break e}}function n(F){return F.length===0?null:F[0]}function s(F){if(F.length===0)return null;var ce=F[0],se=F.pop();if(se!==ce){F[0]=se;e:for(var Oe=0,M=F.length,Z=M>>>1;Oe<Z;){var le=2*(Oe+1)-1,ne=F[le],W=le+1,me=F[W];if(0>o(ne,se))W<M&&0>o(me,ne)?(F[Oe]=me,F[W]=se,Oe=W):(F[Oe]=ne,F[le]=se,Oe=le);else if(W<M&&0>o(me,se))F[Oe]=me,F[W]=se,Oe=W;else break e}}return ce}function o(F,ce){var se=F.sortIndex-ce.sortIndex;return se!==0?se:F.id-ce.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var f=Date,m=f.now();r.unstable_now=function(){return f.now()-m}}var p=[],g=[],_=1,T=null,R=3,U=!1,z=!1,K=!1,N=!1,X=typeof setTimeout=="function"?setTimeout:null,Q=typeof clearTimeout=="function"?clearTimeout:null,re=typeof setImmediate<"u"?setImmediate:null;function de(F){for(var ce=n(g);ce!==null;){if(ce.callback===null)s(g);else if(ce.startTime<=F)s(g),ce.sortIndex=ce.expirationTime,e(p,ce);else break;ce=n(g)}}function ae(F){if(K=!1,de(F),!z)if(n(p)!==null)z=!0,oe||(oe=!0,L());else{var ce=n(g);ce!==null&&Ee(ae,ce.startTime-F)}}var oe=!1,D=-1,S=5,x=-1;function k(){return N?!0:!(r.unstable_now()-x<S)}function P(){if(N=!1,oe){var F=r.unstable_now();x=F;var ce=!0;try{e:{z=!1,K&&(K=!1,Q(D),D=-1),U=!0;var se=R;try{t:{for(de(F),T=n(p);T!==null&&!(T.expirationTime>F&&k());){var Oe=T.callback;if(typeof Oe=="function"){T.callback=null,R=T.priorityLevel;var M=Oe(T.expirationTime<=F);if(F=r.unstable_now(),typeof M=="function"){T.callback=M,de(F),ce=!0;break t}T===n(p)&&s(p),de(F)}else s(p);T=n(p)}if(T!==null)ce=!0;else{var Z=n(g);Z!==null&&Ee(ae,Z.startTime-F),ce=!1}}break e}finally{T=null,R=se,U=!1}ce=void 0}}finally{ce?L():oe=!1}}}var L;if(typeof re=="function")L=function(){re(P)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,Pe=I.port2;I.port1.onmessage=P,L=function(){Pe.postMessage(null)}}else L=function(){X(P,0)};function Ee(F,ce){D=X(function(){F(r.unstable_now())},ce)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(F){F.callback=null},r.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<F?Math.floor(1e3/F):5},r.unstable_getCurrentPriorityLevel=function(){return R},r.unstable_next=function(F){switch(R){case 1:case 2:case 3:var ce=3;break;default:ce=R}var se=R;R=ce;try{return F()}finally{R=se}},r.unstable_requestPaint=function(){N=!0},r.unstable_runWithPriority=function(F,ce){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var se=R;R=F;try{return ce()}finally{R=se}},r.unstable_scheduleCallback=function(F,ce,se){var Oe=r.unstable_now();switch(typeof se=="object"&&se!==null?(se=se.delay,se=typeof se=="number"&&0<se?Oe+se:Oe):se=Oe,F){case 1:var M=-1;break;case 2:M=250;break;case 5:M=1073741823;break;case 4:M=1e4;break;default:M=5e3}return M=se+M,F={id:_++,callback:ce,priorityLevel:F,startTime:se,expirationTime:M,sortIndex:-1},se>Oe?(F.sortIndex=se,e(g,F),n(p)===null&&F===n(g)&&(K?(Q(D),D=-1):K=!0,Ee(ae,se-Oe))):(F.sortIndex=M,e(p,F),z||U||(z=!0,oe||(oe=!0,L()))),F},r.unstable_shouldYield=k,r.unstable_wrapCallback=function(F){var ce=R;return function(){var se=R;R=ce;try{return F.apply(this,arguments)}finally{R=se}}}})(bm)),bm}var q_;function MA(){return q_||(q_=1,Em.exports=kA()),Em.exports}var wm={exports:{}},Zt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var H_;function PA(){if(H_)return Zt;H_=1;var r=Rp();function e(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var _=2;_<arguments.length;_++)g+="&args[]="+encodeURIComponent(arguments[_])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,g,_){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:T==null?null:""+T,children:p,containerInfo:g,implementation:_}}var f=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return Zt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Zt.createPortal=function(p,g){var _=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return u(p,g,null,_)},Zt.flushSync=function(p){var g=f.T,_=s.p;try{if(f.T=null,s.p=2,p)return p()}finally{f.T=g,s.p=_,s.d.f()}},Zt.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(p,g))},Zt.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},Zt.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var _=g.as,T=m(_,g.crossOrigin),R=typeof g.integrity=="string"?g.integrity:void 0,U=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;_==="style"?s.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:T,integrity:R,fetchPriority:U}):_==="script"&&s.d.X(p,{crossOrigin:T,integrity:R,fetchPriority:U,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},Zt.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var _=m(g.as,g.crossOrigin);s.d.M(p,{crossOrigin:_,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(p)},Zt.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var _=g.as,T=m(_,g.crossOrigin);s.d.L(p,_,{crossOrigin:T,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},Zt.preloadModule=function(p,g){if(typeof p=="string")if(g){var _=m(g.as,g.crossOrigin);s.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:_,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(p)},Zt.requestFormReset=function(p){s.d.r(p)},Zt.unstable_batchedUpdates=function(p,g){return p(g)},Zt.useFormState=function(p,g,_){return f.H.useFormState(p,g,_)},Zt.useFormStatus=function(){return f.H.useHostTransitionStatus()},Zt.version="19.1.1",Zt}var F_;function VA(){if(F_)return wm.exports;F_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),wm.exports=PA(),wm.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var G_;function LA(){if(G_)return Hl;G_=1;var r=MA(),e=Rp(),n=VA();function s(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var i=t,a=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(a=i.return),t=i.return;while(t)}return i.tag===3?a:null}function f(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function m(t){if(u(t)!==t)throw Error(s(188))}function p(t){var i=t.alternate;if(!i){if(i=u(t),i===null)throw Error(s(188));return i!==t?null:t}for(var a=t,l=i;;){var h=a.return;if(h===null)break;var d=h.alternate;if(d===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===a)return m(h),t;if(d===l)return m(h),i;d=d.sibling}throw Error(s(188))}if(a.return!==l.return)a=h,l=d;else{for(var E=!1,b=h.child;b;){if(b===a){E=!0,a=h,l=d;break}if(b===l){E=!0,l=h,a=d;break}b=b.sibling}if(!E){for(b=d.child;b;){if(b===a){E=!0,a=d,l=h;break}if(b===l){E=!0,l=d,a=h;break}b=b.sibling}if(!E)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:i}function g(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=g(t),i!==null)return i;t=t.sibling}return null}var _=Object.assign,T=Symbol.for("react.element"),R=Symbol.for("react.transitional.element"),U=Symbol.for("react.portal"),z=Symbol.for("react.fragment"),K=Symbol.for("react.strict_mode"),N=Symbol.for("react.profiler"),X=Symbol.for("react.provider"),Q=Symbol.for("react.consumer"),re=Symbol.for("react.context"),de=Symbol.for("react.forward_ref"),ae=Symbol.for("react.suspense"),oe=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),x=Symbol.for("react.activity"),k=Symbol.for("react.memo_cache_sentinel"),P=Symbol.iterator;function L(t){return t===null||typeof t!="object"?null:(t=P&&t[P]||t["@@iterator"],typeof t=="function"?t:null)}var I=Symbol.for("react.client.reference");function Pe(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===I?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case z:return"Fragment";case N:return"Profiler";case K:return"StrictMode";case ae:return"Suspense";case oe:return"SuspenseList";case x:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case U:return"Portal";case re:return(t.displayName||"Context")+".Provider";case Q:return(t._context.displayName||"Context")+".Consumer";case de:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case D:return i=t.displayName||null,i!==null?i:Pe(t.type)||"Memo";case S:i=t._payload,t=t._init;try{return Pe(t(i))}catch{}}return null}var Ee=Array.isArray,F=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ce=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,se={pending:!1,data:null,method:null,action:null},Oe=[],M=-1;function Z(t){return{current:t}}function le(t){0>M||(t.current=Oe[M],Oe[M]=null,M--)}function ne(t,i){M++,Oe[M]=t.current,t.current=i}var W=Z(null),me=Z(null),fe=Z(null),we=Z(null);function De(t,i){switch(ne(fe,i),ne(me,t),ne(W,null),i.nodeType){case 9:case 11:t=(t=i.documentElement)&&(t=t.namespaceURI)?h_(t):0;break;default:if(t=i.tagName,i=i.namespaceURI)i=h_(i),t=f_(i,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}le(W),ne(W,t)}function Ye(){le(W),le(me),le(fe)}function qt(t){t.memoizedState!==null&&ne(we,t);var i=W.current,a=f_(i,t.type);i!==a&&(ne(me,t),ne(W,a))}function gn(t){me.current===t&&(le(W),le(me)),we.current===t&&(le(we),Ll._currentValue=se)}var xn=Object.prototype.hasOwnProperty,cs=r.unstable_scheduleCallback,hs=r.unstable_cancelCallback,Mo=r.unstable_shouldYield,Iu=r.unstable_requestPaint,Cn=r.unstable_now,yf=r.unstable_getCurrentPriorityLevel,Po=r.unstable_ImmediatePriority,oa=r.unstable_UserBlockingPriority,fs=r.unstable_NormalPriority,vf=r.unstable_LowPriority,la=r.unstable_IdlePriority,Vo=r.log,Nu=r.unstable_setDisableYieldValue,dt=null,We=null;function yn(t){if(typeof Vo=="function"&&Nu(t),We&&typeof We.setStrictMode=="function")try{We.setStrictMode(dt,t)}catch{}}var Xt=Math.clz32?Math.clz32:ds,Ou=Math.log,_f=Math.LN2;function ds(t){return t>>>=0,t===0?32:31-(Ou(t)/_f|0)|0}var ms=256,ps=4194304;function Hn(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function ua(t,i,a){var l=t.pendingLanes;if(l===0)return 0;var h=0,d=t.suspendedLanes,E=t.pingedLanes;t=t.warmLanes;var b=l&134217727;return b!==0?(l=b&~d,l!==0?h=Hn(l):(E&=b,E!==0?h=Hn(E):a||(a=b&~t,a!==0&&(h=Hn(a))))):(b=l&~d,b!==0?h=Hn(b):E!==0?h=Hn(E):a||(a=l&~t,a!==0&&(h=Hn(a)))),h===0?0:i!==0&&i!==h&&(i&d)===0&&(d=h&-h,a=i&-i,d>=a||d===32&&(a&4194048)!==0)?i:h}function gs(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function Lo(t,i){switch(t){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Uo(){var t=ms;return ms<<=1,(ms&4194048)===0&&(ms=256),t}function jo(){var t=ps;return ps<<=1,(ps&62914560)===0&&(ps=4194304),t}function Nr(t){for(var i=[],a=0;31>a;a++)i.push(t);return i}function Or(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function zo(t,i,a,l,h,d){var E=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var b=t.entanglements,O=t.expirationTimes,H=t.hiddenUpdates;for(a=E&~a;0<a;){var J=31-Xt(a),te=1<<J;b[J]=0,O[J]=-1;var G=H[J];if(G!==null)for(H[J]=null,J=0;J<G.length;J++){var $=G[J];$!==null&&($.lane&=-536870913)}a&=~te}l!==0&&nr(t,l,0),d!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=d&~(E&~i))}function nr(t,i,a){t.pendingLanes|=i,t.suspendedLanes&=~i;var l=31-Xt(i);t.entangledLanes|=i,t.entanglements[l]=t.entanglements[l]|1073741824|a&4194090}function Bo(t,i){var a=t.entangledLanes|=i;for(t=t.entanglements;a;){var l=31-Xt(a),h=1<<l;h&i|t[l]&i&&(t[l]|=i),a&=~h}}function fi(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function ca(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function di(){var t=ce.p;return t!==0?t:(t=window.event,t===void 0?32:O_(t.type))}function Du(t,i){var a=ce.p;try{return ce.p=t,i()}finally{ce.p=a}}var at=Math.random().toString(36).slice(2),It="__reactFiber$"+at,wt="__reactProps$"+at,In="__reactContainer$"+at,qo="__reactEvents$"+at,Ef="__reactListeners$"+at,mi="__reactHandles$"+at,ku="__reactResources$"+at,ys="__reactMarker$"+at;function pi(t){delete t[It],delete t[wt],delete t[qo],delete t[Ef],delete t[mi]}function Dr(t){var i=t[It];if(i)return i;for(var a=t.parentNode;a;){if(i=a[In]||a[It]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(t=g_(t);t!==null;){if(a=t[It])return a;t=g_(t)}return i}t=a,a=t.parentNode}return null}function rr(t){if(t=t[It]||t[In]){var i=t.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return t}return null}function ir(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(s(33))}function on(t){var i=t[ku];return i||(i=t[ku]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function yt(t){t[ys]=!0}var Ho=new Set,ha={};function Fn(t,i){kr(t,i),kr(t+"Capture",i)}function kr(t,i){for(ha[t]=i,t=0;t<i.length;t++)Ho.add(i[t])}var Mu=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Pu={},vs={};function Vu(t){return xn.call(vs,t)?!0:xn.call(Pu,t)?!1:Mu.test(t)?vs[t]=!0:(Pu[t]=!0,!1)}function gi(t,i,a){if(Vu(i))if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+a)}}function sr(t,i,a){if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+a)}}function Ht(t,i,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(i,a,""+l)}}var _s,Lu;function Mr(t){if(_s===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);_s=i&&i[1]||"",Lu=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+_s+t+Lu}var fa=!1;function da(t,i){if(!t||fa)return"";fa=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var te=function(){throw Error()};if(Object.defineProperty(te.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(te,[])}catch($){var G=$}Reflect.construct(t,[],te)}else{try{te.call()}catch($){G=$}t.call(te.prototype)}}else{try{throw Error()}catch($){G=$}(te=t())&&typeof te.catch=="function"&&te.catch(function(){})}}catch($){if($&&G&&typeof $.stack=="string")return[$.stack,G.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),E=d[0],b=d[1];if(E&&b){var O=E.split(`
`),H=b.split(`
`);for(h=l=0;l<O.length&&!O[l].includes("DetermineComponentFrameRoot");)l++;for(;h<H.length&&!H[h].includes("DetermineComponentFrameRoot");)h++;if(l===O.length||h===H.length)for(l=O.length-1,h=H.length-1;1<=l&&0<=h&&O[l]!==H[h];)h--;for(;1<=l&&0<=h;l--,h--)if(O[l]!==H[h]){if(l!==1||h!==1)do if(l--,h--,0>h||O[l]!==H[h]){var J=`
`+O[l].replace(" at new "," at ");return t.displayName&&J.includes("<anonymous>")&&(J=J.replace("<anonymous>",t.displayName)),J}while(1<=l&&0<=h);break}}}finally{fa=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?Mr(a):""}function Fo(t){switch(t.tag){case 26:case 27:case 5:return Mr(t.type);case 16:return Mr("Lazy");case 13:return Mr("Suspense");case 19:return Mr("SuspenseList");case 0:case 15:return da(t.type,!1);case 11:return da(t.type.render,!1);case 1:return da(t.type,!0);case 31:return Mr("Activity");default:return""}}function ma(t){try{var i="";do i+=Fo(t),t=t.return;while(t);return i}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function ln(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Go(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function bf(t){var i=Go(t)?"checked":"value",a=Object.getOwnPropertyDescriptor(t.constructor.prototype,i),l=""+t[i];if(!t.hasOwnProperty(i)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var h=a.get,d=a.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return h.call(this)},set:function(E){l=""+E,d.call(this,E)}}),Object.defineProperty(t,i,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(E){l=""+E},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function pa(t){t._valueTracker||(t._valueTracker=bf(t))}function $o(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var a=i.getValue(),l="";return t&&(l=Go(t)?t.checked?"true":"false":t.value),t=l,t!==a?(i.setValue(t),!0):!1}function Es(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var wf=/[\n"\\]/g;function Tt(t){return t.replace(wf,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function vn(t,i,a,l,h,d,E,b){t.name="",E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.type=E:t.removeAttribute("type"),i!=null?E==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+ln(i)):t.value!==""+ln(i)&&(t.value=""+ln(i)):E!=="submit"&&E!=="reset"||t.removeAttribute("value"),i!=null?yi(t,E,ln(i)):a!=null?yi(t,E,ln(a)):l!=null&&t.removeAttribute("value"),h==null&&d!=null&&(t.defaultChecked=!!d),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?t.name=""+ln(b):t.removeAttribute("name")}function bs(t,i,a,l,h,d,E,b){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),i!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||i!=null))return;a=a!=null?""+ln(a):"",i=i!=null?""+ln(i):a,b||i===t.value||(t.value=i),t.defaultValue=i}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=b?t.checked:!!l,t.defaultChecked=!!l,E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(t.name=E)}function yi(t,i,a){i==="number"&&Es(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function Pr(t,i,a,l){if(t=t.options,i){i={};for(var h=0;h<a.length;h++)i["$"+a[h]]=!0;for(a=0;a<t.length;a++)h=i.hasOwnProperty("$"+t[a].value),t[a].selected!==h&&(t[a].selected=h),h&&l&&(t[a].defaultSelected=!0)}else{for(a=""+ln(a),i=null,h=0;h<t.length;h++){if(t[h].value===a){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}i!==null||t[h].disabled||(i=t[h])}i!==null&&(i.selected=!0)}}function et(t,i,a){if(i!=null&&(i=""+ln(i),i!==t.value&&(t.value=i),a==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=a!=null?""+ln(a):""}function ws(t,i,a,l){if(i==null){if(l!=null){if(a!=null)throw Error(s(92));if(Ee(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),i=a}a=ln(i),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l)}function Nn(t,i){if(i){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=i;return}}t.textContent=i}var Ts=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Uu(t,i,a){var l=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":l?t.setProperty(i,a):typeof a!="number"||a===0||Ts.has(i)?i==="float"?t.cssFloat=a:t[i]=(""+a).trim():t[i]=a+"px"}function Ko(t,i,a){if(i!=null&&typeof i!="object")throw Error(s(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in i)l=i[h],i.hasOwnProperty(h)&&a[h]!==l&&Uu(t,h,l)}else for(var d in i)i.hasOwnProperty(d)&&Uu(t,d,i[d])}function Yo(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Tf=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Af=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ga(t){return Af.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var Vr=null;function On(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Lr=null,Ur=null;function Qo(t){var i=rr(t);if(i&&(t=i.stateNode)){var a=t[wt]||null;e:switch(t=i.stateNode,i.type){case"input":if(vn(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Tt(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var l=a[i];if(l!==t&&l.form===t.form){var h=l[wt]||null;if(!h)throw Error(s(90));vn(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<a.length;i++)l=a[i],l.form===t.form&&$o(l)}break e;case"textarea":et(t,a.value,a.defaultValue);break e;case"select":i=a.value,i!=null&&Pr(t,!!a.multiple,i,!1)}}}var ar=!1;function ju(t,i,a){if(ar)return t(i,a);ar=!0;try{var l=t(i);return l}finally{if(ar=!1,(Lr!==null||Ur!==null)&&(Dc(),Lr&&(i=Lr,t=Ur,Ur=Lr=null,Qo(i),t)))for(i=0;i<t.length;i++)Qo(t[i])}}function As(t,i){var a=t.stateNode;if(a===null)return null;var l=a[wt]||null;if(l===null)return null;a=l[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,i,typeof a));return a}var Gn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Dn=!1;if(Gn)try{var Ss={};Object.defineProperty(Ss,"passive",{get:function(){Dn=!0}}),window.addEventListener("test",Ss,Ss),window.removeEventListener("test",Ss,Ss)}catch{Dn=!1}var or=null,vi=null,jr=null;function Xo(){if(jr)return jr;var t,i=vi,a=i.length,l,h="value"in or?or.value:or.textContent,d=h.length;for(t=0;t<a&&i[t]===h[t];t++);var E=a-t;for(l=1;l<=E&&i[a-l]===h[d-l];l++);return jr=h.slice(t,1<l?1-l:void 0)}function lr(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function ur(){return!0}function Wo(){return!1}function Vt(t){function i(a,l,h,d,E){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=d,this.target=E,this.currentTarget=null;for(var b in t)t.hasOwnProperty(b)&&(a=t[b],this[b]=a?a(d):d[b]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?ur:Wo,this.isPropagationStopped=Wo,this}return _(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=ur)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=ur)},persist:function(){},isPersistent:ur}),i}var Xe={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ya=Vt(Xe),Rs=_({},Xe,{view:0,detail:0}),zu=Vt(Rs),va,_a,cr,xs=_({},Rs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ns,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==cr&&(cr&&t.type==="mousemove"?(va=t.screenX-cr.screenX,_a=t.screenY-cr.screenY):_a=va=0,cr=t),va)},movementY:function(t){return"movementY"in t?t.movementY:_a}}),kn=Vt(xs),Bu=_({},xs,{dataTransfer:0}),Sf=Vt(Bu),Cs=_({},Rs,{relatedTarget:0}),Ea=Vt(Cs),Zo=_({},Xe,{animationName:0,elapsedTime:0,pseudoElement:0}),ba=Vt(Zo),qu=_({},Xe,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),wa=Vt(qu),Rf=_({},Xe,{data:0}),Jo=Vt(Rf),Is={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Hu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Fu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function el(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=Fu[t])?!!i[t]:!1}function Ns(){return el}var Gu=_({},Rs,{key:function(t){if(t.key){var i=Is[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=lr(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Hu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ns,charCode:function(t){return t.type==="keypress"?lr(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?lr(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Ta=Vt(Gu),$u=_({},xs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),tl=Vt($u),zr=_({},Rs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ns}),Ku=Vt(zr),Yu=_({},Xe,{propertyName:0,elapsedTime:0,pseudoElement:0}),Qu=Vt(Yu),Xu=_({},xs,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Aa=Vt(Xu),un=_({},Xe,{newState:0,oldState:0}),Wu=Vt(un),Zu=[9,13,27,32],hr=Gn&&"CompositionEvent"in window,c=null;Gn&&"documentMode"in document&&(c=document.documentMode);var y=Gn&&"TextEvent"in window&&!c,v=Gn&&(!hr||c&&8<c&&11>=c),A=" ",B=!1;function Y(t,i){switch(t){case"keyup":return Zu.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function he(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Be=!1;function Nt(t,i){switch(t){case"compositionend":return he(i);case"keypress":return i.which!==32?null:(B=!0,A);case"textInput":return t=i.data,t===A&&B?null:t;default:return null}}function qe(t,i){if(Be)return t==="compositionend"||!hr&&Y(t,i)?(t=Xo(),jr=vi=or=null,Be=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return v&&i.locale!=="ko"?null:i.data;default:return null}}var Lt={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ot(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!Lt[t.type]:i==="textarea"}function Br(t,i,a,l){Lr?Ur?Ur.push(l):Ur=[l]:Lr=l,i=Uc(i,"onChange"),0<i.length&&(a=new ya("onChange","change",null,a,l),t.push({event:a,listeners:i}))}var Ft=null,fr=null;function nl(t){a_(t,0)}function Ju(t){var i=ir(t);if($o(i))return t}function xg(t,i){if(t==="change")return i}var Cg=!1;if(Gn){var xf;if(Gn){var Cf="oninput"in document;if(!Cf){var Ig=document.createElement("div");Ig.setAttribute("oninput","return;"),Cf=typeof Ig.oninput=="function"}xf=Cf}else xf=!1;Cg=xf&&(!document.documentMode||9<document.documentMode)}function Ng(){Ft&&(Ft.detachEvent("onpropertychange",Og),fr=Ft=null)}function Og(t){if(t.propertyName==="value"&&Ju(fr)){var i=[];Br(i,fr,t,On(t)),ju(nl,i)}}function s1(t,i,a){t==="focusin"?(Ng(),Ft=i,fr=a,Ft.attachEvent("onpropertychange",Og)):t==="focusout"&&Ng()}function a1(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Ju(fr)}function o1(t,i){if(t==="click")return Ju(i)}function l1(t,i){if(t==="input"||t==="change")return Ju(i)}function u1(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var _n=typeof Object.is=="function"?Object.is:u1;function rl(t,i){if(_n(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var a=Object.keys(t),l=Object.keys(i);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!xn.call(i,h)||!_n(t[h],i[h]))return!1}return!0}function Dg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function kg(t,i){var a=Dg(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=i&&l>=i)return{node:a,offset:i-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Dg(a)}}function Mg(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?Mg(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function Pg(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=Es(t.document);i instanceof t.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)t=i.contentWindow;else break;i=Es(t.document)}return i}function If(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}var c1=Gn&&"documentMode"in document&&11>=document.documentMode,Sa=null,Nf=null,il=null,Of=!1;function Vg(t,i,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Of||Sa==null||Sa!==Es(l)||(l=Sa,"selectionStart"in l&&If(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),il&&rl(il,l)||(il=l,l=Uc(Nf,"onSelect"),0<l.length&&(i=new ya("onSelect","select",null,i,a),t.push({event:i,listeners:l}),i.target=Sa)))}function Os(t,i){var a={};return a[t.toLowerCase()]=i.toLowerCase(),a["Webkit"+t]="webkit"+i,a["Moz"+t]="moz"+i,a}var Ra={animationend:Os("Animation","AnimationEnd"),animationiteration:Os("Animation","AnimationIteration"),animationstart:Os("Animation","AnimationStart"),transitionrun:Os("Transition","TransitionRun"),transitionstart:Os("Transition","TransitionStart"),transitioncancel:Os("Transition","TransitionCancel"),transitionend:Os("Transition","TransitionEnd")},Df={},Lg={};Gn&&(Lg=document.createElement("div").style,"AnimationEvent"in window||(delete Ra.animationend.animation,delete Ra.animationiteration.animation,delete Ra.animationstart.animation),"TransitionEvent"in window||delete Ra.transitionend.transition);function Ds(t){if(Df[t])return Df[t];if(!Ra[t])return t;var i=Ra[t],a;for(a in i)if(i.hasOwnProperty(a)&&a in Lg)return Df[t]=i[a];return t}var Ug=Ds("animationend"),jg=Ds("animationiteration"),zg=Ds("animationstart"),h1=Ds("transitionrun"),f1=Ds("transitionstart"),d1=Ds("transitioncancel"),Bg=Ds("transitionend"),qg=new Map,kf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");kf.push("scrollEnd");function $n(t,i){qg.set(t,i),Fn(i,[t])}var Hg=new WeakMap;function Mn(t,i){if(typeof t=="object"&&t!==null){var a=Hg.get(t);return a!==void 0?a:(i={value:t,source:i,stack:ma(i)},Hg.set(t,i),i)}return{value:t,source:i,stack:ma(i)}}var Pn=[],xa=0,Mf=0;function ec(){for(var t=xa,i=Mf=xa=0;i<t;){var a=Pn[i];Pn[i++]=null;var l=Pn[i];Pn[i++]=null;var h=Pn[i];Pn[i++]=null;var d=Pn[i];if(Pn[i++]=null,l!==null&&h!==null){var E=l.pending;E===null?h.next=h:(h.next=E.next,E.next=h),l.pending=h}d!==0&&Fg(a,h,d)}}function tc(t,i,a,l){Pn[xa++]=t,Pn[xa++]=i,Pn[xa++]=a,Pn[xa++]=l,Mf|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Pf(t,i,a,l){return tc(t,i,a,l),nc(t)}function Ca(t,i){return tc(t,null,null,i),nc(t)}function Fg(t,i,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var h=!1,d=t.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(h=!0)),t=d,d=d.return;return t.tag===3?(d=t.stateNode,h&&i!==null&&(h=31-Xt(a),t=d.hiddenUpdates,l=t[h],l===null?t[h]=[i]:l.push(i),i.lane=a|536870912),d):null}function nc(t){if(50<Il)throw Il=0,Bd=null,Error(s(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var Ia={};function m1(t,i,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function En(t,i,a,l){return new m1(t,i,a,l)}function Vf(t){return t=t.prototype,!(!t||!t.isReactComponent)}function qr(t,i){var a=t.alternate;return a===null?(a=En(t.tag,i,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=i,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,i=t.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function Gg(t,i){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,i=a.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function rc(t,i,a,l,h,d){var E=0;if(l=t,typeof t=="function")Vf(t)&&(E=1);else if(typeof t=="string")E=gA(t,a,W.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case x:return t=En(31,a,i,h),t.elementType=x,t.lanes=d,t;case z:return ks(a.children,h,d,i);case K:E=8,h|=24;break;case N:return t=En(12,a,i,h|2),t.elementType=N,t.lanes=d,t;case ae:return t=En(13,a,i,h),t.elementType=ae,t.lanes=d,t;case oe:return t=En(19,a,i,h),t.elementType=oe,t.lanes=d,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case X:case re:E=10;break e;case Q:E=9;break e;case de:E=11;break e;case D:E=14;break e;case S:E=16,l=null;break e}E=29,a=Error(s(130,t===null?"null":typeof t,"")),l=null}return i=En(E,a,i,h),i.elementType=t,i.type=l,i.lanes=d,i}function ks(t,i,a,l){return t=En(7,t,l,i),t.lanes=a,t}function Lf(t,i,a){return t=En(6,t,null,i),t.lanes=a,t}function Uf(t,i,a){return i=En(4,t.children!==null?t.children:[],t.key,i),i.lanes=a,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}var Na=[],Oa=0,ic=null,sc=0,Vn=[],Ln=0,Ms=null,Hr=1,Fr="";function Ps(t,i){Na[Oa++]=sc,Na[Oa++]=ic,ic=t,sc=i}function $g(t,i,a){Vn[Ln++]=Hr,Vn[Ln++]=Fr,Vn[Ln++]=Ms,Ms=t;var l=Hr;t=Fr;var h=32-Xt(l)-1;l&=~(1<<h),a+=1;var d=32-Xt(i)+h;if(30<d){var E=h-h%5;d=(l&(1<<E)-1).toString(32),l>>=E,h-=E,Hr=1<<32-Xt(i)+h|a<<h|l,Fr=d+t}else Hr=1<<d|a<<h|l,Fr=t}function jf(t){t.return!==null&&(Ps(t,1),$g(t,1,0))}function zf(t){for(;t===ic;)ic=Na[--Oa],Na[Oa]=null,sc=Na[--Oa],Na[Oa]=null;for(;t===Ms;)Ms=Vn[--Ln],Vn[Ln]=null,Fr=Vn[--Ln],Vn[Ln]=null,Hr=Vn[--Ln],Vn[Ln]=null}var cn=null,mt=null,Qe=!1,Vs=null,dr=!1,Bf=Error(s(519));function Ls(t){var i=Error(s(418,""));throw ol(Mn(i,t)),Bf}function Kg(t){var i=t.stateNode,a=t.type,l=t.memoizedProps;switch(i[It]=t,i[wt]=l,a){case"dialog":Ue("cancel",i),Ue("close",i);break;case"iframe":case"object":case"embed":Ue("load",i);break;case"video":case"audio":for(a=0;a<Ol.length;a++)Ue(Ol[a],i);break;case"source":Ue("error",i);break;case"img":case"image":case"link":Ue("error",i),Ue("load",i);break;case"details":Ue("toggle",i);break;case"input":Ue("invalid",i),bs(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),pa(i);break;case"select":Ue("invalid",i);break;case"textarea":Ue("invalid",i),ws(i,l.value,l.defaultValue,l.children),pa(i)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||l.suppressHydrationWarning===!0||c_(i.textContent,a)?(l.popover!=null&&(Ue("beforetoggle",i),Ue("toggle",i)),l.onScroll!=null&&Ue("scroll",i),l.onScrollEnd!=null&&Ue("scrollend",i),l.onClick!=null&&(i.onclick=jc),i=!0):i=!1,i||Ls(t)}function Yg(t){for(cn=t.return;cn;)switch(cn.tag){case 5:case 13:dr=!1;return;case 27:case 3:dr=!0;return;default:cn=cn.return}}function sl(t){if(t!==cn)return!1;if(!Qe)return Yg(t),Qe=!0,!1;var i=t.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||rm(t.type,t.memoizedProps)),a=!a),a&&mt&&Ls(t),Yg(t),i===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));e:{for(t=t.nextSibling,i=0;t;){if(t.nodeType===8)if(a=t.data,a==="/$"){if(i===0){mt=Yn(t.nextSibling);break e}i--}else a!=="$"&&a!=="$!"&&a!=="$?"||i++;t=t.nextSibling}mt=null}}else i===27?(i=mt,Mi(t.type)?(t=om,om=null,mt=t):mt=i):mt=cn?Yn(t.stateNode.nextSibling):null;return!0}function al(){mt=cn=null,Qe=!1}function Qg(){var t=Vs;return t!==null&&(dn===null?dn=t:dn.push.apply(dn,t),Vs=null),t}function ol(t){Vs===null?Vs=[t]:Vs.push(t)}var qf=Z(null),Us=null,Gr=null;function _i(t,i,a){ne(qf,i._currentValue),i._currentValue=a}function $r(t){t._currentValue=qf.current,le(qf)}function Hf(t,i,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),t===a)break;t=t.return}}function Ff(t,i,a,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var d=h.dependencies;if(d!==null){var E=h.child;d=d.firstContext;e:for(;d!==null;){var b=d;d=h;for(var O=0;O<i.length;O++)if(b.context===i[O]){d.lanes|=a,b=d.alternate,b!==null&&(b.lanes|=a),Hf(d.return,a,t),l||(E=null);break e}d=b.next}}else if(h.tag===18){if(E=h.return,E===null)throw Error(s(341));E.lanes|=a,d=E.alternate,d!==null&&(d.lanes|=a),Hf(E,a,t),E=null}else E=h.child;if(E!==null)E.return=h;else for(E=h;E!==null;){if(E===t){E=null;break}if(h=E.sibling,h!==null){h.return=E.return,E=h;break}E=E.return}h=E}}function ll(t,i,a,l){t=null;for(var h=i,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var E=h.alternate;if(E===null)throw Error(s(387));if(E=E.memoizedProps,E!==null){var b=h.type;_n(h.pendingProps.value,E.value)||(t!==null?t.push(b):t=[b])}}else if(h===we.current){if(E=h.alternate,E===null)throw Error(s(387));E.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(Ll):t=[Ll])}h=h.return}t!==null&&Ff(i,t,a,l),i.flags|=262144}function ac(t){for(t=t.firstContext;t!==null;){if(!_n(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function js(t){Us=t,Gr=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Wt(t){return Xg(Us,t)}function oc(t,i){return Us===null&&js(t),Xg(t,i)}function Xg(t,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},Gr===null){if(t===null)throw Error(s(308));Gr=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else Gr=Gr.next=i;return a}var p1=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){i.aborted=!0,t.forEach(function(a){return a()})}},g1=r.unstable_scheduleCallback,y1=r.unstable_NormalPriority,Dt={$$typeof:re,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Gf(){return{controller:new p1,data:new Map,refCount:0}}function ul(t){t.refCount--,t.refCount===0&&g1(y1,function(){t.controller.abort()})}var cl=null,$f=0,Da=0,ka=null;function v1(t,i){if(cl===null){var a=cl=[];$f=0,Da=Yd(),ka={status:"pending",value:void 0,then:function(l){a.push(l)}}}return $f++,i.then(Wg,Wg),i}function Wg(){if(--$f===0&&cl!==null){ka!==null&&(ka.status="fulfilled");var t=cl;cl=null,Da=0,ka=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function _1(t,i){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return t.then(function(){l.status="fulfilled",l.value=i;for(var h=0;h<a.length;h++)(0,a[h])(i)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var Zg=F.S;F.S=function(t,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&v1(t,i),Zg!==null&&Zg(t,i)};var zs=Z(null);function Kf(){var t=zs.current;return t!==null?t:st.pooledCache}function lc(t,i){i===null?ne(zs,zs.current):ne(zs,i.pool)}function Jg(){var t=Kf();return t===null?null:{parent:Dt._currentValue,pool:t}}var hl=Error(s(460)),ey=Error(s(474)),uc=Error(s(542)),Yf={then:function(){}};function ty(t){return t=t.status,t==="fulfilled"||t==="rejected"}function cc(){}function ny(t,i,a){switch(a=t[a],a===void 0?t.push(i):a!==i&&(i.then(cc,cc),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,iy(t),t;default:if(typeof i.status=="string")i.then(cc,cc);else{if(t=st,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=i,t.status="pending",t.then(function(l){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=l}},function(l){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,iy(t),t}throw fl=i,hl}}var fl=null;function ry(){if(fl===null)throw Error(s(459));var t=fl;return fl=null,t}function iy(t){if(t===hl||t===uc)throw Error(s(483))}var Ei=!1;function Qf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Xf(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function bi(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function wi(t,i,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Ze&2)!==0){var h=l.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),l.pending=i,i=nc(t),Fg(t,null,a),i}return tc(t,l,i,a),nc(t)}function dl(t,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,Bo(t,a)}}function Wf(t,i){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var E={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?h=d=E:d=d.next=E,a=a.next}while(a!==null);d===null?h=d=i:d=d.next=i}else h=d=i;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=i:t.next=i,a.lastBaseUpdate=i}var Zf=!1;function ml(){if(Zf){var t=ka;if(t!==null)throw t}}function pl(t,i,a,l){Zf=!1;var h=t.updateQueue;Ei=!1;var d=h.firstBaseUpdate,E=h.lastBaseUpdate,b=h.shared.pending;if(b!==null){h.shared.pending=null;var O=b,H=O.next;O.next=null,E===null?d=H:E.next=H,E=O;var J=t.alternate;J!==null&&(J=J.updateQueue,b=J.lastBaseUpdate,b!==E&&(b===null?J.firstBaseUpdate=H:b.next=H,J.lastBaseUpdate=O))}if(d!==null){var te=h.baseState;E=0,J=H=O=null,b=d;do{var G=b.lane&-536870913,$=G!==b.lane;if($?(He&G)===G:(l&G)===G){G!==0&&G===Da&&(Zf=!0),J!==null&&(J=J.next={lane:0,tag:b.tag,payload:b.payload,callback:null,next:null});e:{var xe=t,Te=b;G=i;var rt=a;switch(Te.tag){case 1:if(xe=Te.payload,typeof xe=="function"){te=xe.call(rt,te,G);break e}te=xe;break e;case 3:xe.flags=xe.flags&-65537|128;case 0:if(xe=Te.payload,G=typeof xe=="function"?xe.call(rt,te,G):xe,G==null)break e;te=_({},te,G);break e;case 2:Ei=!0}}G=b.callback,G!==null&&(t.flags|=64,$&&(t.flags|=8192),$=h.callbacks,$===null?h.callbacks=[G]:$.push(G))}else $={lane:G,tag:b.tag,payload:b.payload,callback:b.callback,next:null},J===null?(H=J=$,O=te):J=J.next=$,E|=G;if(b=b.next,b===null){if(b=h.shared.pending,b===null)break;$=b,b=$.next,$.next=null,h.lastBaseUpdate=$,h.shared.pending=null}}while(!0);J===null&&(O=te),h.baseState=O,h.firstBaseUpdate=H,h.lastBaseUpdate=J,d===null&&(h.shared.lanes=0),Ni|=E,t.lanes=E,t.memoizedState=te}}function sy(t,i){if(typeof t!="function")throw Error(s(191,t));t.call(i)}function ay(t,i){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)sy(a[t],i)}var Ma=Z(null),hc=Z(0);function oy(t,i){t=Jr,ne(hc,t),ne(Ma,i),Jr=t|i.baseLanes}function Jf(){ne(hc,Jr),ne(Ma,Ma.current)}function ed(){Jr=hc.current,le(Ma),le(hc)}var Ti=0,ke=null,tt=null,At=null,fc=!1,Pa=!1,Bs=!1,dc=0,gl=0,Va=null,E1=0;function vt(){throw Error(s(321))}function td(t,i){if(i===null)return!1;for(var a=0;a<i.length&&a<t.length;a++)if(!_n(t[a],i[a]))return!1;return!0}function nd(t,i,a,l,h,d){return Ti=d,ke=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,F.H=t===null||t.memoizedState===null?Fy:Gy,Bs=!1,d=a(l,h),Bs=!1,Pa&&(d=uy(i,a,l,h)),ly(t),d}function ly(t){F.H=_c;var i=tt!==null&&tt.next!==null;if(Ti=0,At=tt=ke=null,fc=!1,gl=0,Va=null,i)throw Error(s(300));t===null||Ut||(t=t.dependencies,t!==null&&ac(t)&&(Ut=!0))}function uy(t,i,a,l){ke=t;var h=0;do{if(Pa&&(Va=null),gl=0,Pa=!1,25<=h)throw Error(s(301));if(h+=1,At=tt=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}F.H=x1,d=i(a,l)}while(Pa);return d}function b1(){var t=F.H,i=t.useState()[0];return i=typeof i.then=="function"?yl(i):i,t=t.useState()[0],(tt!==null?tt.memoizedState:null)!==t&&(ke.flags|=1024),i}function rd(){var t=dc!==0;return dc=0,t}function id(t,i,a){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~a}function sd(t){if(fc){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}fc=!1}Ti=0,At=tt=ke=null,Pa=!1,gl=dc=0,Va=null}function hn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return At===null?ke.memoizedState=At=t:At=At.next=t,At}function St(){if(tt===null){var t=ke.alternate;t=t!==null?t.memoizedState:null}else t=tt.next;var i=At===null?ke.memoizedState:At.next;if(i!==null)At=i,tt=t;else{if(t===null)throw ke.alternate===null?Error(s(467)):Error(s(310));tt=t,t={memoizedState:tt.memoizedState,baseState:tt.baseState,baseQueue:tt.baseQueue,queue:tt.queue,next:null},At===null?ke.memoizedState=At=t:At=At.next=t}return At}function ad(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function yl(t){var i=gl;return gl+=1,Va===null&&(Va=[]),t=ny(Va,t,i),i=ke,(At===null?i.memoizedState:At.next)===null&&(i=i.alternate,F.H=i===null||i.memoizedState===null?Fy:Gy),t}function mc(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return yl(t);if(t.$$typeof===re)return Wt(t)}throw Error(s(438,String(t)))}function od(t){var i=null,a=ke.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var l=ke.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=ad(),ke.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(t),l=0;l<t;l++)a[l]=k;return i.index++,a}function Kr(t,i){return typeof i=="function"?i(t):i}function pc(t){var i=St();return ld(i,tt,t)}function ld(t,i,a){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var h=t.baseQueue,d=l.pending;if(d!==null){if(h!==null){var E=h.next;h.next=d.next,d.next=E}i.baseQueue=h=d,l.pending=null}if(d=t.baseState,h===null)t.memoizedState=d;else{i=h.next;var b=E=null,O=null,H=i,J=!1;do{var te=H.lane&-536870913;if(te!==H.lane?(He&te)===te:(Ti&te)===te){var G=H.revertLane;if(G===0)O!==null&&(O=O.next={lane:0,revertLane:0,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null}),te===Da&&(J=!0);else if((Ti&G)===G){H=H.next,G===Da&&(J=!0);continue}else te={lane:0,revertLane:H.revertLane,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},O===null?(b=O=te,E=d):O=O.next=te,ke.lanes|=G,Ni|=G;te=H.action,Bs&&a(d,te),d=H.hasEagerState?H.eagerState:a(d,te)}else G={lane:te,revertLane:H.revertLane,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},O===null?(b=O=G,E=d):O=O.next=G,ke.lanes|=te,Ni|=te;H=H.next}while(H!==null&&H!==i);if(O===null?E=d:O.next=b,!_n(d,t.memoizedState)&&(Ut=!0,J&&(a=ka,a!==null)))throw a;t.memoizedState=d,t.baseState=E,t.baseQueue=O,l.lastRenderedState=d}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function ud(t){var i=St(),a=i.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var l=a.dispatch,h=a.pending,d=i.memoizedState;if(h!==null){a.pending=null;var E=h=h.next;do d=t(d,E.action),E=E.next;while(E!==h);_n(d,i.memoizedState)||(Ut=!0),i.memoizedState=d,i.baseQueue===null&&(i.baseState=d),a.lastRenderedState=d}return[d,l]}function cy(t,i,a){var l=ke,h=St(),d=Qe;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=i();var E=!_n((tt||h).memoizedState,a);E&&(h.memoizedState=a,Ut=!0),h=h.queue;var b=dy.bind(null,l,h,t);if(vl(2048,8,b,[t]),h.getSnapshot!==i||E||At!==null&&At.memoizedState.tag&1){if(l.flags|=2048,La(9,gc(),fy.bind(null,l,h,a,i),null),st===null)throw Error(s(349));d||(Ti&124)!==0||hy(l,i,a)}return a}function hy(t,i,a){t.flags|=16384,t={getSnapshot:i,value:a},i=ke.updateQueue,i===null?(i=ad(),ke.updateQueue=i,i.stores=[t]):(a=i.stores,a===null?i.stores=[t]:a.push(t))}function fy(t,i,a,l){i.value=a,i.getSnapshot=l,my(i)&&py(t)}function dy(t,i,a){return a(function(){my(i)&&py(t)})}function my(t){var i=t.getSnapshot;t=t.value;try{var a=i();return!_n(t,a)}catch{return!0}}function py(t){var i=Ca(t,2);i!==null&&Sn(i,t,2)}function cd(t){var i=hn();if(typeof t=="function"){var a=t;if(t=a(),Bs){yn(!0);try{a()}finally{yn(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Kr,lastRenderedState:t},i}function gy(t,i,a,l){return t.baseState=a,ld(t,tt,typeof l=="function"?l:Kr)}function w1(t,i,a,l,h){if(vc(t))throw Error(s(485));if(t=i.action,t!==null){var d={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(E){d.listeners.push(E)}};F.T!==null?a(!0):d.isTransition=!1,l(d),a=i.pending,a===null?(d.next=i.pending=d,yy(i,d)):(d.next=a.next,i.pending=a.next=d)}}function yy(t,i){var a=i.action,l=i.payload,h=t.state;if(i.isTransition){var d=F.T,E={};F.T=E;try{var b=a(h,l),O=F.S;O!==null&&O(E,b),vy(t,i,b)}catch(H){hd(t,i,H)}finally{F.T=d}}else try{d=a(h,l),vy(t,i,d)}catch(H){hd(t,i,H)}}function vy(t,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){_y(t,i,l)},function(l){return hd(t,i,l)}):_y(t,i,a)}function _y(t,i,a){i.status="fulfilled",i.value=a,Ey(i),t.state=a,i=t.pending,i!==null&&(a=i.next,a===i?t.pending=null:(a=a.next,i.next=a,yy(t,a)))}function hd(t,i,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=a,Ey(i),i=i.next;while(i!==l)}t.action=null}function Ey(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function by(t,i){return i}function wy(t,i){if(Qe){var a=st.formState;if(a!==null){e:{var l=ke;if(Qe){if(mt){t:{for(var h=mt,d=dr;h.nodeType!==8;){if(!d){h=null;break t}if(h=Yn(h.nextSibling),h===null){h=null;break t}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){mt=Yn(h.nextSibling),l=h.data==="F!";break e}}Ls(l)}l=!1}l&&(i=a[0])}}return a=hn(),a.memoizedState=a.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:by,lastRenderedState:i},a.queue=l,a=By.bind(null,ke,l),l.dispatch=a,l=cd(!1),d=gd.bind(null,ke,!1,l.queue),l=hn(),h={state:i,dispatch:null,action:t,pending:null},l.queue=h,a=w1.bind(null,ke,h,d,a),h.dispatch=a,l.memoizedState=t,[i,a,!1]}function Ty(t){var i=St();return Ay(i,tt,t)}function Ay(t,i,a){if(i=ld(t,i,by)[0],t=pc(Kr)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var l=yl(i)}catch(E){throw E===hl?uc:E}else l=i;i=St();var h=i.queue,d=h.dispatch;return a!==i.memoizedState&&(ke.flags|=2048,La(9,gc(),T1.bind(null,h,a),null)),[l,d,t]}function T1(t,i){t.action=i}function Sy(t){var i=St(),a=tt;if(a!==null)return Ay(i,a,t);St(),i=i.memoizedState,a=St();var l=a.queue.dispatch;return a.memoizedState=t,[i,l,!1]}function La(t,i,a,l){return t={tag:t,create:a,deps:l,inst:i,next:null},i=ke.updateQueue,i===null&&(i=ad(),ke.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,i.lastEffect=t),t}function gc(){return{destroy:void 0,resource:void 0}}function Ry(){return St().memoizedState}function yc(t,i,a,l){var h=hn();l=l===void 0?null:l,ke.flags|=t,h.memoizedState=La(1|i,gc(),a,l)}function vl(t,i,a,l){var h=St();l=l===void 0?null:l;var d=h.memoizedState.inst;tt!==null&&l!==null&&td(l,tt.memoizedState.deps)?h.memoizedState=La(i,d,a,l):(ke.flags|=t,h.memoizedState=La(1|i,d,a,l))}function xy(t,i){yc(8390656,8,t,i)}function Cy(t,i){vl(2048,8,t,i)}function Iy(t,i){return vl(4,2,t,i)}function Ny(t,i){return vl(4,4,t,i)}function Oy(t,i){if(typeof i=="function"){t=t();var a=i(t);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function Dy(t,i,a){a=a!=null?a.concat([t]):null,vl(4,4,Oy.bind(null,i,t),a)}function fd(){}function ky(t,i){var a=St();i=i===void 0?null:i;var l=a.memoizedState;return i!==null&&td(i,l[1])?l[0]:(a.memoizedState=[t,i],t)}function My(t,i){var a=St();i=i===void 0?null:i;var l=a.memoizedState;if(i!==null&&td(i,l[1]))return l[0];if(l=t(),Bs){yn(!0);try{t()}finally{yn(!1)}}return a.memoizedState=[l,i],l}function dd(t,i,a){return a===void 0||(Ti&1073741824)!==0?t.memoizedState=i:(t.memoizedState=a,t=Lv(),ke.lanes|=t,Ni|=t,a)}function Py(t,i,a,l){return _n(a,i)?a:Ma.current!==null?(t=dd(t,a,l),_n(t,i)||(Ut=!0),t):(Ti&42)===0?(Ut=!0,t.memoizedState=a):(t=Lv(),ke.lanes|=t,Ni|=t,i)}function Vy(t,i,a,l,h){var d=ce.p;ce.p=d!==0&&8>d?d:8;var E=F.T,b={};F.T=b,gd(t,!1,i,a);try{var O=h(),H=F.S;if(H!==null&&H(b,O),O!==null&&typeof O=="object"&&typeof O.then=="function"){var J=_1(O,l);_l(t,i,J,An(t))}else _l(t,i,l,An(t))}catch(te){_l(t,i,{then:function(){},status:"rejected",reason:te},An())}finally{ce.p=d,F.T=E}}function A1(){}function md(t,i,a,l){if(t.tag!==5)throw Error(s(476));var h=Ly(t).queue;Vy(t,h,i,se,a===null?A1:function(){return Uy(t),a(l)})}function Ly(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:se,baseState:se,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Kr,lastRenderedState:se},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Kr,lastRenderedState:a},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function Uy(t){var i=Ly(t).next.queue;_l(t,i,{},An())}function pd(){return Wt(Ll)}function jy(){return St().memoizedState}function zy(){return St().memoizedState}function S1(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var a=An();t=bi(a);var l=wi(i,t,a);l!==null&&(Sn(l,i,a),dl(l,i,a)),i={cache:Gf()},t.payload=i;return}i=i.return}}function R1(t,i,a){var l=An();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},vc(t)?qy(i,a):(a=Pf(t,i,a,l),a!==null&&(Sn(a,t,l),Hy(a,i,l)))}function By(t,i,a){var l=An();_l(t,i,a,l)}function _l(t,i,a,l){var h={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(vc(t))qy(i,h);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=i.lastRenderedReducer,d!==null))try{var E=i.lastRenderedState,b=d(E,a);if(h.hasEagerState=!0,h.eagerState=b,_n(b,E))return tc(t,i,h,0),st===null&&ec(),!1}catch{}finally{}if(a=Pf(t,i,h,l),a!==null)return Sn(a,t,l),Hy(a,i,l),!0}return!1}function gd(t,i,a,l){if(l={lane:2,revertLane:Yd(),action:l,hasEagerState:!1,eagerState:null,next:null},vc(t)){if(i)throw Error(s(479))}else i=Pf(t,a,l,2),i!==null&&Sn(i,t,2)}function vc(t){var i=t.alternate;return t===ke||i!==null&&i===ke}function qy(t,i){Pa=fc=!0;var a=t.pending;a===null?i.next=i:(i.next=a.next,a.next=i),t.pending=i}function Hy(t,i,a){if((a&4194048)!==0){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,Bo(t,a)}}var _c={readContext:Wt,use:mc,useCallback:vt,useContext:vt,useEffect:vt,useImperativeHandle:vt,useLayoutEffect:vt,useInsertionEffect:vt,useMemo:vt,useReducer:vt,useRef:vt,useState:vt,useDebugValue:vt,useDeferredValue:vt,useTransition:vt,useSyncExternalStore:vt,useId:vt,useHostTransitionStatus:vt,useFormState:vt,useActionState:vt,useOptimistic:vt,useMemoCache:vt,useCacheRefresh:vt},Fy={readContext:Wt,use:mc,useCallback:function(t,i){return hn().memoizedState=[t,i===void 0?null:i],t},useContext:Wt,useEffect:xy,useImperativeHandle:function(t,i,a){a=a!=null?a.concat([t]):null,yc(4194308,4,Oy.bind(null,i,t),a)},useLayoutEffect:function(t,i){return yc(4194308,4,t,i)},useInsertionEffect:function(t,i){yc(4,2,t,i)},useMemo:function(t,i){var a=hn();i=i===void 0?null:i;var l=t();if(Bs){yn(!0);try{t()}finally{yn(!1)}}return a.memoizedState=[l,i],l},useReducer:function(t,i,a){var l=hn();if(a!==void 0){var h=a(i);if(Bs){yn(!0);try{a(i)}finally{yn(!1)}}}else h=i;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=R1.bind(null,ke,t),[l.memoizedState,t]},useRef:function(t){var i=hn();return t={current:t},i.memoizedState=t},useState:function(t){t=cd(t);var i=t.queue,a=By.bind(null,ke,i);return i.dispatch=a,[t.memoizedState,a]},useDebugValue:fd,useDeferredValue:function(t,i){var a=hn();return dd(a,t,i)},useTransition:function(){var t=cd(!1);return t=Vy.bind(null,ke,t.queue,!0,!1),hn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,a){var l=ke,h=hn();if(Qe){if(a===void 0)throw Error(s(407));a=a()}else{if(a=i(),st===null)throw Error(s(349));(He&124)!==0||hy(l,i,a)}h.memoizedState=a;var d={value:a,getSnapshot:i};return h.queue=d,xy(dy.bind(null,l,d,t),[t]),l.flags|=2048,La(9,gc(),fy.bind(null,l,d,a,i),null),a},useId:function(){var t=hn(),i=st.identifierPrefix;if(Qe){var a=Fr,l=Hr;a=(l&~(1<<32-Xt(l)-1)).toString(32)+a,i=""+i+"R"+a,a=dc++,0<a&&(i+="H"+a.toString(32)),i+=""}else a=E1++,i=""+i+"r"+a.toString(32)+"";return t.memoizedState=i},useHostTransitionStatus:pd,useFormState:wy,useActionState:wy,useOptimistic:function(t){var i=hn();i.memoizedState=i.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=gd.bind(null,ke,!0,a),a.dispatch=i,[t,i]},useMemoCache:od,useCacheRefresh:function(){return hn().memoizedState=S1.bind(null,ke)}},Gy={readContext:Wt,use:mc,useCallback:ky,useContext:Wt,useEffect:Cy,useImperativeHandle:Dy,useInsertionEffect:Iy,useLayoutEffect:Ny,useMemo:My,useReducer:pc,useRef:Ry,useState:function(){return pc(Kr)},useDebugValue:fd,useDeferredValue:function(t,i){var a=St();return Py(a,tt.memoizedState,t,i)},useTransition:function(){var t=pc(Kr)[0],i=St().memoizedState;return[typeof t=="boolean"?t:yl(t),i]},useSyncExternalStore:cy,useId:jy,useHostTransitionStatus:pd,useFormState:Ty,useActionState:Ty,useOptimistic:function(t,i){var a=St();return gy(a,tt,t,i)},useMemoCache:od,useCacheRefresh:zy},x1={readContext:Wt,use:mc,useCallback:ky,useContext:Wt,useEffect:Cy,useImperativeHandle:Dy,useInsertionEffect:Iy,useLayoutEffect:Ny,useMemo:My,useReducer:ud,useRef:Ry,useState:function(){return ud(Kr)},useDebugValue:fd,useDeferredValue:function(t,i){var a=St();return tt===null?dd(a,t,i):Py(a,tt.memoizedState,t,i)},useTransition:function(){var t=ud(Kr)[0],i=St().memoizedState;return[typeof t=="boolean"?t:yl(t),i]},useSyncExternalStore:cy,useId:jy,useHostTransitionStatus:pd,useFormState:Sy,useActionState:Sy,useOptimistic:function(t,i){var a=St();return tt!==null?gy(a,tt,t,i):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:od,useCacheRefresh:zy},Ua=null,El=0;function Ec(t){var i=El;return El+=1,Ua===null&&(Ua=[]),ny(Ua,t,i)}function bl(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function bc(t,i){throw i.$$typeof===T?Error(s(525)):(t=Object.prototype.toString.call(i),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function $y(t){var i=t._init;return i(t._payload)}function Ky(t){function i(j,V){if(t){var q=j.deletions;q===null?(j.deletions=[V],j.flags|=16):q.push(V)}}function a(j,V){if(!t)return null;for(;V!==null;)i(j,V),V=V.sibling;return null}function l(j){for(var V=new Map;j!==null;)j.key!==null?V.set(j.key,j):V.set(j.index,j),j=j.sibling;return V}function h(j,V){return j=qr(j,V),j.index=0,j.sibling=null,j}function d(j,V,q){return j.index=q,t?(q=j.alternate,q!==null?(q=q.index,q<V?(j.flags|=67108866,V):q):(j.flags|=67108866,V)):(j.flags|=1048576,V)}function E(j){return t&&j.alternate===null&&(j.flags|=67108866),j}function b(j,V,q,ee){return V===null||V.tag!==6?(V=Lf(q,j.mode,ee),V.return=j,V):(V=h(V,q),V.return=j,V)}function O(j,V,q,ee){var ye=q.type;return ye===z?J(j,V,q.props.children,ee,q.key):V!==null&&(V.elementType===ye||typeof ye=="object"&&ye!==null&&ye.$$typeof===S&&$y(ye)===V.type)?(V=h(V,q.props),bl(V,q),V.return=j,V):(V=rc(q.type,q.key,q.props,null,j.mode,ee),bl(V,q),V.return=j,V)}function H(j,V,q,ee){return V===null||V.tag!==4||V.stateNode.containerInfo!==q.containerInfo||V.stateNode.implementation!==q.implementation?(V=Uf(q,j.mode,ee),V.return=j,V):(V=h(V,q.children||[]),V.return=j,V)}function J(j,V,q,ee,ye){return V===null||V.tag!==7?(V=ks(q,j.mode,ee,ye),V.return=j,V):(V=h(V,q),V.return=j,V)}function te(j,V,q){if(typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint")return V=Lf(""+V,j.mode,q),V.return=j,V;if(typeof V=="object"&&V!==null){switch(V.$$typeof){case R:return q=rc(V.type,V.key,V.props,null,j.mode,q),bl(q,V),q.return=j,q;case U:return V=Uf(V,j.mode,q),V.return=j,V;case S:var ee=V._init;return V=ee(V._payload),te(j,V,q)}if(Ee(V)||L(V))return V=ks(V,j.mode,q,null),V.return=j,V;if(typeof V.then=="function")return te(j,Ec(V),q);if(V.$$typeof===re)return te(j,oc(j,V),q);bc(j,V)}return null}function G(j,V,q,ee){var ye=V!==null?V.key:null;if(typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint")return ye!==null?null:b(j,V,""+q,ee);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case R:return q.key===ye?O(j,V,q,ee):null;case U:return q.key===ye?H(j,V,q,ee):null;case S:return ye=q._init,q=ye(q._payload),G(j,V,q,ee)}if(Ee(q)||L(q))return ye!==null?null:J(j,V,q,ee,null);if(typeof q.then=="function")return G(j,V,Ec(q),ee);if(q.$$typeof===re)return G(j,V,oc(j,q),ee);bc(j,q)}return null}function $(j,V,q,ee,ye){if(typeof ee=="string"&&ee!==""||typeof ee=="number"||typeof ee=="bigint")return j=j.get(q)||null,b(V,j,""+ee,ye);if(typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case R:return j=j.get(ee.key===null?q:ee.key)||null,O(V,j,ee,ye);case U:return j=j.get(ee.key===null?q:ee.key)||null,H(V,j,ee,ye);case S:var Ve=ee._init;return ee=Ve(ee._payload),$(j,V,q,ee,ye)}if(Ee(ee)||L(ee))return j=j.get(q)||null,J(V,j,ee,ye,null);if(typeof ee.then=="function")return $(j,V,q,Ec(ee),ye);if(ee.$$typeof===re)return $(j,V,q,oc(V,ee),ye);bc(V,ee)}return null}function xe(j,V,q,ee){for(var ye=null,Ve=null,be=V,Se=V=0,zt=null;be!==null&&Se<q.length;Se++){be.index>Se?(zt=be,be=null):zt=be.sibling;var Ke=G(j,be,q[Se],ee);if(Ke===null){be===null&&(be=zt);break}t&&be&&Ke.alternate===null&&i(j,be),V=d(Ke,V,Se),Ve===null?ye=Ke:Ve.sibling=Ke,Ve=Ke,be=zt}if(Se===q.length)return a(j,be),Qe&&Ps(j,Se),ye;if(be===null){for(;Se<q.length;Se++)be=te(j,q[Se],ee),be!==null&&(V=d(be,V,Se),Ve===null?ye=be:Ve.sibling=be,Ve=be);return Qe&&Ps(j,Se),ye}for(be=l(be);Se<q.length;Se++)zt=$(be,j,Se,q[Se],ee),zt!==null&&(t&&zt.alternate!==null&&be.delete(zt.key===null?Se:zt.key),V=d(zt,V,Se),Ve===null?ye=zt:Ve.sibling=zt,Ve=zt);return t&&be.forEach(function(ji){return i(j,ji)}),Qe&&Ps(j,Se),ye}function Te(j,V,q,ee){if(q==null)throw Error(s(151));for(var ye=null,Ve=null,be=V,Se=V=0,zt=null,Ke=q.next();be!==null&&!Ke.done;Se++,Ke=q.next()){be.index>Se?(zt=be,be=null):zt=be.sibling;var ji=G(j,be,Ke.value,ee);if(ji===null){be===null&&(be=zt);break}t&&be&&ji.alternate===null&&i(j,be),V=d(ji,V,Se),Ve===null?ye=ji:Ve.sibling=ji,Ve=ji,be=zt}if(Ke.done)return a(j,be),Qe&&Ps(j,Se),ye;if(be===null){for(;!Ke.done;Se++,Ke=q.next())Ke=te(j,Ke.value,ee),Ke!==null&&(V=d(Ke,V,Se),Ve===null?ye=Ke:Ve.sibling=Ke,Ve=Ke);return Qe&&Ps(j,Se),ye}for(be=l(be);!Ke.done;Se++,Ke=q.next())Ke=$(be,j,Se,Ke.value,ee),Ke!==null&&(t&&Ke.alternate!==null&&be.delete(Ke.key===null?Se:Ke.key),V=d(Ke,V,Se),Ve===null?ye=Ke:Ve.sibling=Ke,Ve=Ke);return t&&be.forEach(function(CA){return i(j,CA)}),Qe&&Ps(j,Se),ye}function rt(j,V,q,ee){if(typeof q=="object"&&q!==null&&q.type===z&&q.key===null&&(q=q.props.children),typeof q=="object"&&q!==null){switch(q.$$typeof){case R:e:{for(var ye=q.key;V!==null;){if(V.key===ye){if(ye=q.type,ye===z){if(V.tag===7){a(j,V.sibling),ee=h(V,q.props.children),ee.return=j,j=ee;break e}}else if(V.elementType===ye||typeof ye=="object"&&ye!==null&&ye.$$typeof===S&&$y(ye)===V.type){a(j,V.sibling),ee=h(V,q.props),bl(ee,q),ee.return=j,j=ee;break e}a(j,V);break}else i(j,V);V=V.sibling}q.type===z?(ee=ks(q.props.children,j.mode,ee,q.key),ee.return=j,j=ee):(ee=rc(q.type,q.key,q.props,null,j.mode,ee),bl(ee,q),ee.return=j,j=ee)}return E(j);case U:e:{for(ye=q.key;V!==null;){if(V.key===ye)if(V.tag===4&&V.stateNode.containerInfo===q.containerInfo&&V.stateNode.implementation===q.implementation){a(j,V.sibling),ee=h(V,q.children||[]),ee.return=j,j=ee;break e}else{a(j,V);break}else i(j,V);V=V.sibling}ee=Uf(q,j.mode,ee),ee.return=j,j=ee}return E(j);case S:return ye=q._init,q=ye(q._payload),rt(j,V,q,ee)}if(Ee(q))return xe(j,V,q,ee);if(L(q)){if(ye=L(q),typeof ye!="function")throw Error(s(150));return q=ye.call(q),Te(j,V,q,ee)}if(typeof q.then=="function")return rt(j,V,Ec(q),ee);if(q.$$typeof===re)return rt(j,V,oc(j,q),ee);bc(j,q)}return typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint"?(q=""+q,V!==null&&V.tag===6?(a(j,V.sibling),ee=h(V,q),ee.return=j,j=ee):(a(j,V),ee=Lf(q,j.mode,ee),ee.return=j,j=ee),E(j)):a(j,V)}return function(j,V,q,ee){try{El=0;var ye=rt(j,V,q,ee);return Ua=null,ye}catch(be){if(be===hl||be===uc)throw be;var Ve=En(29,be,null,j.mode);return Ve.lanes=ee,Ve.return=j,Ve}finally{}}}var ja=Ky(!0),Yy=Ky(!1),Un=Z(null),mr=null;function Ai(t){var i=t.alternate;ne(kt,kt.current&1),ne(Un,t),mr===null&&(i===null||Ma.current!==null||i.memoizedState!==null)&&(mr=t)}function Qy(t){if(t.tag===22){if(ne(kt,kt.current),ne(Un,t),mr===null){var i=t.alternate;i!==null&&i.memoizedState!==null&&(mr=t)}}else Si()}function Si(){ne(kt,kt.current),ne(Un,Un.current)}function Yr(t){le(Un),mr===t&&(mr=null),le(kt)}var kt=Z(0);function wc(t){for(var i=t;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||am(a)))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}function yd(t,i,a,l){i=t.memoizedState,a=a(l,i),a=a==null?i:_({},i,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var vd={enqueueSetState:function(t,i,a){t=t._reactInternals;var l=An(),h=bi(l);h.payload=i,a!=null&&(h.callback=a),i=wi(t,h,l),i!==null&&(Sn(i,t,l),dl(i,t,l))},enqueueReplaceState:function(t,i,a){t=t._reactInternals;var l=An(),h=bi(l);h.tag=1,h.payload=i,a!=null&&(h.callback=a),i=wi(t,h,l),i!==null&&(Sn(i,t,l),dl(i,t,l))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var a=An(),l=bi(a);l.tag=2,i!=null&&(l.callback=i),i=wi(t,l,a),i!==null&&(Sn(i,t,a),dl(i,t,a))}};function Xy(t,i,a,l,h,d,E){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,d,E):i.prototype&&i.prototype.isPureReactComponent?!rl(a,l)||!rl(h,d):!0}function Wy(t,i,a,l){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,l),i.state!==t&&vd.enqueueReplaceState(i,i.state,null)}function qs(t,i){var a=i;if("ref"in i){a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}if(t=t.defaultProps){a===i&&(a=_({},a));for(var h in t)a[h]===void 0&&(a[h]=t[h])}return a}var Tc=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function Zy(t){Tc(t)}function Jy(t){console.error(t)}function ev(t){Tc(t)}function Ac(t,i){try{var a=t.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function tv(t,i,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function _d(t,i,a){return a=bi(a),a.tag=3,a.payload={element:null},a.callback=function(){Ac(t,i)},a}function nv(t){return t=bi(t),t.tag=3,t}function rv(t,i,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var d=l.value;t.payload=function(){return h(d)},t.callback=function(){tv(i,a,l)}}var E=a.stateNode;E!==null&&typeof E.componentDidCatch=="function"&&(t.callback=function(){tv(i,a,l),typeof h!="function"&&(Oi===null?Oi=new Set([this]):Oi.add(this));var b=l.stack;this.componentDidCatch(l.value,{componentStack:b!==null?b:""})})}function C1(t,i,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=a.alternate,i!==null&&ll(i,a,h,!0),a=Un.current,a!==null){switch(a.tag){case 13:return mr===null?Hd():a.alternate===null&&pt===0&&(pt=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===Yf?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([l]):i.add(l),Gd(t,l,h)),!1;case 22:return a.flags|=65536,l===Yf?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([l]):a.add(l)),Gd(t,l,h)),!1}throw Error(s(435,a.tag))}return Gd(t,l,h),Hd(),!1}if(Qe)return i=Un.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,l!==Bf&&(t=Error(s(422),{cause:l}),ol(Mn(t,a)))):(l!==Bf&&(i=Error(s(423),{cause:l}),ol(Mn(i,a))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=Mn(l,a),h=_d(t.stateNode,l,h),Wf(t,h),pt!==4&&(pt=2)),!1;var d=Error(s(520),{cause:l});if(d=Mn(d,a),Cl===null?Cl=[d]:Cl.push(d),pt!==4&&(pt=2),i===null)return!0;l=Mn(l,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,t=h&-h,a.lanes|=t,t=_d(a.stateNode,l,t),Wf(a,t),!1;case 1:if(i=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Oi===null||!Oi.has(d))))return a.flags|=65536,h&=-h,a.lanes|=h,h=nv(h),rv(h,t,a,l),Wf(a,h),!1}a=a.return}while(a!==null);return!1}var iv=Error(s(461)),Ut=!1;function Gt(t,i,a,l){i.child=t===null?Yy(i,null,a,l):ja(i,t.child,a,l)}function sv(t,i,a,l,h){a=a.render;var d=i.ref;if("ref"in l){var E={};for(var b in l)b!=="ref"&&(E[b]=l[b])}else E=l;return js(i),l=nd(t,i,a,E,d,h),b=rd(),t!==null&&!Ut?(id(t,i,h),Qr(t,i,h)):(Qe&&b&&jf(i),i.flags|=1,Gt(t,i,l,h),i.child)}function av(t,i,a,l,h){if(t===null){var d=a.type;return typeof d=="function"&&!Vf(d)&&d.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=d,ov(t,i,d,l,h)):(t=rc(a.type,null,l,i,i.mode,h),t.ref=i.ref,t.return=i,i.child=t)}if(d=t.child,!xd(t,h)){var E=d.memoizedProps;if(a=a.compare,a=a!==null?a:rl,a(E,l)&&t.ref===i.ref)return Qr(t,i,h)}return i.flags|=1,t=qr(d,l),t.ref=i.ref,t.return=i,i.child=t}function ov(t,i,a,l,h){if(t!==null){var d=t.memoizedProps;if(rl(d,l)&&t.ref===i.ref)if(Ut=!1,i.pendingProps=l=d,xd(t,h))(t.flags&131072)!==0&&(Ut=!0);else return i.lanes=t.lanes,Qr(t,i,h)}return Ed(t,i,a,l,h)}function lv(t,i,a){var l=i.pendingProps,h=l.children,d=t!==null?t.memoizedState:null;if(l.mode==="hidden"){if((i.flags&128)!==0){if(l=d!==null?d.baseLanes|a:a,t!==null){for(h=i.child=t.child,d=0;h!==null;)d=d|h.lanes|h.childLanes,h=h.sibling;i.childLanes=d&~l}else i.childLanes=0,i.child=null;return uv(t,i,l,a)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&lc(i,d!==null?d.cachePool:null),d!==null?oy(i,d):Jf(),Qy(i);else return i.lanes=i.childLanes=536870912,uv(t,i,d!==null?d.baseLanes|a:a,a)}else d!==null?(lc(i,d.cachePool),oy(i,d),Si(),i.memoizedState=null):(t!==null&&lc(i,null),Jf(),Si());return Gt(t,i,h,a),i.child}function uv(t,i,a,l){var h=Kf();return h=h===null?null:{parent:Dt._currentValue,pool:h},i.memoizedState={baseLanes:a,cachePool:h},t!==null&&lc(i,null),Jf(),Qy(i),t!==null&&ll(t,i,l,!0),null}function Sc(t,i){var a=i.ref;if(a===null)t!==null&&t.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(i.flags|=4194816)}}function Ed(t,i,a,l,h){return js(i),a=nd(t,i,a,l,void 0,h),l=rd(),t!==null&&!Ut?(id(t,i,h),Qr(t,i,h)):(Qe&&l&&jf(i),i.flags|=1,Gt(t,i,a,h),i.child)}function cv(t,i,a,l,h,d){return js(i),i.updateQueue=null,a=uy(i,l,a,h),ly(t),l=rd(),t!==null&&!Ut?(id(t,i,d),Qr(t,i,d)):(Qe&&l&&jf(i),i.flags|=1,Gt(t,i,a,d),i.child)}function hv(t,i,a,l,h){if(js(i),i.stateNode===null){var d=Ia,E=a.contextType;typeof E=="object"&&E!==null&&(d=Wt(E)),d=new a(l,d),i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=vd,i.stateNode=d,d._reactInternals=i,d=i.stateNode,d.props=l,d.state=i.memoizedState,d.refs={},Qf(i),E=a.contextType,d.context=typeof E=="object"&&E!==null?Wt(E):Ia,d.state=i.memoizedState,E=a.getDerivedStateFromProps,typeof E=="function"&&(yd(i,a,E,l),d.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(E=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),E!==d.state&&vd.enqueueReplaceState(d,d.state,null),pl(i,l,d,h),ml(),d.state=i.memoizedState),typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(t===null){d=i.stateNode;var b=i.memoizedProps,O=qs(a,b);d.props=O;var H=d.context,J=a.contextType;E=Ia,typeof J=="object"&&J!==null&&(E=Wt(J));var te=a.getDerivedStateFromProps;J=typeof te=="function"||typeof d.getSnapshotBeforeUpdate=="function",b=i.pendingProps!==b,J||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(b||H!==E)&&Wy(i,d,l,E),Ei=!1;var G=i.memoizedState;d.state=G,pl(i,l,d,h),ml(),H=i.memoizedState,b||G!==H||Ei?(typeof te=="function"&&(yd(i,a,te,l),H=i.memoizedState),(O=Ei||Xy(i,a,O,l,G,H,E))?(J||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(i.flags|=4194308)):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=H),d.props=l,d.state=H,d.context=E,l=O):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{d=i.stateNode,Xf(t,i),E=i.memoizedProps,J=qs(a,E),d.props=J,te=i.pendingProps,G=d.context,H=a.contextType,O=Ia,typeof H=="object"&&H!==null&&(O=Wt(H)),b=a.getDerivedStateFromProps,(H=typeof b=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(E!==te||G!==O)&&Wy(i,d,l,O),Ei=!1,G=i.memoizedState,d.state=G,pl(i,l,d,h),ml();var $=i.memoizedState;E!==te||G!==$||Ei||t!==null&&t.dependencies!==null&&ac(t.dependencies)?(typeof b=="function"&&(yd(i,a,b,l),$=i.memoizedState),(J=Ei||Xy(i,a,J,l,G,$,O)||t!==null&&t.dependencies!==null&&ac(t.dependencies))?(H||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,$,O),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,$,O)),typeof d.componentDidUpdate=="function"&&(i.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof d.componentDidUpdate!="function"||E===t.memoizedProps&&G===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||E===t.memoizedProps&&G===t.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=$),d.props=l,d.state=$,d.context=O,l=J):(typeof d.componentDidUpdate!="function"||E===t.memoizedProps&&G===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||E===t.memoizedProps&&G===t.memoizedState||(i.flags|=1024),l=!1)}return d=l,Sc(t,i),l=(i.flags&128)!==0,d||l?(d=i.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),i.flags|=1,t!==null&&l?(i.child=ja(i,t.child,null,h),i.child=ja(i,null,a,h)):Gt(t,i,a,h),i.memoizedState=d.state,t=i.child):t=Qr(t,i,h),t}function fv(t,i,a,l){return al(),i.flags|=256,Gt(t,i,a,l),i.child}var bd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function wd(t){return{baseLanes:t,cachePool:Jg()}}function Td(t,i,a){return t=t!==null?t.childLanes&~a:0,i&&(t|=jn),t}function dv(t,i,a){var l=i.pendingProps,h=!1,d=(i.flags&128)!==0,E;if((E=d)||(E=t!==null&&t.memoizedState===null?!1:(kt.current&2)!==0),E&&(h=!0,i.flags&=-129),E=(i.flags&32)!==0,i.flags&=-33,t===null){if(Qe){if(h?Ai(i):Si(),Qe){var b=mt,O;if(O=b){e:{for(O=b,b=dr;O.nodeType!==8;){if(!b){b=null;break e}if(O=Yn(O.nextSibling),O===null){b=null;break e}}b=O}b!==null?(i.memoizedState={dehydrated:b,treeContext:Ms!==null?{id:Hr,overflow:Fr}:null,retryLane:536870912,hydrationErrors:null},O=En(18,null,null,0),O.stateNode=b,O.return=i,i.child=O,cn=i,mt=null,O=!0):O=!1}O||Ls(i)}if(b=i.memoizedState,b!==null&&(b=b.dehydrated,b!==null))return am(b)?i.lanes=32:i.lanes=536870912,null;Yr(i)}return b=l.children,l=l.fallback,h?(Si(),h=i.mode,b=Rc({mode:"hidden",children:b},h),l=ks(l,h,a,null),b.return=i,l.return=i,b.sibling=l,i.child=b,h=i.child,h.memoizedState=wd(a),h.childLanes=Td(t,E,a),i.memoizedState=bd,l):(Ai(i),Ad(i,b))}if(O=t.memoizedState,O!==null&&(b=O.dehydrated,b!==null)){if(d)i.flags&256?(Ai(i),i.flags&=-257,i=Sd(t,i,a)):i.memoizedState!==null?(Si(),i.child=t.child,i.flags|=128,i=null):(Si(),h=l.fallback,b=i.mode,l=Rc({mode:"visible",children:l.children},b),h=ks(h,b,a,null),h.flags|=2,l.return=i,h.return=i,l.sibling=h,i.child=l,ja(i,t.child,null,a),l=i.child,l.memoizedState=wd(a),l.childLanes=Td(t,E,a),i.memoizedState=bd,i=h);else if(Ai(i),am(b)){if(E=b.nextSibling&&b.nextSibling.dataset,E)var H=E.dgst;E=H,l=Error(s(419)),l.stack="",l.digest=E,ol({value:l,source:null,stack:null}),i=Sd(t,i,a)}else if(Ut||ll(t,i,a,!1),E=(a&t.childLanes)!==0,Ut||E){if(E=st,E!==null&&(l=a&-a,l=(l&42)!==0?1:fi(l),l=(l&(E.suspendedLanes|a))!==0?0:l,l!==0&&l!==O.retryLane))throw O.retryLane=l,Ca(t,l),Sn(E,t,l),iv;b.data==="$?"||Hd(),i=Sd(t,i,a)}else b.data==="$?"?(i.flags|=192,i.child=t.child,i=null):(t=O.treeContext,mt=Yn(b.nextSibling),cn=i,Qe=!0,Vs=null,dr=!1,t!==null&&(Vn[Ln++]=Hr,Vn[Ln++]=Fr,Vn[Ln++]=Ms,Hr=t.id,Fr=t.overflow,Ms=i),i=Ad(i,l.children),i.flags|=4096);return i}return h?(Si(),h=l.fallback,b=i.mode,O=t.child,H=O.sibling,l=qr(O,{mode:"hidden",children:l.children}),l.subtreeFlags=O.subtreeFlags&65011712,H!==null?h=qr(H,h):(h=ks(h,b,a,null),h.flags|=2),h.return=i,l.return=i,l.sibling=h,i.child=l,l=h,h=i.child,b=t.child.memoizedState,b===null?b=wd(a):(O=b.cachePool,O!==null?(H=Dt._currentValue,O=O.parent!==H?{parent:H,pool:H}:O):O=Jg(),b={baseLanes:b.baseLanes|a,cachePool:O}),h.memoizedState=b,h.childLanes=Td(t,E,a),i.memoizedState=bd,l):(Ai(i),a=t.child,t=a.sibling,a=qr(a,{mode:"visible",children:l.children}),a.return=i,a.sibling=null,t!==null&&(E=i.deletions,E===null?(i.deletions=[t],i.flags|=16):E.push(t)),i.child=a,i.memoizedState=null,a)}function Ad(t,i){return i=Rc({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function Rc(t,i){return t=En(22,t,null,i),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function Sd(t,i,a){return ja(i,t.child,null,a),t=Ad(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function mv(t,i,a){t.lanes|=i;var l=t.alternate;l!==null&&(l.lanes|=i),Hf(t.return,i,a)}function Rd(t,i,a,l,h){var d=t.memoizedState;d===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h}:(d.isBackwards=i,d.rendering=null,d.renderingStartTime=0,d.last=l,d.tail=a,d.tailMode=h)}function pv(t,i,a){var l=i.pendingProps,h=l.revealOrder,d=l.tail;if(Gt(t,i,l.children,a),l=kt.current,(l&2)!==0)l=l&1|2,i.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&mv(t,a,i);else if(t.tag===19)mv(t,a,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch(ne(kt,l),h){case"forwards":for(a=i.child,h=null;a!==null;)t=a.alternate,t!==null&&wc(t)===null&&(h=a),a=a.sibling;a=h,a===null?(h=i.child,i.child=null):(h=a.sibling,a.sibling=null),Rd(i,!1,h,a,d);break;case"backwards":for(a=null,h=i.child,i.child=null;h!==null;){if(t=h.alternate,t!==null&&wc(t)===null){i.child=h;break}t=h.sibling,h.sibling=a,a=h,h=t}Rd(i,!0,a,null,d);break;case"together":Rd(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function Qr(t,i,a){if(t!==null&&(i.dependencies=t.dependencies),Ni|=i.lanes,(a&i.childLanes)===0)if(t!==null){if(ll(t,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(s(153));if(i.child!==null){for(t=i.child,a=qr(t,t.pendingProps),i.child=a,a.return=i;t.sibling!==null;)t=t.sibling,a=a.sibling=qr(t,t.pendingProps),a.return=i;a.sibling=null}return i.child}function xd(t,i){return(t.lanes&i)!==0?!0:(t=t.dependencies,!!(t!==null&&ac(t)))}function I1(t,i,a){switch(i.tag){case 3:De(i,i.stateNode.containerInfo),_i(i,Dt,t.memoizedState.cache),al();break;case 27:case 5:qt(i);break;case 4:De(i,i.stateNode.containerInfo);break;case 10:_i(i,i.type,i.memoizedProps.value);break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(Ai(i),i.flags|=128,null):(a&i.child.childLanes)!==0?dv(t,i,a):(Ai(i),t=Qr(t,i,a),t!==null?t.sibling:null);Ai(i);break;case 19:var h=(t.flags&128)!==0;if(l=(a&i.childLanes)!==0,l||(ll(t,i,a,!1),l=(a&i.childLanes)!==0),h){if(l)return pv(t,i,a);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),ne(kt,kt.current),l)break;return null;case 22:case 23:return i.lanes=0,lv(t,i,a);case 24:_i(i,Dt,t.memoizedState.cache)}return Qr(t,i,a)}function gv(t,i,a){if(t!==null)if(t.memoizedProps!==i.pendingProps)Ut=!0;else{if(!xd(t,a)&&(i.flags&128)===0)return Ut=!1,I1(t,i,a);Ut=(t.flags&131072)!==0}else Ut=!1,Qe&&(i.flags&1048576)!==0&&$g(i,sc,i.index);switch(i.lanes=0,i.tag){case 16:e:{t=i.pendingProps;var l=i.elementType,h=l._init;if(l=h(l._payload),i.type=l,typeof l=="function")Vf(l)?(t=qs(l,t),i.tag=1,i=hv(null,i,l,t,a)):(i.tag=0,i=Ed(null,i,l,t,a));else{if(l!=null){if(h=l.$$typeof,h===de){i.tag=11,i=sv(null,i,l,t,a);break e}else if(h===D){i.tag=14,i=av(null,i,l,t,a);break e}}throw i=Pe(l)||l,Error(s(306,i,""))}}return i;case 0:return Ed(t,i,i.type,i.pendingProps,a);case 1:return l=i.type,h=qs(l,i.pendingProps),hv(t,i,l,h,a);case 3:e:{if(De(i,i.stateNode.containerInfo),t===null)throw Error(s(387));l=i.pendingProps;var d=i.memoizedState;h=d.element,Xf(t,i),pl(i,l,null,a);var E=i.memoizedState;if(l=E.cache,_i(i,Dt,l),l!==d.cache&&Ff(i,[Dt],a,!0),ml(),l=E.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:E.cache},i.updateQueue.baseState=d,i.memoizedState=d,i.flags&256){i=fv(t,i,l,a);break e}else if(l!==h){h=Mn(Error(s(424)),i),ol(h),i=fv(t,i,l,a);break e}else{switch(t=i.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(mt=Yn(t.firstChild),cn=i,Qe=!0,Vs=null,dr=!0,a=Yy(i,null,l,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(al(),l===h){i=Qr(t,i,a);break e}Gt(t,i,l,a)}i=i.child}return i;case 26:return Sc(t,i),t===null?(a=E_(i.type,null,i.pendingProps,null))?i.memoizedState=a:Qe||(a=i.type,t=i.pendingProps,l=zc(fe.current).createElement(a),l[It]=i,l[wt]=t,Kt(l,a,t),yt(l),i.stateNode=l):i.memoizedState=E_(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return qt(i),t===null&&Qe&&(l=i.stateNode=y_(i.type,i.pendingProps,fe.current),cn=i,dr=!0,h=mt,Mi(i.type)?(om=h,mt=Yn(l.firstChild)):mt=h),Gt(t,i,i.pendingProps.children,a),Sc(t,i),t===null&&(i.flags|=4194304),i.child;case 5:return t===null&&Qe&&((h=l=mt)&&(l=rA(l,i.type,i.pendingProps,dr),l!==null?(i.stateNode=l,cn=i,mt=Yn(l.firstChild),dr=!1,h=!0):h=!1),h||Ls(i)),qt(i),h=i.type,d=i.pendingProps,E=t!==null?t.memoizedProps:null,l=d.children,rm(h,d)?l=null:E!==null&&rm(h,E)&&(i.flags|=32),i.memoizedState!==null&&(h=nd(t,i,b1,null,null,a),Ll._currentValue=h),Sc(t,i),Gt(t,i,l,a),i.child;case 6:return t===null&&Qe&&((t=a=mt)&&(a=iA(a,i.pendingProps,dr),a!==null?(i.stateNode=a,cn=i,mt=null,t=!0):t=!1),t||Ls(i)),null;case 13:return dv(t,i,a);case 4:return De(i,i.stateNode.containerInfo),l=i.pendingProps,t===null?i.child=ja(i,null,l,a):Gt(t,i,l,a),i.child;case 11:return sv(t,i,i.type,i.pendingProps,a);case 7:return Gt(t,i,i.pendingProps,a),i.child;case 8:return Gt(t,i,i.pendingProps.children,a),i.child;case 12:return Gt(t,i,i.pendingProps.children,a),i.child;case 10:return l=i.pendingProps,_i(i,i.type,l.value),Gt(t,i,l.children,a),i.child;case 9:return h=i.type._context,l=i.pendingProps.children,js(i),h=Wt(h),l=l(h),i.flags|=1,Gt(t,i,l,a),i.child;case 14:return av(t,i,i.type,i.pendingProps,a);case 15:return ov(t,i,i.type,i.pendingProps,a);case 19:return pv(t,i,a);case 31:return l=i.pendingProps,a=i.mode,l={mode:l.mode,children:l.children},t===null?(a=Rc(l,a),a.ref=i.ref,i.child=a,a.return=i,i=a):(a=qr(t.child,l),a.ref=i.ref,i.child=a,a.return=i,i=a),i;case 22:return lv(t,i,a);case 24:return js(i),l=Wt(Dt),t===null?(h=Kf(),h===null&&(h=st,d=Gf(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=a),h=d),i.memoizedState={parent:l,cache:h},Qf(i),_i(i,Dt,h)):((t.lanes&a)!==0&&(Xf(t,i),pl(i,null,null,a),ml()),h=t.memoizedState,d=i.memoizedState,h.parent!==l?(h={parent:l,cache:l},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),_i(i,Dt,l)):(l=d.cache,_i(i,Dt,l),l!==h.cache&&Ff(i,[Dt],a,!0))),Gt(t,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function Xr(t){t.flags|=4}function yv(t,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!S_(i)){if(i=Un.current,i!==null&&((He&4194048)===He?mr!==null:(He&62914560)!==He&&(He&536870912)===0||i!==mr))throw fl=Yf,ey;t.flags|=8192}}function xc(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?jo():536870912,t.lanes|=i,Ha|=i)}function wl(t,i){if(!Qe)switch(t.tailMode){case"hidden":i=t.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function ht(t){var i=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(i)for(var h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=a,i}function N1(t,i,a){var l=i.pendingProps;switch(zf(i),i.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ht(i),null;case 1:return ht(i),null;case 3:return a=i.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),$r(Dt),Ye(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(sl(i)?Xr(i):t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Qg())),ht(i),null;case 26:return a=i.memoizedState,t===null?(Xr(i),a!==null?(ht(i),yv(i,a)):(ht(i),i.flags&=-16777217)):a?a!==t.memoizedState?(Xr(i),ht(i),yv(i,a)):(ht(i),i.flags&=-16777217):(t.memoizedProps!==l&&Xr(i),ht(i),i.flags&=-16777217),null;case 27:gn(i),a=fe.current;var h=i.type;if(t!==null&&i.stateNode!=null)t.memoizedProps!==l&&Xr(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return ht(i),null}t=W.current,sl(i)?Kg(i):(t=y_(h,l,a),i.stateNode=t,Xr(i))}return ht(i),null;case 5:if(gn(i),a=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&Xr(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return ht(i),null}if(t=W.current,sl(i))Kg(i);else{switch(h=zc(fe.current),t){case 1:t=h.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:t=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":t=h.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":t=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":t=h.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?h.createElement("select",{is:l.is}):h.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?h.createElement(a,{is:l.is}):h.createElement(a)}}t[It]=i,t[wt]=l;e:for(h=i.child;h!==null;){if(h.tag===5||h.tag===6)t.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===i)break e;for(;h.sibling===null;){if(h.return===null||h.return===i)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}i.stateNode=t;e:switch(Kt(t,a,l),a){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&Xr(i)}}return ht(i),i.flags&=-16777217,null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==l&&Xr(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(s(166));if(t=fe.current,sl(i)){if(t=i.stateNode,a=i.memoizedProps,l=null,h=cn,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[It]=i,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||c_(t.nodeValue,a)),t||Ls(i)}else t=zc(t).createTextNode(l),t[It]=i,i.stateNode=t}return ht(i),null;case 13:if(l=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=sl(i),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(s(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[It]=i}else al(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;ht(i),h=!1}else h=Qg(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return i.flags&256?(Yr(i),i):(Yr(i),null)}if(Yr(i),(i.flags&128)!==0)return i.lanes=a,i;if(a=l!==null,t=t!==null&&t.memoizedState!==null,a){l=i.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool);var d=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048)}return a!==t&&a&&(i.child.flags|=8192),xc(i,i.updateQueue),ht(i),null;case 4:return Ye(),t===null&&Zd(i.stateNode.containerInfo),ht(i),null;case 10:return $r(i.type),ht(i),null;case 19:if(le(kt),h=i.memoizedState,h===null)return ht(i),null;if(l=(i.flags&128)!==0,d=h.rendering,d===null)if(l)wl(h,!1);else{if(pt!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(d=wc(t),d!==null){for(i.flags|=128,wl(h,!1),t=d.updateQueue,i.updateQueue=t,xc(i,t),i.subtreeFlags=0,t=a,a=i.child;a!==null;)Gg(a,t),a=a.sibling;return ne(kt,kt.current&1|2),i.child}t=t.sibling}h.tail!==null&&Cn()>Nc&&(i.flags|=128,l=!0,wl(h,!1),i.lanes=4194304)}else{if(!l)if(t=wc(d),t!==null){if(i.flags|=128,l=!0,t=t.updateQueue,i.updateQueue=t,xc(i,t),wl(h,!0),h.tail===null&&h.tailMode==="hidden"&&!d.alternate&&!Qe)return ht(i),null}else 2*Cn()-h.renderingStartTime>Nc&&a!==536870912&&(i.flags|=128,l=!0,wl(h,!1),i.lanes=4194304);h.isBackwards?(d.sibling=i.child,i.child=d):(t=h.last,t!==null?t.sibling=d:i.child=d,h.last=d)}return h.tail!==null?(i=h.tail,h.rendering=i,h.tail=i.sibling,h.renderingStartTime=Cn(),i.sibling=null,t=kt.current,ne(kt,l?t&1|2:t&1),i):(ht(i),null);case 22:case 23:return Yr(i),ed(),l=i.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(a&536870912)!==0&&(i.flags&128)===0&&(ht(i),i.subtreeFlags&6&&(i.flags|=8192)):ht(i),a=i.updateQueue,a!==null&&xc(i,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==a&&(i.flags|=2048),t!==null&&le(zs),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),$r(Dt),ht(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function O1(t,i){switch(zf(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return $r(Dt),Ye(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return gn(i),null;case 13:if(Yr(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(s(340));al()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return le(kt),null;case 4:return Ye(),null;case 10:return $r(i.type),null;case 22:case 23:return Yr(i),ed(),t!==null&&le(zs),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return $r(Dt),null;case 25:return null;default:return null}}function vv(t,i){switch(zf(i),i.tag){case 3:$r(Dt),Ye();break;case 26:case 27:case 5:gn(i);break;case 4:Ye();break;case 13:Yr(i);break;case 19:le(kt);break;case 10:$r(i.type);break;case 22:case 23:Yr(i),ed(),t!==null&&le(zs);break;case 24:$r(Dt)}}function Tl(t,i){try{var a=i.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&t)===t){l=void 0;var d=a.create,E=a.inst;l=d(),E.destroy=l}a=a.next}while(a!==h)}}catch(b){it(i,i.return,b)}}function Ri(t,i,a){try{var l=i.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var d=h.next;l=d;do{if((l.tag&t)===t){var E=l.inst,b=E.destroy;if(b!==void 0){E.destroy=void 0,h=i;var O=a,H=b;try{H()}catch(J){it(h,O,J)}}}l=l.next}while(l!==d)}}catch(J){it(i,i.return,J)}}function _v(t){var i=t.updateQueue;if(i!==null){var a=t.stateNode;try{ay(i,a)}catch(l){it(t,t.return,l)}}}function Ev(t,i,a){a.props=qs(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){it(t,i,l)}}function Al(t,i){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(h){it(t,i,h)}}function pr(t,i){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){it(t,i,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){it(t,i,h)}else a.current=null}function bv(t){var i=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){it(t,t.return,h)}}function Cd(t,i,a){try{var l=t.stateNode;Z1(l,t.type,a,i),l[wt]=i}catch(h){it(t,t.return,h)}}function wv(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Mi(t.type)||t.tag===4}function Id(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||wv(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Mi(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Nd(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(t),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=jc));else if(l!==4&&(l===27&&Mi(t.type)&&(a=t.stateNode,i=null),t=t.child,t!==null))for(Nd(t,i,a),t=t.sibling;t!==null;)Nd(t,i,a),t=t.sibling}function Cc(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?a.insertBefore(t,i):a.appendChild(t);else if(l!==4&&(l===27&&Mi(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(Cc(t,i,a),t=t.sibling;t!==null;)Cc(t,i,a),t=t.sibling}function Tv(t){var i=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,h=i.attributes;h.length;)i.removeAttributeNode(h[0]);Kt(i,l,a),i[It]=t,i[wt]=a}catch(d){it(t,t.return,d)}}var Wr=!1,_t=!1,Od=!1,Av=typeof WeakSet=="function"?WeakSet:Set,jt=null;function D1(t,i){if(t=t.containerInfo,tm=$c,t=Pg(t),If(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var E=0,b=-1,O=-1,H=0,J=0,te=t,G=null;t:for(;;){for(var $;te!==a||h!==0&&te.nodeType!==3||(b=E+h),te!==d||l!==0&&te.nodeType!==3||(O=E+l),te.nodeType===3&&(E+=te.nodeValue.length),($=te.firstChild)!==null;)G=te,te=$;for(;;){if(te===t)break t;if(G===a&&++H===h&&(b=E),G===d&&++J===l&&(O=E),($=te.nextSibling)!==null)break;te=G,G=te.parentNode}te=$}a=b===-1||O===-1?null:{start:b,end:O}}else a=null}a=a||{start:0,end:0}}else a=null;for(nm={focusedElem:t,selectionRange:a},$c=!1,jt=i;jt!==null;)if(i=jt,t=i.child,(i.subtreeFlags&1024)!==0&&t!==null)t.return=i,jt=t;else for(;jt!==null;){switch(i=jt,d=i.alternate,t=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,a=i,h=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var xe=qs(a.type,h,a.elementType===a.type);t=l.getSnapshotBeforeUpdate(xe,d),l.__reactInternalSnapshotBeforeUpdate=t}catch(Te){it(a,a.return,Te)}}break;case 3:if((t&1024)!==0){if(t=i.stateNode.containerInfo,a=t.nodeType,a===9)sm(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":sm(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=i.sibling,t!==null){t.return=i.return,jt=t;break}jt=i.return}}function Sv(t,i,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:xi(t,a),l&4&&Tl(5,a);break;case 1:if(xi(t,a),l&4)if(t=a.stateNode,i===null)try{t.componentDidMount()}catch(E){it(a,a.return,E)}else{var h=qs(a.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(h,i,t.__reactInternalSnapshotBeforeUpdate)}catch(E){it(a,a.return,E)}}l&64&&_v(a),l&512&&Al(a,a.return);break;case 3:if(xi(t,a),l&64&&(t=a.updateQueue,t!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{ay(t,i)}catch(E){it(a,a.return,E)}}break;case 27:i===null&&l&4&&Tv(a);case 26:case 5:xi(t,a),i===null&&l&4&&bv(a),l&512&&Al(a,a.return);break;case 12:xi(t,a);break;case 13:xi(t,a),l&4&&Cv(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=B1.bind(null,a),sA(t,a))));break;case 22:if(l=a.memoizedState!==null||Wr,!l){i=i!==null&&i.memoizedState!==null||_t,h=Wr;var d=_t;Wr=l,(_t=i)&&!d?Ci(t,a,(a.subtreeFlags&8772)!==0):xi(t,a),Wr=h,_t=d}break;case 30:break;default:xi(t,a)}}function Rv(t){var i=t.alternate;i!==null&&(t.alternate=null,Rv(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&pi(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var ot=null,fn=!1;function Zr(t,i,a){for(a=a.child;a!==null;)xv(t,i,a),a=a.sibling}function xv(t,i,a){if(We&&typeof We.onCommitFiberUnmount=="function")try{We.onCommitFiberUnmount(dt,a)}catch{}switch(a.tag){case 26:_t||pr(a,i),Zr(t,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:_t||pr(a,i);var l=ot,h=fn;Mi(a.type)&&(ot=a.stateNode,fn=!1),Zr(t,i,a),kl(a.stateNode),ot=l,fn=h;break;case 5:_t||pr(a,i);case 6:if(l=ot,h=fn,ot=null,Zr(t,i,a),ot=l,fn=h,ot!==null)if(fn)try{(ot.nodeType===9?ot.body:ot.nodeName==="HTML"?ot.ownerDocument.body:ot).removeChild(a.stateNode)}catch(d){it(a,i,d)}else try{ot.removeChild(a.stateNode)}catch(d){it(a,i,d)}break;case 18:ot!==null&&(fn?(t=ot,p_(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),Bl(t)):p_(ot,a.stateNode));break;case 4:l=ot,h=fn,ot=a.stateNode.containerInfo,fn=!0,Zr(t,i,a),ot=l,fn=h;break;case 0:case 11:case 14:case 15:_t||Ri(2,a,i),_t||Ri(4,a,i),Zr(t,i,a);break;case 1:_t||(pr(a,i),l=a.stateNode,typeof l.componentWillUnmount=="function"&&Ev(a,i,l)),Zr(t,i,a);break;case 21:Zr(t,i,a);break;case 22:_t=(l=_t)||a.memoizedState!==null,Zr(t,i,a),_t=l;break;default:Zr(t,i,a)}}function Cv(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Bl(t)}catch(a){it(i,i.return,a)}}function k1(t){switch(t.tag){case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new Av),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new Av),i;default:throw Error(s(435,t.tag))}}function Dd(t,i){var a=k1(t);i.forEach(function(l){var h=q1.bind(null,t,l);a.has(l)||(a.add(l),l.then(h,h))})}function bn(t,i){var a=i.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],d=t,E=i,b=E;e:for(;b!==null;){switch(b.tag){case 27:if(Mi(b.type)){ot=b.stateNode,fn=!1;break e}break;case 5:ot=b.stateNode,fn=!1;break e;case 3:case 4:ot=b.stateNode.containerInfo,fn=!0;break e}b=b.return}if(ot===null)throw Error(s(160));xv(d,E,h),ot=null,fn=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)Iv(i,t),i=i.sibling}var Kn=null;function Iv(t,i){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:bn(i,t),wn(t),l&4&&(Ri(3,t,t.return),Tl(3,t),Ri(5,t,t.return));break;case 1:bn(i,t),wn(t),l&512&&(_t||a===null||pr(a,a.return)),l&64&&Wr&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=Kn;if(bn(i,t),wn(t),l&512&&(_t||a===null||pr(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":d=h.getElementsByTagName("title")[0],(!d||d[ys]||d[It]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(l),h.head.insertBefore(d,h.querySelector("head > title"))),Kt(d,l,a),d[It]=t,yt(d),l=d;break e;case"link":var E=T_("link","href",h).get(l+(a.href||""));if(E){for(var b=0;b<E.length;b++)if(d=E[b],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){E.splice(b,1);break t}}d=h.createElement(l),Kt(d,l,a),h.head.appendChild(d);break;case"meta":if(E=T_("meta","content",h).get(l+(a.content||""))){for(b=0;b<E.length;b++)if(d=E[b],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){E.splice(b,1);break t}}d=h.createElement(l),Kt(d,l,a),h.head.appendChild(d);break;default:throw Error(s(468,l))}d[It]=t,yt(d),l=d}t.stateNode=l}else A_(h,t.type,t.stateNode);else t.stateNode=w_(h,l,t.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?A_(h,t.type,t.stateNode):w_(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Cd(t,t.memoizedProps,a.memoizedProps)}break;case 27:bn(i,t),wn(t),l&512&&(_t||a===null||pr(a,a.return)),a!==null&&l&4&&Cd(t,t.memoizedProps,a.memoizedProps);break;case 5:if(bn(i,t),wn(t),l&512&&(_t||a===null||pr(a,a.return)),t.flags&32){h=t.stateNode;try{Nn(h,"")}catch($){it(t,t.return,$)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,Cd(t,h,a!==null?a.memoizedProps:h)),l&1024&&(Od=!0);break;case 6:if(bn(i,t),wn(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch($){it(t,t.return,$)}}break;case 3:if(Hc=null,h=Kn,Kn=Bc(i.containerInfo),bn(i,t),Kn=h,wn(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Bl(i.containerInfo)}catch($){it(t,t.return,$)}Od&&(Od=!1,Nv(t));break;case 4:l=Kn,Kn=Bc(t.stateNode.containerInfo),bn(i,t),wn(t),Kn=l;break;case 12:bn(i,t),wn(t);break;case 13:bn(i,t),wn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Ud=Cn()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Dd(t,l)));break;case 22:h=t.memoizedState!==null;var O=a!==null&&a.memoizedState!==null,H=Wr,J=_t;if(Wr=H||h,_t=J||O,bn(i,t),_t=J,Wr=H,wn(t),l&8192)e:for(i=t.stateNode,i._visibility=h?i._visibility&-2:i._visibility|1,h&&(a===null||O||Wr||_t||Hs(t)),a=null,i=t;;){if(i.tag===5||i.tag===26){if(a===null){O=a=i;try{if(d=O.stateNode,h)E=d.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none";else{b=O.stateNode;var te=O.memoizedProps.style,G=te!=null&&te.hasOwnProperty("display")?te.display:null;b.style.display=G==null||typeof G=="boolean"?"":(""+G).trim()}}catch($){it(O,O.return,$)}}}else if(i.tag===6){if(a===null){O=i;try{O.stateNode.nodeValue=h?"":O.memoizedProps}catch($){it(O,O.return,$)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Dd(t,a))));break;case 19:bn(i,t),wn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Dd(t,l)));break;case 30:break;case 21:break;default:bn(i,t),wn(t)}}function wn(t){var i=t.flags;if(i&2){try{for(var a,l=t.return;l!==null;){if(wv(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var h=a.stateNode,d=Id(t);Cc(t,d,h);break;case 5:var E=a.stateNode;a.flags&32&&(Nn(E,""),a.flags&=-33);var b=Id(t);Cc(t,b,E);break;case 3:case 4:var O=a.stateNode.containerInfo,H=Id(t);Nd(t,H,O);break;default:throw Error(s(161))}}catch(J){it(t,t.return,J)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function Nv(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;Nv(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function xi(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)Sv(t,i.alternate,i),i=i.sibling}function Hs(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:Ri(4,i,i.return),Hs(i);break;case 1:pr(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&Ev(i,i.return,a),Hs(i);break;case 27:kl(i.stateNode);case 26:case 5:pr(i,i.return),Hs(i);break;case 22:i.memoizedState===null&&Hs(i);break;case 30:Hs(i);break;default:Hs(i)}t=t.sibling}}function Ci(t,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,h=t,d=i,E=d.flags;switch(d.tag){case 0:case 11:case 15:Ci(h,d,a),Tl(4,d);break;case 1:if(Ci(h,d,a),l=d,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(H){it(l,l.return,H)}if(l=d,h=l.updateQueue,h!==null){var b=l.stateNode;try{var O=h.shared.hiddenCallbacks;if(O!==null)for(h.shared.hiddenCallbacks=null,h=0;h<O.length;h++)sy(O[h],b)}catch(H){it(l,l.return,H)}}a&&E&64&&_v(d),Al(d,d.return);break;case 27:Tv(d);case 26:case 5:Ci(h,d,a),a&&l===null&&E&4&&bv(d),Al(d,d.return);break;case 12:Ci(h,d,a);break;case 13:Ci(h,d,a),a&&E&4&&Cv(h,d);break;case 22:d.memoizedState===null&&Ci(h,d,a),Al(d,d.return);break;case 30:break;default:Ci(h,d,a)}i=i.sibling}}function kd(t,i){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&ul(a))}function Md(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&ul(t))}function gr(t,i,a,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Ov(t,i,a,l),i=i.sibling}function Ov(t,i,a,l){var h=i.flags;switch(i.tag){case 0:case 11:case 15:gr(t,i,a,l),h&2048&&Tl(9,i);break;case 1:gr(t,i,a,l);break;case 3:gr(t,i,a,l),h&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&ul(t)));break;case 12:if(h&2048){gr(t,i,a,l),t=i.stateNode;try{var d=i.memoizedProps,E=d.id,b=d.onPostCommit;typeof b=="function"&&b(E,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(O){it(i,i.return,O)}}else gr(t,i,a,l);break;case 13:gr(t,i,a,l);break;case 23:break;case 22:d=i.stateNode,E=i.alternate,i.memoizedState!==null?d._visibility&2?gr(t,i,a,l):Sl(t,i):d._visibility&2?gr(t,i,a,l):(d._visibility|=2,za(t,i,a,l,(i.subtreeFlags&10256)!==0)),h&2048&&kd(E,i);break;case 24:gr(t,i,a,l),h&2048&&Md(i.alternate,i);break;default:gr(t,i,a,l)}}function za(t,i,a,l,h){for(h=h&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var d=t,E=i,b=a,O=l,H=E.flags;switch(E.tag){case 0:case 11:case 15:za(d,E,b,O,h),Tl(8,E);break;case 23:break;case 22:var J=E.stateNode;E.memoizedState!==null?J._visibility&2?za(d,E,b,O,h):Sl(d,E):(J._visibility|=2,za(d,E,b,O,h)),h&&H&2048&&kd(E.alternate,E);break;case 24:za(d,E,b,O,h),h&&H&2048&&Md(E.alternate,E);break;default:za(d,E,b,O,h)}i=i.sibling}}function Sl(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=t,l=i,h=l.flags;switch(l.tag){case 22:Sl(a,l),h&2048&&kd(l.alternate,l);break;case 24:Sl(a,l),h&2048&&Md(l.alternate,l);break;default:Sl(a,l)}i=i.sibling}}var Rl=8192;function Ba(t){if(t.subtreeFlags&Rl)for(t=t.child;t!==null;)Dv(t),t=t.sibling}function Dv(t){switch(t.tag){case 26:Ba(t),t.flags&Rl&&t.memoizedState!==null&&vA(Kn,t.memoizedState,t.memoizedProps);break;case 5:Ba(t);break;case 3:case 4:var i=Kn;Kn=Bc(t.stateNode.containerInfo),Ba(t),Kn=i;break;case 22:t.memoizedState===null&&(i=t.alternate,i!==null&&i.memoizedState!==null?(i=Rl,Rl=16777216,Ba(t),Rl=i):Ba(t));break;default:Ba(t)}}function kv(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function xl(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];jt=l,Pv(l,t)}kv(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Mv(t),t=t.sibling}function Mv(t){switch(t.tag){case 0:case 11:case 15:xl(t),t.flags&2048&&Ri(9,t,t.return);break;case 3:xl(t);break;case 12:xl(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&2&&(t.return===null||t.return.tag!==13)?(i._visibility&=-3,Ic(t)):xl(t);break;default:xl(t)}}function Ic(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];jt=l,Pv(l,t)}kv(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:Ri(8,i,i.return),Ic(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,Ic(i));break;default:Ic(i)}t=t.sibling}}function Pv(t,i){for(;jt!==null;){var a=jt;switch(a.tag){case 0:case 11:case 15:Ri(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:ul(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,jt=l;else e:for(a=t;jt!==null;){l=jt;var h=l.sibling,d=l.return;if(Rv(l),l===a){jt=null;break e}if(h!==null){h.return=d,jt=h;break e}jt=d}}}var M1={getCacheForType:function(t){var i=Wt(Dt),a=i.data.get(t);return a===void 0&&(a=t(),i.data.set(t,a)),a}},P1=typeof WeakMap=="function"?WeakMap:Map,Ze=0,st=null,Le=null,He=0,Je=0,Tn=null,Ii=!1,qa=!1,Pd=!1,Jr=0,pt=0,Ni=0,Fs=0,Vd=0,jn=0,Ha=0,Cl=null,dn=null,Ld=!1,Ud=0,Nc=1/0,Oc=null,Oi=null,$t=0,Di=null,Fa=null,Ga=0,jd=0,zd=null,Vv=null,Il=0,Bd=null;function An(){if((Ze&2)!==0&&He!==0)return He&-He;if(F.T!==null){var t=Da;return t!==0?t:Yd()}return di()}function Lv(){jn===0&&(jn=(He&536870912)===0||Qe?Uo():536870912);var t=Un.current;return t!==null&&(t.flags|=32),jn}function Sn(t,i,a){(t===st&&(Je===2||Je===9)||t.cancelPendingCommit!==null)&&($a(t,0),ki(t,He,jn,!1)),Or(t,a),((Ze&2)===0||t!==st)&&(t===st&&((Ze&2)===0&&(Fs|=a),pt===4&&ki(t,He,jn,!1)),yr(t))}function Uv(t,i,a){if((Ze&6)!==0)throw Error(s(327));var l=!a&&(i&124)===0&&(i&t.expiredLanes)===0||gs(t,i),h=l?U1(t,i):Fd(t,i,!0),d=l;do{if(h===0){qa&&!l&&ki(t,i,0,!1);break}else{if(a=t.current.alternate,d&&!V1(a)){h=Fd(t,i,!1),d=!1;continue}if(h===2){if(d=i,t.errorRecoveryDisabledLanes&d)var E=0;else E=t.pendingLanes&-536870913,E=E!==0?E:E&536870912?536870912:0;if(E!==0){i=E;e:{var b=t;h=Cl;var O=b.current.memoizedState.isDehydrated;if(O&&($a(b,E).flags|=256),E=Fd(b,E,!1),E!==2){if(Pd&&!O){b.errorRecoveryDisabledLanes|=d,Fs|=d,h=4;break e}d=dn,dn=h,d!==null&&(dn===null?dn=d:dn.push.apply(dn,d))}h=E}if(d=!1,h!==2)continue}}if(h===1){$a(t,0),ki(t,i,0,!0);break}e:{switch(l=t,d=h,d){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:ki(l,i,jn,!Ii);break e;case 2:dn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(h=Ud+300-Cn(),10<h)){if(ki(l,i,jn,!Ii),ua(l,0,!0)!==0)break e;l.timeoutHandle=d_(jv.bind(null,l,a,dn,Oc,Ld,i,jn,Fs,Ha,Ii,d,2,-0,0),h);break e}jv(l,a,dn,Oc,Ld,i,jn,Fs,Ha,Ii,d,0,-0,0)}}break}while(!0);yr(t)}function jv(t,i,a,l,h,d,E,b,O,H,J,te,G,$){if(t.timeoutHandle=-1,te=i.subtreeFlags,(te&8192||(te&16785408)===16785408)&&(Vl={stylesheets:null,count:0,unsuspend:yA},Dv(i),te=_A(),te!==null)){t.cancelPendingCommit=te($v.bind(null,t,i,d,a,l,h,E,b,O,J,1,G,$)),ki(t,d,E,!H);return}$v(t,i,d,a,l,h,E,b,O)}function V1(t){for(var i=t;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],d=h.getSnapshot;h=h.value;try{if(!_n(d(),h))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function ki(t,i,a,l){i&=~Vd,i&=~Fs,t.suspendedLanes|=i,t.pingedLanes&=~i,l&&(t.warmLanes|=i),l=t.expirationTimes;for(var h=i;0<h;){var d=31-Xt(h),E=1<<d;l[d]=-1,h&=~E}a!==0&&nr(t,a,i)}function Dc(){return(Ze&6)===0?(Nl(0),!1):!0}function qd(){if(Le!==null){if(Je===0)var t=Le.return;else t=Le,Gr=Us=null,sd(t),Ua=null,El=0,t=Le;for(;t!==null;)vv(t.alternate,t),t=t.return;Le=null}}function $a(t,i){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,eA(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),qd(),st=t,Le=a=qr(t.current,null),He=i,Je=0,Tn=null,Ii=!1,qa=gs(t,i),Pd=!1,Ha=jn=Vd=Fs=Ni=pt=0,dn=Cl=null,Ld=!1,(i&8)!==0&&(i|=i&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=i;0<l;){var h=31-Xt(l),d=1<<h;i|=t[h],l&=~d}return Jr=i,ec(),a}function zv(t,i){ke=null,F.H=_c,i===hl||i===uc?(i=ry(),Je=3):i===ey?(i=ry(),Je=4):Je=i===iv?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,Tn=i,Le===null&&(pt=1,Ac(t,Mn(i,t.current)))}function Bv(){var t=F.H;return F.H=_c,t===null?_c:t}function qv(){var t=F.A;return F.A=M1,t}function Hd(){pt=4,Ii||(He&4194048)!==He&&Un.current!==null||(qa=!0),(Ni&134217727)===0&&(Fs&134217727)===0||st===null||ki(st,He,jn,!1)}function Fd(t,i,a){var l=Ze;Ze|=2;var h=Bv(),d=qv();(st!==t||He!==i)&&(Oc=null,$a(t,i)),i=!1;var E=pt;e:do try{if(Je!==0&&Le!==null){var b=Le,O=Tn;switch(Je){case 8:qd(),E=6;break e;case 3:case 2:case 9:case 6:Un.current===null&&(i=!0);var H=Je;if(Je=0,Tn=null,Ka(t,b,O,H),a&&qa){E=0;break e}break;default:H=Je,Je=0,Tn=null,Ka(t,b,O,H)}}L1(),E=pt;break}catch(J){zv(t,J)}while(!0);return i&&t.shellSuspendCounter++,Gr=Us=null,Ze=l,F.H=h,F.A=d,Le===null&&(st=null,He=0,ec()),E}function L1(){for(;Le!==null;)Hv(Le)}function U1(t,i){var a=Ze;Ze|=2;var l=Bv(),h=qv();st!==t||He!==i?(Oc=null,Nc=Cn()+500,$a(t,i)):qa=gs(t,i);e:do try{if(Je!==0&&Le!==null){i=Le;var d=Tn;t:switch(Je){case 1:Je=0,Tn=null,Ka(t,i,d,1);break;case 2:case 9:if(ty(d)){Je=0,Tn=null,Fv(i);break}i=function(){Je!==2&&Je!==9||st!==t||(Je=7),yr(t)},d.then(i,i);break e;case 3:Je=7;break e;case 4:Je=5;break e;case 7:ty(d)?(Je=0,Tn=null,Fv(i)):(Je=0,Tn=null,Ka(t,i,d,7));break;case 5:var E=null;switch(Le.tag){case 26:E=Le.memoizedState;case 5:case 27:var b=Le;if(!E||S_(E)){Je=0,Tn=null;var O=b.sibling;if(O!==null)Le=O;else{var H=b.return;H!==null?(Le=H,kc(H)):Le=null}break t}}Je=0,Tn=null,Ka(t,i,d,5);break;case 6:Je=0,Tn=null,Ka(t,i,d,6);break;case 8:qd(),pt=6;break e;default:throw Error(s(462))}}j1();break}catch(J){zv(t,J)}while(!0);return Gr=Us=null,F.H=l,F.A=h,Ze=a,Le!==null?0:(st=null,He=0,ec(),pt)}function j1(){for(;Le!==null&&!Mo();)Hv(Le)}function Hv(t){var i=gv(t.alternate,t,Jr);t.memoizedProps=t.pendingProps,i===null?kc(t):Le=i}function Fv(t){var i=t,a=i.alternate;switch(i.tag){case 15:case 0:i=cv(a,i,i.pendingProps,i.type,void 0,He);break;case 11:i=cv(a,i,i.pendingProps,i.type.render,i.ref,He);break;case 5:sd(i);default:vv(a,i),i=Le=Gg(i,Jr),i=gv(a,i,Jr)}t.memoizedProps=t.pendingProps,i===null?kc(t):Le=i}function Ka(t,i,a,l){Gr=Us=null,sd(i),Ua=null,El=0;var h=i.return;try{if(C1(t,h,i,a,He)){pt=1,Ac(t,Mn(a,t.current)),Le=null;return}}catch(d){if(h!==null)throw Le=h,d;pt=1,Ac(t,Mn(a,t.current)),Le=null;return}i.flags&32768?(Qe||l===1?t=!0:qa||(He&536870912)!==0?t=!1:(Ii=t=!0,(l===2||l===9||l===3||l===6)&&(l=Un.current,l!==null&&l.tag===13&&(l.flags|=16384))),Gv(i,t)):kc(i)}function kc(t){var i=t;do{if((i.flags&32768)!==0){Gv(i,Ii);return}t=i.return;var a=N1(i.alternate,i,Jr);if(a!==null){Le=a;return}if(i=i.sibling,i!==null){Le=i;return}Le=i=t}while(i!==null);pt===0&&(pt=5)}function Gv(t,i){do{var a=O1(t.alternate,t);if(a!==null){a.flags&=32767,Le=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(t=t.sibling,t!==null)){Le=t;return}Le=t=a}while(t!==null);pt=6,Le=null}function $v(t,i,a,l,h,d,E,b,O){t.cancelPendingCommit=null;do Mc();while($t!==0);if((Ze&6)!==0)throw Error(s(327));if(i!==null){if(i===t.current)throw Error(s(177));if(d=i.lanes|i.childLanes,d|=Mf,zo(t,a,d,E,b,O),t===st&&(Le=st=null,He=0),Fa=i,Di=t,Ga=a,jd=d,zd=h,Vv=l,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,H1(fs,function(){return Wv(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||l){l=F.T,F.T=null,h=ce.p,ce.p=2,E=Ze,Ze|=4;try{D1(t,i,a)}finally{Ze=E,ce.p=h,F.T=l}}$t=1,Kv(),Yv(),Qv()}}function Kv(){if($t===1){$t=0;var t=Di,i=Fa,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=F.T,F.T=null;var l=ce.p;ce.p=2;var h=Ze;Ze|=4;try{Iv(i,t);var d=nm,E=Pg(t.containerInfo),b=d.focusedElem,O=d.selectionRange;if(E!==b&&b&&b.ownerDocument&&Mg(b.ownerDocument.documentElement,b)){if(O!==null&&If(b)){var H=O.start,J=O.end;if(J===void 0&&(J=H),"selectionStart"in b)b.selectionStart=H,b.selectionEnd=Math.min(J,b.value.length);else{var te=b.ownerDocument||document,G=te&&te.defaultView||window;if(G.getSelection){var $=G.getSelection(),xe=b.textContent.length,Te=Math.min(O.start,xe),rt=O.end===void 0?Te:Math.min(O.end,xe);!$.extend&&Te>rt&&(E=rt,rt=Te,Te=E);var j=kg(b,Te),V=kg(b,rt);if(j&&V&&($.rangeCount!==1||$.anchorNode!==j.node||$.anchorOffset!==j.offset||$.focusNode!==V.node||$.focusOffset!==V.offset)){var q=te.createRange();q.setStart(j.node,j.offset),$.removeAllRanges(),Te>rt?($.addRange(q),$.extend(V.node,V.offset)):(q.setEnd(V.node,V.offset),$.addRange(q))}}}}for(te=[],$=b;$=$.parentNode;)$.nodeType===1&&te.push({element:$,left:$.scrollLeft,top:$.scrollTop});for(typeof b.focus=="function"&&b.focus(),b=0;b<te.length;b++){var ee=te[b];ee.element.scrollLeft=ee.left,ee.element.scrollTop=ee.top}}$c=!!tm,nm=tm=null}finally{Ze=h,ce.p=l,F.T=a}}t.current=i,$t=2}}function Yv(){if($t===2){$t=0;var t=Di,i=Fa,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=F.T,F.T=null;var l=ce.p;ce.p=2;var h=Ze;Ze|=4;try{Sv(t,i.alternate,i)}finally{Ze=h,ce.p=l,F.T=a}}$t=3}}function Qv(){if($t===4||$t===3){$t=0,Iu();var t=Di,i=Fa,a=Ga,l=Vv;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?$t=5:($t=0,Fa=Di=null,Xv(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(Oi=null),ca(a),i=i.stateNode,We&&typeof We.onCommitFiberRoot=="function")try{We.onCommitFiberRoot(dt,i,void 0,(i.current.flags&128)===128)}catch{}if(l!==null){i=F.T,h=ce.p,ce.p=2,F.T=null;try{for(var d=t.onRecoverableError,E=0;E<l.length;E++){var b=l[E];d(b.value,{componentStack:b.stack})}}finally{F.T=i,ce.p=h}}(Ga&3)!==0&&Mc(),yr(t),h=t.pendingLanes,(a&4194090)!==0&&(h&42)!==0?t===Bd?Il++:(Il=0,Bd=t):Il=0,Nl(0)}}function Xv(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,ul(i)))}function Mc(t){return Kv(),Yv(),Qv(),Wv()}function Wv(){if($t!==5)return!1;var t=Di,i=jd;jd=0;var a=ca(Ga),l=F.T,h=ce.p;try{ce.p=32>a?32:a,F.T=null,a=zd,zd=null;var d=Di,E=Ga;if($t=0,Fa=Di=null,Ga=0,(Ze&6)!==0)throw Error(s(331));var b=Ze;if(Ze|=4,Mv(d.current),Ov(d,d.current,E,a),Ze=b,Nl(0,!1),We&&typeof We.onPostCommitFiberRoot=="function")try{We.onPostCommitFiberRoot(dt,d)}catch{}return!0}finally{ce.p=h,F.T=l,Xv(t,i)}}function Zv(t,i,a){i=Mn(a,i),i=_d(t.stateNode,i,2),t=wi(t,i,2),t!==null&&(Or(t,2),yr(t))}function it(t,i,a){if(t.tag===3)Zv(t,t,a);else for(;i!==null;){if(i.tag===3){Zv(i,t,a);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Oi===null||!Oi.has(l))){t=Mn(a,t),a=nv(2),l=wi(i,a,2),l!==null&&(rv(a,l,i,t),Or(l,2),yr(l));break}}i=i.return}}function Gd(t,i,a){var l=t.pingCache;if(l===null){l=t.pingCache=new P1;var h=new Set;l.set(i,h)}else h=l.get(i),h===void 0&&(h=new Set,l.set(i,h));h.has(a)||(Pd=!0,h.add(a),t=z1.bind(null,t,i,a),i.then(t,t))}function z1(t,i,a){var l=t.pingCache;l!==null&&l.delete(i),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,st===t&&(He&a)===a&&(pt===4||pt===3&&(He&62914560)===He&&300>Cn()-Ud?(Ze&2)===0&&$a(t,0):Vd|=a,Ha===He&&(Ha=0)),yr(t)}function Jv(t,i){i===0&&(i=jo()),t=Ca(t,i),t!==null&&(Or(t,i),yr(t))}function B1(t){var i=t.memoizedState,a=0;i!==null&&(a=i.retryLane),Jv(t,a)}function q1(t,i){var a=0;switch(t.tag){case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(i),Jv(t,a)}function H1(t,i){return cs(t,i)}var Pc=null,Ya=null,$d=!1,Vc=!1,Kd=!1,Gs=0;function yr(t){t!==Ya&&t.next===null&&(Ya===null?Pc=Ya=t:Ya=Ya.next=t),Vc=!0,$d||($d=!0,G1())}function Nl(t,i){if(!Kd&&Vc){Kd=!0;do for(var a=!1,l=Pc;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var d=0;else{var E=l.suspendedLanes,b=l.pingedLanes;d=(1<<31-Xt(42|t)+1)-1,d&=h&~(E&~b),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,r_(l,d))}else d=He,d=ua(l,l===st?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||gs(l,d)||(a=!0,r_(l,d));l=l.next}while(a);Kd=!1}}function F1(){e_()}function e_(){Vc=$d=!1;var t=0;Gs!==0&&(J1()&&(t=Gs),Gs=0);for(var i=Cn(),a=null,l=Pc;l!==null;){var h=l.next,d=t_(l,i);d===0?(l.next=null,a===null?Pc=h:a.next=h,h===null&&(Ya=a)):(a=l,(t!==0||(d&3)!==0)&&(Vc=!0)),l=h}Nl(t)}function t_(t,i){for(var a=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var E=31-Xt(d),b=1<<E,O=h[E];O===-1?((b&a)===0||(b&l)!==0)&&(h[E]=Lo(b,i)):O<=i&&(t.expiredLanes|=b),d&=~b}if(i=st,a=He,a=ua(t,t===i?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===i&&(Je===2||Je===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&hs(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||gs(t,a)){if(i=a&-a,i===t.callbackPriority)return i;switch(l!==null&&hs(l),ca(a)){case 2:case 8:a=oa;break;case 32:a=fs;break;case 268435456:a=la;break;default:a=fs}return l=n_.bind(null,t),a=cs(a,l),t.callbackPriority=i,t.callbackNode=a,i}return l!==null&&l!==null&&hs(l),t.callbackPriority=2,t.callbackNode=null,2}function n_(t,i){if($t!==0&&$t!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(Mc()&&t.callbackNode!==a)return null;var l=He;return l=ua(t,t===st?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(Uv(t,l,i),t_(t,Cn()),t.callbackNode!=null&&t.callbackNode===a?n_.bind(null,t):null)}function r_(t,i){if(Mc())return null;Uv(t,i,!0)}function G1(){tA(function(){(Ze&6)!==0?cs(Po,F1):e_()})}function Yd(){return Gs===0&&(Gs=Uo()),Gs}function i_(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:ga(""+t)}function s_(t,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,t.id&&a.setAttribute("form",t.id),i.parentNode.insertBefore(a,i),t=new FormData(t),a.parentNode.removeChild(a),t}function $1(t,i,a,l,h){if(i==="submit"&&a&&a.stateNode===h){var d=i_((h[wt]||null).action),E=l.submitter;E&&(i=(i=E[wt]||null)?i_(i.formAction):E.getAttribute("formAction"),i!==null&&(d=i,E=null));var b=new ya("action","action",null,l,h);t.push({event:b,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Gs!==0){var O=E?s_(h,E):new FormData(h);md(a,{pending:!0,data:O,method:h.method,action:d},null,O)}}else typeof d=="function"&&(b.preventDefault(),O=E?s_(h,E):new FormData(h),md(a,{pending:!0,data:O,method:h.method,action:d},d,O))},currentTarget:h}]})}}for(var Qd=0;Qd<kf.length;Qd++){var Xd=kf[Qd],K1=Xd.toLowerCase(),Y1=Xd[0].toUpperCase()+Xd.slice(1);$n(K1,"on"+Y1)}$n(Ug,"onAnimationEnd"),$n(jg,"onAnimationIteration"),$n(zg,"onAnimationStart"),$n("dblclick","onDoubleClick"),$n("focusin","onFocus"),$n("focusout","onBlur"),$n(h1,"onTransitionRun"),$n(f1,"onTransitionStart"),$n(d1,"onTransitionCancel"),$n(Bg,"onTransitionEnd"),kr("onMouseEnter",["mouseout","mouseover"]),kr("onMouseLeave",["mouseout","mouseover"]),kr("onPointerEnter",["pointerout","pointerover"]),kr("onPointerLeave",["pointerout","pointerover"]),Fn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Fn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Fn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Fn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Fn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Fn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ol="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Q1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ol));function a_(t,i){i=(i&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],h=l.event;l=l.listeners;e:{var d=void 0;if(i)for(var E=l.length-1;0<=E;E--){var b=l[E],O=b.instance,H=b.currentTarget;if(b=b.listener,O!==d&&h.isPropagationStopped())break e;d=b,h.currentTarget=H;try{d(h)}catch(J){Tc(J)}h.currentTarget=null,d=O}else for(E=0;E<l.length;E++){if(b=l[E],O=b.instance,H=b.currentTarget,b=b.listener,O!==d&&h.isPropagationStopped())break e;d=b,h.currentTarget=H;try{d(h)}catch(J){Tc(J)}h.currentTarget=null,d=O}}}}function Ue(t,i){var a=i[qo];a===void 0&&(a=i[qo]=new Set);var l=t+"__bubble";a.has(l)||(o_(i,t,2,!1),a.add(l))}function Wd(t,i,a){var l=0;i&&(l|=4),o_(a,t,l,i)}var Lc="_reactListening"+Math.random().toString(36).slice(2);function Zd(t){if(!t[Lc]){t[Lc]=!0,Ho.forEach(function(a){a!=="selectionchange"&&(Q1.has(a)||Wd(a,!1,t),Wd(a,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[Lc]||(i[Lc]=!0,Wd("selectionchange",!1,i))}}function o_(t,i,a,l){switch(O_(i)){case 2:var h=wA;break;case 8:h=TA;break;default:h=fm}a=h.bind(null,i,a,t),h=void 0,!Dn||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(i,a,{capture:!0,passive:h}):t.addEventListener(i,a,!0):h!==void 0?t.addEventListener(i,a,{passive:h}):t.addEventListener(i,a,!1)}function Jd(t,i,a,l,h){var d=l;if((i&1)===0&&(i&2)===0&&l!==null)e:for(;;){if(l===null)return;var E=l.tag;if(E===3||E===4){var b=l.stateNode.containerInfo;if(b===h)break;if(E===4)for(E=l.return;E!==null;){var O=E.tag;if((O===3||O===4)&&E.stateNode.containerInfo===h)return;E=E.return}for(;b!==null;){if(E=Dr(b),E===null)return;if(O=E.tag,O===5||O===6||O===26||O===27){l=d=E;continue e}b=b.parentNode}}l=l.return}ju(function(){var H=d,J=On(a),te=[];e:{var G=qg.get(t);if(G!==void 0){var $=ya,xe=t;switch(t){case"keypress":if(lr(a)===0)break e;case"keydown":case"keyup":$=Ta;break;case"focusin":xe="focus",$=Ea;break;case"focusout":xe="blur",$=Ea;break;case"beforeblur":case"afterblur":$=Ea;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":$=kn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":$=Sf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":$=Ku;break;case Ug:case jg:case zg:$=ba;break;case Bg:$=Qu;break;case"scroll":case"scrollend":$=zu;break;case"wheel":$=Aa;break;case"copy":case"cut":case"paste":$=wa;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":$=tl;break;case"toggle":case"beforetoggle":$=Wu}var Te=(i&4)!==0,rt=!Te&&(t==="scroll"||t==="scrollend"),j=Te?G!==null?G+"Capture":null:G;Te=[];for(var V=H,q;V!==null;){var ee=V;if(q=ee.stateNode,ee=ee.tag,ee!==5&&ee!==26&&ee!==27||q===null||j===null||(ee=As(V,j),ee!=null&&Te.push(Dl(V,ee,q))),rt)break;V=V.return}0<Te.length&&(G=new $(G,xe,null,a,J),te.push({event:G,listeners:Te}))}}if((i&7)===0){e:{if(G=t==="mouseover"||t==="pointerover",$=t==="mouseout"||t==="pointerout",G&&a!==Vr&&(xe=a.relatedTarget||a.fromElement)&&(Dr(xe)||xe[In]))break e;if(($||G)&&(G=J.window===J?J:(G=J.ownerDocument)?G.defaultView||G.parentWindow:window,$?(xe=a.relatedTarget||a.toElement,$=H,xe=xe?Dr(xe):null,xe!==null&&(rt=u(xe),Te=xe.tag,xe!==rt||Te!==5&&Te!==27&&Te!==6)&&(xe=null)):($=null,xe=H),$!==xe)){if(Te=kn,ee="onMouseLeave",j="onMouseEnter",V="mouse",(t==="pointerout"||t==="pointerover")&&(Te=tl,ee="onPointerLeave",j="onPointerEnter",V="pointer"),rt=$==null?G:ir($),q=xe==null?G:ir(xe),G=new Te(ee,V+"leave",$,a,J),G.target=rt,G.relatedTarget=q,ee=null,Dr(J)===H&&(Te=new Te(j,V+"enter",xe,a,J),Te.target=q,Te.relatedTarget=rt,ee=Te),rt=ee,$&&xe)t:{for(Te=$,j=xe,V=0,q=Te;q;q=Qa(q))V++;for(q=0,ee=j;ee;ee=Qa(ee))q++;for(;0<V-q;)Te=Qa(Te),V--;for(;0<q-V;)j=Qa(j),q--;for(;V--;){if(Te===j||j!==null&&Te===j.alternate)break t;Te=Qa(Te),j=Qa(j)}Te=null}else Te=null;$!==null&&l_(te,G,$,Te,!1),xe!==null&&rt!==null&&l_(te,rt,xe,Te,!0)}}e:{if(G=H?ir(H):window,$=G.nodeName&&G.nodeName.toLowerCase(),$==="select"||$==="input"&&G.type==="file")var ye=xg;else if(Ot(G))if(Cg)ye=l1;else{ye=a1;var Ve=s1}else $=G.nodeName,!$||$.toLowerCase()!=="input"||G.type!=="checkbox"&&G.type!=="radio"?H&&Yo(H.elementType)&&(ye=xg):ye=o1;if(ye&&(ye=ye(t,H))){Br(te,ye,a,J);break e}Ve&&Ve(t,G,H),t==="focusout"&&H&&G.type==="number"&&H.memoizedProps.value!=null&&yi(G,"number",G.value)}switch(Ve=H?ir(H):window,t){case"focusin":(Ot(Ve)||Ve.contentEditable==="true")&&(Sa=Ve,Nf=H,il=null);break;case"focusout":il=Nf=Sa=null;break;case"mousedown":Of=!0;break;case"contextmenu":case"mouseup":case"dragend":Of=!1,Vg(te,a,J);break;case"selectionchange":if(c1)break;case"keydown":case"keyup":Vg(te,a,J)}var be;if(hr)e:{switch(t){case"compositionstart":var Se="onCompositionStart";break e;case"compositionend":Se="onCompositionEnd";break e;case"compositionupdate":Se="onCompositionUpdate";break e}Se=void 0}else Be?Y(t,a)&&(Se="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(Se="onCompositionStart");Se&&(v&&a.locale!=="ko"&&(Be||Se!=="onCompositionStart"?Se==="onCompositionEnd"&&Be&&(be=Xo()):(or=J,vi="value"in or?or.value:or.textContent,Be=!0)),Ve=Uc(H,Se),0<Ve.length&&(Se=new Jo(Se,t,null,a,J),te.push({event:Se,listeners:Ve}),be?Se.data=be:(be=he(a),be!==null&&(Se.data=be)))),(be=y?Nt(t,a):qe(t,a))&&(Se=Uc(H,"onBeforeInput"),0<Se.length&&(Ve=new Jo("onBeforeInput","beforeinput",null,a,J),te.push({event:Ve,listeners:Se}),Ve.data=be)),$1(te,t,H,a,J)}a_(te,i)})}function Dl(t,i,a){return{instance:t,listener:i,currentTarget:a}}function Uc(t,i){for(var a=i+"Capture",l=[];t!==null;){var h=t,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=As(t,a),h!=null&&l.unshift(Dl(t,h,d)),h=As(t,i),h!=null&&l.push(Dl(t,h,d))),t.tag===3)return l;t=t.return}return[]}function Qa(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function l_(t,i,a,l,h){for(var d=i._reactName,E=[];a!==null&&a!==l;){var b=a,O=b.alternate,H=b.stateNode;if(b=b.tag,O!==null&&O===l)break;b!==5&&b!==26&&b!==27||H===null||(O=H,h?(H=As(a,d),H!=null&&E.unshift(Dl(a,H,O))):h||(H=As(a,d),H!=null&&E.push(Dl(a,H,O)))),a=a.return}E.length!==0&&t.push({event:i,listeners:E})}var X1=/\r\n?/g,W1=/\u0000|\uFFFD/g;function u_(t){return(typeof t=="string"?t:""+t).replace(X1,`
`).replace(W1,"")}function c_(t,i){return i=u_(i),u_(t)===i}function jc(){}function nt(t,i,a,l,h,d){switch(a){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||Nn(t,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&Nn(t,""+l);break;case"className":sr(t,"class",l);break;case"tabIndex":sr(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":sr(t,a,l);break;case"style":Ko(t,l,d);break;case"data":if(i!=="object"){sr(t,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=ga(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(i!=="input"&&nt(t,i,"name",h.name,h,null),nt(t,i,"formEncType",h.formEncType,h,null),nt(t,i,"formMethod",h.formMethod,h,null),nt(t,i,"formTarget",h.formTarget,h,null)):(nt(t,i,"encType",h.encType,h,null),nt(t,i,"method",h.method,h,null),nt(t,i,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=ga(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=jc);break;case"onScroll":l!=null&&Ue("scroll",t);break;case"onScrollEnd":l!=null&&Ue("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=ga(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":Ue("beforetoggle",t),Ue("toggle",t),gi(t,"popover",l);break;case"xlinkActuate":Ht(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Ht(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Ht(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Ht(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Ht(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Ht(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Ht(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Ht(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Ht(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":gi(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Tf.get(a)||a,gi(t,a,l))}}function em(t,i,a,l,h,d){switch(a){case"style":Ko(t,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof l=="string"?Nn(t,l):(typeof l=="number"||typeof l=="bigint")&&Nn(t,""+l);break;case"onScroll":l!=null&&Ue("scroll",t);break;case"onScrollEnd":l!=null&&Ue("scrollend",t);break;case"onClick":l!=null&&(t.onclick=jc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ha.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),i=a.slice(2,h?a.length-7:void 0),d=t[wt]||null,d=d!=null?d[a]:null,typeof d=="function"&&t.removeEventListener(i,d,h),typeof l=="function")){typeof d!="function"&&d!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(i,l,h);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):gi(t,a,l)}}}function Kt(t,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ue("error",t),Ue("load",t);var l=!1,h=!1,d;for(d in a)if(a.hasOwnProperty(d)){var E=a[d];if(E!=null)switch(d){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:nt(t,i,d,E,a,null)}}h&&nt(t,i,"srcSet",a.srcSet,a,null),l&&nt(t,i,"src",a.src,a,null);return;case"input":Ue("invalid",t);var b=d=E=h=null,O=null,H=null;for(l in a)if(a.hasOwnProperty(l)){var J=a[l];if(J!=null)switch(l){case"name":h=J;break;case"type":E=J;break;case"checked":O=J;break;case"defaultChecked":H=J;break;case"value":d=J;break;case"defaultValue":b=J;break;case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(s(137,i));break;default:nt(t,i,l,J,a,null)}}bs(t,d,b,O,H,E,h,!1),pa(t);return;case"select":Ue("invalid",t),l=E=d=null;for(h in a)if(a.hasOwnProperty(h)&&(b=a[h],b!=null))switch(h){case"value":d=b;break;case"defaultValue":E=b;break;case"multiple":l=b;default:nt(t,i,h,b,a,null)}i=d,a=E,t.multiple=!!l,i!=null?Pr(t,!!l,i,!1):a!=null&&Pr(t,!!l,a,!0);return;case"textarea":Ue("invalid",t),d=h=l=null;for(E in a)if(a.hasOwnProperty(E)&&(b=a[E],b!=null))switch(E){case"value":l=b;break;case"defaultValue":h=b;break;case"children":d=b;break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(s(91));break;default:nt(t,i,E,b,a,null)}ws(t,l,h,d),pa(t);return;case"option":for(O in a)if(a.hasOwnProperty(O)&&(l=a[O],l!=null))switch(O){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:nt(t,i,O,l,a,null)}return;case"dialog":Ue("beforetoggle",t),Ue("toggle",t),Ue("cancel",t),Ue("close",t);break;case"iframe":case"object":Ue("load",t);break;case"video":case"audio":for(l=0;l<Ol.length;l++)Ue(Ol[l],t);break;case"image":Ue("error",t),Ue("load",t);break;case"details":Ue("toggle",t);break;case"embed":case"source":case"link":Ue("error",t),Ue("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(H in a)if(a.hasOwnProperty(H)&&(l=a[H],l!=null))switch(H){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:nt(t,i,H,l,a,null)}return;default:if(Yo(i)){for(J in a)a.hasOwnProperty(J)&&(l=a[J],l!==void 0&&em(t,i,J,l,a,void 0));return}}for(b in a)a.hasOwnProperty(b)&&(l=a[b],l!=null&&nt(t,i,b,l,a,null))}function Z1(t,i,a,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,E=null,b=null,O=null,H=null,J=null;for($ in a){var te=a[$];if(a.hasOwnProperty($)&&te!=null)switch($){case"checked":break;case"value":break;case"defaultValue":O=te;default:l.hasOwnProperty($)||nt(t,i,$,null,l,te)}}for(var G in l){var $=l[G];if(te=a[G],l.hasOwnProperty(G)&&($!=null||te!=null))switch(G){case"type":d=$;break;case"name":h=$;break;case"checked":H=$;break;case"defaultChecked":J=$;break;case"value":E=$;break;case"defaultValue":b=$;break;case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(s(137,i));break;default:$!==te&&nt(t,i,G,$,l,te)}}vn(t,E,b,O,H,J,d,h);return;case"select":$=E=b=G=null;for(d in a)if(O=a[d],a.hasOwnProperty(d)&&O!=null)switch(d){case"value":break;case"multiple":$=O;default:l.hasOwnProperty(d)||nt(t,i,d,null,l,O)}for(h in l)if(d=l[h],O=a[h],l.hasOwnProperty(h)&&(d!=null||O!=null))switch(h){case"value":G=d;break;case"defaultValue":b=d;break;case"multiple":E=d;default:d!==O&&nt(t,i,h,d,l,O)}i=b,a=E,l=$,G!=null?Pr(t,!!a,G,!1):!!l!=!!a&&(i!=null?Pr(t,!!a,i,!0):Pr(t,!!a,a?[]:"",!1));return;case"textarea":$=G=null;for(b in a)if(h=a[b],a.hasOwnProperty(b)&&h!=null&&!l.hasOwnProperty(b))switch(b){case"value":break;case"children":break;default:nt(t,i,b,null,l,h)}for(E in l)if(h=l[E],d=a[E],l.hasOwnProperty(E)&&(h!=null||d!=null))switch(E){case"value":G=h;break;case"defaultValue":$=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==d&&nt(t,i,E,h,l,d)}et(t,G,$);return;case"option":for(var xe in a)if(G=a[xe],a.hasOwnProperty(xe)&&G!=null&&!l.hasOwnProperty(xe))switch(xe){case"selected":t.selected=!1;break;default:nt(t,i,xe,null,l,G)}for(O in l)if(G=l[O],$=a[O],l.hasOwnProperty(O)&&G!==$&&(G!=null||$!=null))switch(O){case"selected":t.selected=G&&typeof G!="function"&&typeof G!="symbol";break;default:nt(t,i,O,G,l,$)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Te in a)G=a[Te],a.hasOwnProperty(Te)&&G!=null&&!l.hasOwnProperty(Te)&&nt(t,i,Te,null,l,G);for(H in l)if(G=l[H],$=a[H],l.hasOwnProperty(H)&&G!==$&&(G!=null||$!=null))switch(H){case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(s(137,i));break;default:nt(t,i,H,G,l,$)}return;default:if(Yo(i)){for(var rt in a)G=a[rt],a.hasOwnProperty(rt)&&G!==void 0&&!l.hasOwnProperty(rt)&&em(t,i,rt,void 0,l,G);for(J in l)G=l[J],$=a[J],!l.hasOwnProperty(J)||G===$||G===void 0&&$===void 0||em(t,i,J,G,l,$);return}}for(var j in a)G=a[j],a.hasOwnProperty(j)&&G!=null&&!l.hasOwnProperty(j)&&nt(t,i,j,null,l,G);for(te in l)G=l[te],$=a[te],!l.hasOwnProperty(te)||G===$||G==null&&$==null||nt(t,i,te,G,l,$)}var tm=null,nm=null;function zc(t){return t.nodeType===9?t:t.ownerDocument}function h_(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function f_(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function rm(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var im=null;function J1(){var t=window.event;return t&&t.type==="popstate"?t===im?!1:(im=t,!0):(im=null,!1)}var d_=typeof setTimeout=="function"?setTimeout:void 0,eA=typeof clearTimeout=="function"?clearTimeout:void 0,m_=typeof Promise=="function"?Promise:void 0,tA=typeof queueMicrotask=="function"?queueMicrotask:typeof m_<"u"?function(t){return m_.resolve(null).then(t).catch(nA)}:d_;function nA(t){setTimeout(function(){throw t})}function Mi(t){return t==="head"}function p_(t,i){var a=i,l=0,h=0;do{var d=a.nextSibling;if(t.removeChild(a),d&&d.nodeType===8)if(a=d.data,a==="/$"){if(0<l&&8>l){a=l;var E=t.ownerDocument;if(a&1&&kl(E.documentElement),a&2&&kl(E.body),a&4)for(a=E.head,kl(a),E=a.firstChild;E;){var b=E.nextSibling,O=E.nodeName;E[ys]||O==="SCRIPT"||O==="STYLE"||O==="LINK"&&E.rel.toLowerCase()==="stylesheet"||a.removeChild(E),E=b}}if(h===0){t.removeChild(d),Bl(i);return}h--}else a==="$"||a==="$?"||a==="$!"?h++:l=a.charCodeAt(0)-48;else l=0;a=d}while(a);Bl(i)}function sm(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":sm(a),pi(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function rA(t,i,a,l){for(;t.nodeType===1;){var h=a;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[ys])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=Yn(t.nextSibling),t===null)break}return null}function iA(t,i,a){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Yn(t.nextSibling),t===null))return null;return t}function am(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function sA(t,i){var a=t.ownerDocument;if(t.data!=="$?"||a.readyState==="complete")i();else{var l=function(){i(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Yn(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return t}var om=null;function g_(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"){if(i===0)return t;i--}else a==="/$"&&i++}t=t.previousSibling}return null}function y_(t,i,a){switch(i=zc(a),t){case"html":if(t=i.documentElement,!t)throw Error(s(452));return t;case"head":if(t=i.head,!t)throw Error(s(453));return t;case"body":if(t=i.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function kl(t){for(var i=t.attributes;i.length;)t.removeAttributeNode(i[0]);pi(t)}var zn=new Map,v_=new Set;function Bc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var ei=ce.d;ce.d={f:aA,r:oA,D:lA,C:uA,L:cA,m:hA,X:dA,S:fA,M:mA};function aA(){var t=ei.f(),i=Dc();return t||i}function oA(t){var i=rr(t);i!==null&&i.tag===5&&i.type==="form"?Uy(i):ei.r(t)}var Xa=typeof document>"u"?null:document;function __(t,i,a){var l=Xa;if(l&&typeof i=="string"&&i){var h=Tt(i);h='link[rel="'+t+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),v_.has(h)||(v_.add(h),t={rel:t,crossOrigin:a,href:i},l.querySelector(h)===null&&(i=l.createElement("link"),Kt(i,"link",t),yt(i),l.head.appendChild(i)))}}function lA(t){ei.D(t),__("dns-prefetch",t,null)}function uA(t,i){ei.C(t,i),__("preconnect",t,i)}function cA(t,i,a){ei.L(t,i,a);var l=Xa;if(l&&t&&i){var h='link[rel="preload"][as="'+Tt(i)+'"]';i==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+Tt(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+Tt(a.imageSizes)+'"]')):h+='[href="'+Tt(t)+'"]';var d=h;switch(i){case"style":d=Wa(t);break;case"script":d=Za(t)}zn.has(d)||(t=_({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:t,as:i},a),zn.set(d,t),l.querySelector(h)!==null||i==="style"&&l.querySelector(Ml(d))||i==="script"&&l.querySelector(Pl(d))||(i=l.createElement("link"),Kt(i,"link",t),yt(i),l.head.appendChild(i)))}}function hA(t,i){ei.m(t,i);var a=Xa;if(a&&t){var l=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+Tt(l)+'"][href="'+Tt(t)+'"]',d=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=Za(t)}if(!zn.has(d)&&(t=_({rel:"modulepreload",href:t},i),zn.set(d,t),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Pl(d)))return}l=a.createElement("link"),Kt(l,"link",t),yt(l),a.head.appendChild(l)}}}function fA(t,i,a){ei.S(t,i,a);var l=Xa;if(l&&t){var h=on(l).hoistableStyles,d=Wa(t);i=i||"default";var E=h.get(d);if(!E){var b={loading:0,preload:null};if(E=l.querySelector(Ml(d)))b.loading=5;else{t=_({rel:"stylesheet",href:t,"data-precedence":i},a),(a=zn.get(d))&&lm(t,a);var O=E=l.createElement("link");yt(O),Kt(O,"link",t),O._p=new Promise(function(H,J){O.onload=H,O.onerror=J}),O.addEventListener("load",function(){b.loading|=1}),O.addEventListener("error",function(){b.loading|=2}),b.loading|=4,qc(E,i,l)}E={type:"stylesheet",instance:E,count:1,state:b},h.set(d,E)}}}function dA(t,i){ei.X(t,i);var a=Xa;if(a&&t){var l=on(a).hoistableScripts,h=Za(t),d=l.get(h);d||(d=a.querySelector(Pl(h)),d||(t=_({src:t,async:!0},i),(i=zn.get(h))&&um(t,i),d=a.createElement("script"),yt(d),Kt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function mA(t,i){ei.M(t,i);var a=Xa;if(a&&t){var l=on(a).hoistableScripts,h=Za(t),d=l.get(h);d||(d=a.querySelector(Pl(h)),d||(t=_({src:t,async:!0,type:"module"},i),(i=zn.get(h))&&um(t,i),d=a.createElement("script"),yt(d),Kt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function E_(t,i,a,l){var h=(h=fe.current)?Bc(h):null;if(!h)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=Wa(a.href),a=on(h).hoistableStyles,l=a.get(i),l||(l={type:"style",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=Wa(a.href);var d=on(h).hoistableStyles,E=d.get(t);if(E||(h=h.ownerDocument||h,E={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,E),(d=h.querySelector(Ml(t)))&&!d._p&&(E.instance=d,E.state.loading=5),zn.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},zn.set(t,a),d||pA(h,t,a,E.state))),i&&l===null)throw Error(s(528,""));return E}if(i&&l!==null)throw Error(s(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Za(a),a=on(h).hoistableScripts,l=a.get(i),l||(l={type:"script",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function Wa(t){return'href="'+Tt(t)+'"'}function Ml(t){return'link[rel="stylesheet"]['+t+"]"}function b_(t){return _({},t,{"data-precedence":t.precedence,precedence:null})}function pA(t,i,a,l){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=t.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),Kt(i,"link",a),yt(i),t.head.appendChild(i))}function Za(t){return'[src="'+Tt(t)+'"]'}function Pl(t){return"script[async]"+t}function w_(t,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var l=t.querySelector('style[data-href~="'+Tt(a.href)+'"]');if(l)return i.instance=l,yt(l),l;var h=_({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),yt(l),Kt(l,"style",h),qc(l,a.precedence,t),i.instance=l;case"stylesheet":h=Wa(a.href);var d=t.querySelector(Ml(h));if(d)return i.state.loading|=4,i.instance=d,yt(d),d;l=b_(a),(h=zn.get(h))&&lm(l,h),d=(t.ownerDocument||t).createElement("link"),yt(d);var E=d;return E._p=new Promise(function(b,O){E.onload=b,E.onerror=O}),Kt(d,"link",l),i.state.loading|=4,qc(d,a.precedence,t),i.instance=d;case"script":return d=Za(a.src),(h=t.querySelector(Pl(d)))?(i.instance=h,yt(h),h):(l=a,(h=zn.get(d))&&(l=_({},a),um(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),yt(h),Kt(h,"link",l),t.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,qc(l,a.precedence,t));return i.instance}function qc(t,i,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,d=h,E=0;E<l.length;E++){var b=l[E];if(b.dataset.precedence===i)d=b;else if(d!==h)break}d?d.parentNode.insertBefore(t,d.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(t,i.firstChild))}function lm(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function um(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var Hc=null;function T_(t,i,a){if(Hc===null){var l=new Map,h=Hc=new Map;h.set(a,l)}else h=Hc,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),h=0;h<a.length;h++){var d=a[h];if(!(d[ys]||d[It]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var E=d.getAttribute(i)||"";E=t+E;var b=l.get(E);b?b.push(d):l.set(E,[d])}}return l}function A_(t,i,a){t=t.ownerDocument||t,t.head.insertBefore(a,i==="title"?t.querySelector("head > title"):null)}function gA(t,i,a){if(a===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return t=i.disabled,typeof i.precedence=="string"&&t==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function S_(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var Vl=null;function yA(){}function vA(t,i,a){if(Vl===null)throw Error(s(475));var l=Vl;if(i.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var h=Wa(a.href),d=t.querySelector(Ml(h));if(d){t=d._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=Fc.bind(l),t.then(l,l)),i.state.loading|=4,i.instance=d,yt(d);return}d=t.ownerDocument||t,a=b_(a),(h=zn.get(h))&&lm(a,h),d=d.createElement("link"),yt(d);var E=d;E._p=new Promise(function(b,O){E.onload=b,E.onerror=O}),Kt(d,"link",a),i.instance=d}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(i,t),(t=i.state.preload)&&(i.state.loading&3)===0&&(l.count++,i=Fc.bind(l),t.addEventListener("load",i),t.addEventListener("error",i))}}function _A(){if(Vl===null)throw Error(s(475));var t=Vl;return t.stylesheets&&t.count===0&&cm(t,t.stylesheets),0<t.count?function(i){var a=setTimeout(function(){if(t.stylesheets&&cm(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=i,function(){t.unsuspend=null,clearTimeout(a)}}:null}function Fc(){if(this.count--,this.count===0){if(this.stylesheets)cm(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Gc=null;function cm(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Gc=new Map,i.forEach(EA,t),Gc=null,Fc.call(t))}function EA(t,i){if(!(i.state.loading&4)){var a=Gc.get(t);if(a)var l=a.get(null);else{a=new Map,Gc.set(t,a);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var E=h[d];(E.nodeName==="LINK"||E.getAttribute("media")!=="not all")&&(a.set(E.dataset.precedence,E),l=E)}l&&a.set(null,l)}h=i.instance,E=h.getAttribute("data-precedence"),d=a.get(E)||l,d===l&&a.set(null,h),a.set(E,h),this.count++,l=Fc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),d?d.parentNode.insertBefore(h,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),i.state.loading|=4}}var Ll={$$typeof:re,Provider:null,Consumer:null,_currentValue:se,_currentValue2:se,_threadCount:0};function bA(t,i,a,l,h,d,E,b){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Nr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Nr(0),this.hiddenUpdates=Nr(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=E,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=b,this.incompleteTransitions=new Map}function R_(t,i,a,l,h,d,E,b,O,H,J,te){return t=new bA(t,i,a,E,b,O,H,te),i=1,d===!0&&(i|=24),d=En(3,null,null,i),t.current=d,d.stateNode=t,i=Gf(),i.refCount++,t.pooledCache=i,i.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:i},Qf(d),t}function x_(t){return t?(t=Ia,t):Ia}function C_(t,i,a,l,h,d){h=x_(h),l.context===null?l.context=h:l.pendingContext=h,l=bi(i),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=wi(t,l,i),a!==null&&(Sn(a,t,i),dl(a,t,i))}function I_(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<i?a:i}}function hm(t,i){I_(t,i),(t=t.alternate)&&I_(t,i)}function N_(t){if(t.tag===13){var i=Ca(t,67108864);i!==null&&Sn(i,t,67108864),hm(t,67108864)}}var $c=!0;function wA(t,i,a,l){var h=F.T;F.T=null;var d=ce.p;try{ce.p=2,fm(t,i,a,l)}finally{ce.p=d,F.T=h}}function TA(t,i,a,l){var h=F.T;F.T=null;var d=ce.p;try{ce.p=8,fm(t,i,a,l)}finally{ce.p=d,F.T=h}}function fm(t,i,a,l){if($c){var h=dm(l);if(h===null)Jd(t,i,l,Kc,a),D_(t,l);else if(SA(h,t,i,a,l))l.stopPropagation();else if(D_(t,l),i&4&&-1<AA.indexOf(t)){for(;h!==null;){var d=rr(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var E=Hn(d.pendingLanes);if(E!==0){var b=d;for(b.pendingLanes|=2,b.entangledLanes|=2;E;){var O=1<<31-Xt(E);b.entanglements[1]|=O,E&=~O}yr(d),(Ze&6)===0&&(Nc=Cn()+500,Nl(0))}}break;case 13:b=Ca(d,2),b!==null&&Sn(b,d,2),Dc(),hm(d,2)}if(d=dm(l),d===null&&Jd(t,i,l,Kc,a),d===h)break;h=d}h!==null&&l.stopPropagation()}else Jd(t,i,l,null,a)}}function dm(t){return t=On(t),mm(t)}var Kc=null;function mm(t){if(Kc=null,t=Dr(t),t!==null){var i=u(t);if(i===null)t=null;else{var a=i.tag;if(a===13){if(t=f(i),t!==null)return t;t=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return Kc=t,null}function O_(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(yf()){case Po:return 2;case oa:return 8;case fs:case vf:return 32;case la:return 268435456;default:return 32}default:return 32}}var pm=!1,Pi=null,Vi=null,Li=null,Ul=new Map,jl=new Map,Ui=[],AA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function D_(t,i){switch(t){case"focusin":case"focusout":Pi=null;break;case"dragenter":case"dragleave":Vi=null;break;case"mouseover":case"mouseout":Li=null;break;case"pointerover":case"pointerout":Ul.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":jl.delete(i.pointerId)}}function zl(t,i,a,l,h,d){return t===null||t.nativeEvent!==d?(t={blockedOn:i,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[h]},i!==null&&(i=rr(i),i!==null&&N_(i)),t):(t.eventSystemFlags|=l,i=t.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),t)}function SA(t,i,a,l,h){switch(i){case"focusin":return Pi=zl(Pi,t,i,a,l,h),!0;case"dragenter":return Vi=zl(Vi,t,i,a,l,h),!0;case"mouseover":return Li=zl(Li,t,i,a,l,h),!0;case"pointerover":var d=h.pointerId;return Ul.set(d,zl(Ul.get(d)||null,t,i,a,l,h)),!0;case"gotpointercapture":return d=h.pointerId,jl.set(d,zl(jl.get(d)||null,t,i,a,l,h)),!0}return!1}function k_(t){var i=Dr(t.target);if(i!==null){var a=u(i);if(a!==null){if(i=a.tag,i===13){if(i=f(a),i!==null){t.blockedOn=i,Du(t.priority,function(){if(a.tag===13){var l=An();l=fi(l);var h=Ca(a,l);h!==null&&Sn(h,a,l),hm(a,l)}});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Yc(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var a=dm(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);Vr=l,a.target.dispatchEvent(l),Vr=null}else return i=rr(a),i!==null&&N_(i),t.blockedOn=a,!1;i.shift()}return!0}function M_(t,i,a){Yc(t)&&a.delete(i)}function RA(){pm=!1,Pi!==null&&Yc(Pi)&&(Pi=null),Vi!==null&&Yc(Vi)&&(Vi=null),Li!==null&&Yc(Li)&&(Li=null),Ul.forEach(M_),jl.forEach(M_)}function Qc(t,i){t.blockedOn===i&&(t.blockedOn=null,pm||(pm=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,RA)))}var Xc=null;function P_(t){Xc!==t&&(Xc=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Xc===t&&(Xc=null);for(var i=0;i<t.length;i+=3){var a=t[i],l=t[i+1],h=t[i+2];if(typeof l!="function"){if(mm(l||a)===null)continue;break}var d=rr(a);d!==null&&(t.splice(i,3),i-=3,md(d,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function Bl(t){function i(O){return Qc(O,t)}Pi!==null&&Qc(Pi,t),Vi!==null&&Qc(Vi,t),Li!==null&&Qc(Li,t),Ul.forEach(i),jl.forEach(i);for(var a=0;a<Ui.length;a++){var l=Ui[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<Ui.length&&(a=Ui[0],a.blockedOn===null);)k_(a),a.blockedOn===null&&Ui.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],d=a[l+1],E=h[wt]||null;if(typeof d=="function")E||P_(a);else if(E){var b=null;if(d&&d.hasAttribute("formAction")){if(h=d,E=d[wt]||null)b=E.formAction;else if(mm(h)!==null)continue}else b=E.action;typeof b=="function"?a[l+1]=b:(a.splice(l,3),l-=3),P_(a)}}}function gm(t){this._internalRoot=t}Wc.prototype.render=gm.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(s(409));var a=i.current,l=An();C_(a,l,t,i,null,null)},Wc.prototype.unmount=gm.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;C_(t.current,2,null,t,null,null),Dc(),i[In]=null}};function Wc(t){this._internalRoot=t}Wc.prototype.unstable_scheduleHydration=function(t){if(t){var i=di();t={blockedOn:null,target:t,priority:i};for(var a=0;a<Ui.length&&i!==0&&i<Ui[a].priority;a++);Ui.splice(a,0,t),a===0&&k_(t)}};var V_=e.version;if(V_!=="19.1.1")throw Error(s(527,V_,"19.1.1"));ce.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=p(i),t=t!==null?g(t):null,t=t===null?null:t.stateNode,t};var xA={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:F,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Zc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Zc.isDisabled&&Zc.supportsFiber)try{dt=Zc.inject(xA),We=Zc}catch{}}return Hl.createRoot=function(t,i){if(!o(t))throw Error(s(299));var a=!1,l="",h=Zy,d=Jy,E=ev,b=null;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(E=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(b=i.unstable_transitionCallbacks)),i=R_(t,1,!1,null,null,a,l,h,d,E,b,null),t[In]=i.current,Zd(t),new gm(i)},Hl.hydrateRoot=function(t,i,a){if(!o(t))throw Error(s(299));var l=!1,h="",d=Zy,E=Jy,b=ev,O=null,H=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(E=a.onCaughtError),a.onRecoverableError!==void 0&&(b=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(O=a.unstable_transitionCallbacks),a.formState!==void 0&&(H=a.formState)),i=R_(t,1,!0,i,a??null,l,h,d,E,b,O,H),i.context=x_(null),a=i.current,l=An(),l=fi(l),h=bi(l),h.callback=null,wi(a,h,l),a=l,i.current.lanes=a,Or(i,a),yr(i),t[In]=i.current,Zd(t),new Wc(i)},Hl.version="19.1.1",Hl}var $_;function UA(){if($_)return _m.exports;$_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),_m.exports=LA(),_m.exports}var jA=UA();/**
 * react-router v7.9.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var K_="popstate";function zA(r={}){function e(s,o){let{pathname:u,search:f,hash:m}=s.location;return Gm("",{pathname:u,search:f,hash:m},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(s,o){return typeof o=="string"?o:ou(o)}return qA(e,n,null,r)}function ct(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function Jn(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function BA(){return Math.random().toString(36).substring(2,10)}function Y_(r,e){return{usr:r.state,key:r.key,idx:e}}function Gm(r,e,n=null,s){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?To(e):e,state:n,key:e&&e.key||s||BA()}}function ou({pathname:r="/",search:e="",hash:n=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(r+=n.charAt(0)==="#"?n:"#"+n),r}function To(r){let e={};if(r){let n=r.indexOf("#");n>=0&&(e.hash=r.substring(n),r=r.substring(0,n));let s=r.indexOf("?");s>=0&&(e.search=r.substring(s),r=r.substring(0,s)),r&&(e.pathname=r)}return e}function qA(r,e,n,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,f=o.history,m="POP",p=null,g=_();g==null&&(g=0,f.replaceState({...f.state,idx:g},""));function _(){return(f.state||{idx:null}).idx}function T(){m="POP";let N=_(),X=N==null?null:N-g;g=N,p&&p({action:m,location:K.location,delta:X})}function R(N,X){m="PUSH";let Q=Gm(K.location,N,X);g=_()+1;let re=Y_(Q,g),de=K.createHref(Q);try{f.pushState(re,"",de)}catch(ae){if(ae instanceof DOMException&&ae.name==="DataCloneError")throw ae;o.location.assign(de)}u&&p&&p({action:m,location:K.location,delta:1})}function U(N,X){m="REPLACE";let Q=Gm(K.location,N,X);g=_();let re=Y_(Q,g),de=K.createHref(Q);f.replaceState(re,"",de),u&&p&&p({action:m,location:K.location,delta:0})}function z(N){return HA(N)}let K={get action(){return m},get location(){return r(o,f)},listen(N){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(K_,T),p=N,()=>{o.removeEventListener(K_,T),p=null}},createHref(N){return e(o,N)},createURL:z,encodeLocation(N){let X=z(N);return{pathname:X.pathname,search:X.search,hash:X.hash}},push:R,replace:U,go(N){return f.go(N)}};return K}function HA(r,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),ct(n,"No window.location.(origin|href) available to create URL");let s=typeof r=="string"?r:ou(r);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function rb(r,e,n="/"){return FA(r,e,n,!1)}function FA(r,e,n,s){let o=typeof e=="string"?To(e):e,u=oi(o.pathname||"/",n);if(u==null)return null;let f=ib(r);GA(f);let m=null;for(let p=0;m==null&&p<f.length;++p){let g=nS(u);m=eS(f[p],g,s)}return m}function ib(r,e=[],n=[],s="",o=!1){let u=(f,m,p=o,g)=>{let _={relativePath:g===void 0?f.path||"":g,caseSensitive:f.caseSensitive===!0,childrenIndex:m,route:f};if(_.relativePath.startsWith("/")){if(!_.relativePath.startsWith(s)&&p)return;ct(_.relativePath.startsWith(s),`Absolute route path "${_.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),_.relativePath=_.relativePath.slice(s.length)}let T=si([s,_.relativePath]),R=n.concat(_);f.children&&f.children.length>0&&(ct(f.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${T}".`),ib(f.children,e,R,T,p)),!(f.path==null&&!f.index)&&e.push({path:T,score:ZA(T,f.index),routesMeta:R})};return r.forEach((f,m)=>{if(f.path===""||!f.path?.includes("?"))u(f,m);else for(let p of sb(f.path))u(f,m,!0,p)}),e}function sb(r){let e=r.split("/");if(e.length===0)return[];let[n,...s]=e,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let f=sb(s.join("/")),m=[];return m.push(...f.map(p=>p===""?u:[u,p].join("/"))),o&&m.push(...f),m.map(p=>r.startsWith("/")&&p===""?"/":p)}function GA(r){r.sort((e,n)=>e.score!==n.score?n.score-e.score:JA(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var $A=/^:[\w-]+$/,KA=3,YA=2,QA=1,XA=10,WA=-2,Q_=r=>r==="*";function ZA(r,e){let n=r.split("/"),s=n.length;return n.some(Q_)&&(s+=WA),e&&(s+=YA),n.filter(o=>!Q_(o)).reduce((o,u)=>o+($A.test(u)?KA:u===""?QA:XA),s)}function JA(r,e){return r.length===e.length&&r.slice(0,-1).every((s,o)=>s===e[o])?r[r.length-1]-e[e.length-1]:0}function eS(r,e,n=!1){let{routesMeta:s}=r,o={},u="/",f=[];for(let m=0;m<s.length;++m){let p=s[m],g=m===s.length-1,_=u==="/"?e:e.slice(u.length)||"/",T=Sh({path:p.relativePath,caseSensitive:p.caseSensitive,end:g},_),R=p.route;if(!T&&g&&n&&!s[s.length-1].route.index&&(T=Sh({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},_)),!T)return null;Object.assign(o,T.params),f.push({params:o,pathname:si([u,T.pathname]),pathnameBase:aS(si([u,T.pathnameBase])),route:R}),T.pathnameBase!=="/"&&(u=si([u,T.pathnameBase]))}return f}function Sh(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[n,s]=tS(r.path,r.caseSensitive,r.end),o=e.match(n);if(!o)return null;let u=o[0],f=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:s.reduce((g,{paramName:_,isOptional:T},R)=>{if(_==="*"){let z=m[R]||"";f=u.slice(0,u.length-z.length).replace(/(.)\/+$/,"$1")}const U=m[R];return T&&!U?g[_]=void 0:g[_]=(U||"").replace(/%2F/g,"/"),g},{}),pathname:u,pathnameBase:f,pattern:r}}function tS(r,e=!1,n=!0){Jn(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let s=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,m,p)=>(s.push({paramName:m,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return r.endsWith("*")?(s.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function nS(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Jn(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function oi(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=r.charAt(n);return s&&s!=="/"?null:r.slice(n)||"/"}function rS(r,e="/"){let{pathname:n,search:s="",hash:o=""}=typeof r=="string"?To(r):r;return{pathname:n?n.startsWith("/")?n:iS(n,e):e,search:oS(s),hash:lS(o)}}function iS(r,e){let n=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function Tm(r,e,n,s){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function sS(r){return r.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function xp(r){let e=sS(r);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function Cp(r,e,n,s=!1){let o;typeof r=="string"?o=To(r):(o={...r},ct(!o.pathname||!o.pathname.includes("?"),Tm("?","pathname","search",o)),ct(!o.pathname||!o.pathname.includes("#"),Tm("#","pathname","hash",o)),ct(!o.search||!o.search.includes("#"),Tm("#","search","hash",o)));let u=r===""||o.pathname==="",f=u?"/":o.pathname,m;if(f==null)m=n;else{let T=e.length-1;if(!s&&f.startsWith("..")){let R=f.split("/");for(;R[0]==="..";)R.shift(),T-=1;o.pathname=R.join("/")}m=T>=0?e[T]:"/"}let p=rS(o,m),g=f&&f!=="/"&&f.endsWith("/"),_=(u||f===".")&&n.endsWith("/");return!p.pathname.endsWith("/")&&(g||_)&&(p.pathname+="/"),p}var si=r=>r.join("/").replace(/\/\/+/g,"/"),aS=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),oS=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,lS=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function uS(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}var ab=["POST","PUT","PATCH","DELETE"];new Set(ab);var cS=["GET",...ab];new Set(cS);var Ao=C.createContext(null);Ao.displayName="DataRouter";var $h=C.createContext(null);$h.displayName="DataRouterState";C.createContext(!1);var ob=C.createContext({isTransitioning:!1});ob.displayName="ViewTransition";var hS=C.createContext(new Map);hS.displayName="Fetchers";var fS=C.createContext(null);fS.displayName="Await";var tr=C.createContext(null);tr.displayName="Navigation";var gu=C.createContext(null);gu.displayName="Location";var xr=C.createContext({outlet:null,matches:[],isDataRoute:!1});xr.displayName="Route";var Ip=C.createContext(null);Ip.displayName="RouteError";function dS(r,{relative:e}={}){ct(So(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=C.useContext(tr),{hash:o,pathname:u,search:f}=yu(r,{relative:e}),m=u;return n!=="/"&&(m=u==="/"?n:si([n,u])),s.createHref({pathname:m,search:f,hash:o})}function So(){return C.useContext(gu)!=null}function ss(){return ct(So(),"useLocation() may be used only in the context of a <Router> component."),C.useContext(gu).location}var lb="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function ub(r){C.useContext(tr).static||C.useLayoutEffect(r)}function Kh(){let{isDataRoute:r}=C.useContext(xr);return r?RS():mS()}function mS(){ct(So(),"useNavigate() may be used only in the context of a <Router> component.");let r=C.useContext(Ao),{basename:e,navigator:n}=C.useContext(tr),{matches:s}=C.useContext(xr),{pathname:o}=ss(),u=JSON.stringify(xp(s)),f=C.useRef(!1);return ub(()=>{f.current=!0}),C.useCallback((p,g={})=>{if(Jn(f.current,lb),!f.current)return;if(typeof p=="number"){n.go(p);return}let _=Cp(p,JSON.parse(u),o,g.relative==="path");r==null&&e!=="/"&&(_.pathname=_.pathname==="/"?e:si([e,_.pathname])),(g.replace?n.replace:n.push)(_,g.state,g)},[e,n,u,o,r])}C.createContext(null);function yu(r,{relative:e}={}){let{matches:n}=C.useContext(xr),{pathname:s}=ss(),o=JSON.stringify(xp(n));return C.useMemo(()=>Cp(r,JSON.parse(o),s,e==="path"),[r,o,s,e])}function pS(r,e){return cb(r,e)}function cb(r,e,n,s,o){ct(So(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=C.useContext(tr),{matches:f}=C.useContext(xr),m=f[f.length-1],p=m?m.params:{},g=m?m.pathname:"/",_=m?m.pathnameBase:"/",T=m&&m.route;{let Q=T&&T.path||"";hb(g,!T||Q.endsWith("*")||Q.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${Q}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${Q}"> to <Route path="${Q==="/"?"*":`${Q}/*`}">.`)}let R=ss(),U;if(e){let Q=typeof e=="string"?To(e):e;ct(_==="/"||Q.pathname?.startsWith(_),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${_}" but pathname "${Q.pathname}" was given in the \`location\` prop.`),U=Q}else U=R;let z=U.pathname||"/",K=z;if(_!=="/"){let Q=_.replace(/^\//,"").split("/");K="/"+z.replace(/^\//,"").split("/").slice(Q.length).join("/")}let N=rb(r,{pathname:K});Jn(T||N!=null,`No routes matched location "${U.pathname}${U.search}${U.hash}" `),Jn(N==null||N[N.length-1].route.element!==void 0||N[N.length-1].route.Component!==void 0||N[N.length-1].route.lazy!==void 0,`Matched leaf route at location "${U.pathname}${U.search}${U.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let X=ES(N&&N.map(Q=>Object.assign({},Q,{params:Object.assign({},p,Q.params),pathname:si([_,u.encodeLocation?u.encodeLocation(Q.pathname).pathname:Q.pathname]),pathnameBase:Q.pathnameBase==="/"?_:si([_,u.encodeLocation?u.encodeLocation(Q.pathnameBase).pathname:Q.pathnameBase])})),f,n,s,o);return e&&X?C.createElement(gu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...U},navigationType:"POP"}},X):X}function gS(){let r=SS(),e=uS(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),n=r instanceof Error?r.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},f=null;return console.error("Error handled by React Router default ErrorBoundary:",r),f=C.createElement(C.Fragment,null,C.createElement("p",null," Hey developer "),C.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",C.createElement("code",{style:u},"ErrorBoundary")," or"," ",C.createElement("code",{style:u},"errorElement")," prop on your route.")),C.createElement(C.Fragment,null,C.createElement("h2",null,"Unexpected Application Error!"),C.createElement("h3",{style:{fontStyle:"italic"}},e),n?C.createElement("pre",{style:o},n):null,f)}var yS=C.createElement(gS,null),vS=class extends C.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){this.props.unstable_onError?this.props.unstable_onError(r,e):console.error("React Router caught the following error during render",r)}render(){return this.state.error!==void 0?C.createElement(xr.Provider,{value:this.props.routeContext},C.createElement(Ip.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function _S({routeContext:r,match:e,children:n}){let s=C.useContext(Ao);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),C.createElement(xr.Provider,{value:r},n)}function ES(r,e=[],n=null,s=null,o=null){if(r==null){if(!n)return null;if(n.errors)r=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)r=n.matches;else return null}let u=r,f=n?.errors;if(f!=null){let g=u.findIndex(_=>_.route.id&&f?.[_.route.id]!==void 0);ct(g>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(f).join(",")}`),u=u.slice(0,Math.min(u.length,g+1))}let m=!1,p=-1;if(n)for(let g=0;g<u.length;g++){let _=u[g];if((_.route.HydrateFallback||_.route.hydrateFallbackElement)&&(p=g),_.route.id){let{loaderData:T,errors:R}=n,U=_.route.loader&&!T.hasOwnProperty(_.route.id)&&(!R||R[_.route.id]===void 0);if(_.route.lazy||U){m=!0,p>=0?u=u.slice(0,p+1):u=[u[0]];break}}}return u.reduceRight((g,_,T)=>{let R,U=!1,z=null,K=null;n&&(R=f&&_.route.id?f[_.route.id]:void 0,z=_.route.errorElement||yS,m&&(p<0&&T===0?(hb("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),U=!0,K=null):p===T&&(U=!0,K=_.route.hydrateFallbackElement||null)));let N=e.concat(u.slice(0,T+1)),X=()=>{let Q;return R?Q=z:U?Q=K:_.route.Component?Q=C.createElement(_.route.Component,null):_.route.element?Q=_.route.element:Q=g,C.createElement(_S,{match:_,routeContext:{outlet:g,matches:N,isDataRoute:n!=null},children:Q})};return n&&(_.route.ErrorBoundary||_.route.errorElement||T===0)?C.createElement(vS,{location:n.location,revalidation:n.revalidation,component:z,error:R,children:X(),routeContext:{outlet:null,matches:N,isDataRoute:!0},unstable_onError:s}):X()},null)}function Np(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function bS(r){let e=C.useContext(Ao);return ct(e,Np(r)),e}function wS(r){let e=C.useContext($h);return ct(e,Np(r)),e}function TS(r){let e=C.useContext(xr);return ct(e,Np(r)),e}function Op(r){let e=TS(r),n=e.matches[e.matches.length-1];return ct(n.route.id,`${r} can only be used on routes that contain a unique "id"`),n.route.id}function AS(){return Op("useRouteId")}function SS(){let r=C.useContext(Ip),e=wS("useRouteError"),n=Op("useRouteError");return r!==void 0?r:e.errors?.[n]}function RS(){let{router:r}=bS("useNavigate"),e=Op("useNavigate"),n=C.useRef(!1);return ub(()=>{n.current=!0}),C.useCallback(async(o,u={})=>{Jn(n.current,lb),n.current&&(typeof o=="number"?r.navigate(o):await r.navigate(o,{fromRouteId:e,...u}))},[r,e])}var X_={};function hb(r,e,n){!e&&!X_[r]&&(X_[r]=!0,Jn(!1,n))}C.memo(xS);function xS({routes:r,future:e,state:n,unstable_onError:s}){return cb(r,void 0,n,s,e)}function fb({to:r,replace:e,state:n,relative:s}){ct(So(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=C.useContext(tr);Jn(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=C.useContext(xr),{pathname:f}=ss(),m=Kh(),p=Cp(r,xp(u),f,s==="path"),g=JSON.stringify(p);return C.useEffect(()=>{m(JSON.parse(g),{replace:e,state:n,relative:s})},[m,g,s,e,n]),null}function hh(r){ct(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function CS({basename:r="/",children:e=null,location:n,navigationType:s="POP",navigator:o,static:u=!1}){ct(!So(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=r.replace(/^\/*/,"/"),m=C.useMemo(()=>({basename:f,navigator:o,static:u,future:{}}),[f,o,u]);typeof n=="string"&&(n=To(n));let{pathname:p="/",search:g="",hash:_="",state:T=null,key:R="default"}=n,U=C.useMemo(()=>{let z=oi(p,f);return z==null?null:{location:{pathname:z,search:g,hash:_,state:T,key:R},navigationType:s}},[f,p,g,_,T,R,s]);return Jn(U!=null,`<Router basename="${f}"> is not able to match the URL "${p}${g}${_}" because it does not start with the basename, so the <Router> won't render anything.`),U==null?null:C.createElement(tr.Provider,{value:m},C.createElement(gu.Provider,{children:e,value:U}))}function IS({children:r,location:e}){return pS($m(r),e)}function $m(r,e=[]){let n=[];return C.Children.forEach(r,(s,o)=>{if(!C.isValidElement(s))return;let u=[...e,o];if(s.type===C.Fragment){n.push.apply(n,$m(s.props.children,u));return}ct(s.type===hh,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ct(!s.props.index||!s.props.children,"An index route cannot have child routes.");let f={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(f.children=$m(s.props.children,u)),n.push(f)}),n}var fh="get",dh="application/x-www-form-urlencoded";function Yh(r){return r!=null&&typeof r.tagName=="string"}function NS(r){return Yh(r)&&r.tagName.toLowerCase()==="button"}function OS(r){return Yh(r)&&r.tagName.toLowerCase()==="form"}function DS(r){return Yh(r)&&r.tagName.toLowerCase()==="input"}function kS(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function MS(r,e){return r.button===0&&(!e||e==="_self")&&!kS(r)}var Jc=null;function PS(){if(Jc===null)try{new FormData(document.createElement("form"),0),Jc=!1}catch{Jc=!0}return Jc}var VS=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Am(r){return r!=null&&!VS.has(r)?(Jn(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${dh}"`),null):r}function LS(r,e){let n,s,o,u,f;if(OS(r)){let m=r.getAttribute("action");s=m?oi(m,e):null,n=r.getAttribute("method")||fh,o=Am(r.getAttribute("enctype"))||dh,u=new FormData(r)}else if(NS(r)||DS(r)&&(r.type==="submit"||r.type==="image")){let m=r.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=r.getAttribute("formaction")||m.getAttribute("action");if(s=p?oi(p,e):null,n=r.getAttribute("formmethod")||m.getAttribute("method")||fh,o=Am(r.getAttribute("formenctype"))||Am(m.getAttribute("enctype"))||dh,u=new FormData(m,r),!PS()){let{name:g,type:_,value:T}=r;if(_==="image"){let R=g?`${g}.`:"";u.append(`${R}x`,"0"),u.append(`${R}y`,"0")}else g&&u.append(g,T)}}else{if(Yh(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=fh,s=null,o=dh,f=r}return u&&o==="text/plain"&&(f=u,u=void 0),{action:s,method:n.toLowerCase(),encType:o,formData:u,body:f}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Dp(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function US(r,e,n){let s=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return s.pathname==="/"?s.pathname=`_root.${n}`:e&&oi(s.pathname,e)==="/"?s.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${n}`,s}async function jS(r,e){if(r.id in e)return e[r.id];try{let n=await import(r.module);return e[r.id]=n,n}catch(n){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function zS(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function BS(r,e,n){let s=await Promise.all(r.map(async o=>{let u=e.routes[o.route.id];if(u){let f=await jS(u,n);return f.links?f.links():[]}return[]}));return GS(s.flat(1).filter(zS).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function W_(r,e,n,s,o,u){let f=(p,g)=>n[g]?p.route.id!==n[g].route.id:!0,m=(p,g)=>n[g].pathname!==p.pathname||n[g].route.path?.endsWith("*")&&n[g].params["*"]!==p.params["*"];return u==="assets"?e.filter((p,g)=>f(p,g)||m(p,g)):u==="data"?e.filter((p,g)=>{let _=s.routes[p.route.id];if(!_||!_.hasLoader)return!1;if(f(p,g)||m(p,g))return!0;if(p.route.shouldRevalidate){let T=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(r,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof T=="boolean")return T}return!0}):[]}function qS(r,e,{includeHydrateFallback:n}={}){return HS(r.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function HS(r){return[...new Set(r)]}function FS(r){let e={},n=Object.keys(r).sort();for(let s of n)e[s]=r[s];return e}function GS(r,e){let n=new Set;return new Set(e),r.reduce((s,o)=>{let u=JSON.stringify(FS(o));return n.has(u)||(n.add(u),s.push({key:u,link:o})),s},[])}function db(){let r=C.useContext(Ao);return Dp(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function $S(){let r=C.useContext($h);return Dp(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var kp=C.createContext(void 0);kp.displayName="FrameworkContext";function mb(){let r=C.useContext(kp);return Dp(r,"You must render this element inside a <HydratedRouter> element"),r}function KS(r,e){let n=C.useContext(kp),[s,o]=C.useState(!1),[u,f]=C.useState(!1),{onFocus:m,onBlur:p,onMouseEnter:g,onMouseLeave:_,onTouchStart:T}=e,R=C.useRef(null);C.useEffect(()=>{if(r==="render"&&f(!0),r==="viewport"){let K=X=>{X.forEach(Q=>{f(Q.isIntersecting)})},N=new IntersectionObserver(K,{threshold:.5});return R.current&&N.observe(R.current),()=>{N.disconnect()}}},[r]),C.useEffect(()=>{if(s){let K=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(K)}}},[s]);let U=()=>{o(!0)},z=()=>{o(!1),f(!1)};return n?r!=="intent"?[u,R,{}]:[u,R,{onFocus:Fl(m,U),onBlur:Fl(p,z),onMouseEnter:Fl(g,U),onMouseLeave:Fl(_,z),onTouchStart:Fl(T,U)}]:[!1,R,{}]}function Fl(r,e){return n=>{r&&r(n),n.defaultPrevented||e(n)}}function YS({page:r,...e}){let{router:n}=db(),s=C.useMemo(()=>rb(n.routes,r,n.basename),[n.routes,r,n.basename]);return s?C.createElement(XS,{page:r,matches:s,...e}):null}function QS(r){let{manifest:e,routeModules:n}=mb(),[s,o]=C.useState([]);return C.useEffect(()=>{let u=!1;return BS(r,e,n).then(f=>{u||o(f)}),()=>{u=!0}},[r,e,n]),s}function XS({page:r,matches:e,...n}){let s=ss(),{manifest:o,routeModules:u}=mb(),{basename:f}=db(),{loaderData:m,matches:p}=$S(),g=C.useMemo(()=>W_(r,e,p,o,s,"data"),[r,e,p,o,s]),_=C.useMemo(()=>W_(r,e,p,o,s,"assets"),[r,e,p,o,s]),T=C.useMemo(()=>{if(r===s.pathname+s.search+s.hash)return[];let z=new Set,K=!1;if(e.forEach(X=>{let Q=o.routes[X.route.id];!Q||!Q.hasLoader||(!g.some(re=>re.route.id===X.route.id)&&X.route.id in m&&u[X.route.id]?.shouldRevalidate||Q.hasClientLoader?K=!0:z.add(X.route.id))}),z.size===0)return[];let N=US(r,f,"data");return K&&z.size>0&&N.searchParams.set("_routes",e.filter(X=>z.has(X.route.id)).map(X=>X.route.id).join(",")),[N.pathname+N.search]},[f,m,s,o,g,e,r,u]),R=C.useMemo(()=>qS(_,o),[_,o]),U=QS(_);return C.createElement(C.Fragment,null,T.map(z=>C.createElement("link",{key:z,rel:"prefetch",as:"fetch",href:z,...n})),R.map(z=>C.createElement("link",{key:z,rel:"modulepreload",href:z,...n})),U.map(({key:z,link:K})=>C.createElement("link",{key:z,nonce:n.nonce,...K})))}function WS(...r){return e=>{r.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var pb=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{pb&&(window.__reactRouterVersion="7.9.1")}catch{}function ZS({basename:r,children:e,window:n}){let s=C.useRef();s.current==null&&(s.current=zA({window:n,v5Compat:!0}));let o=s.current,[u,f]=C.useState({action:o.action,location:o.location}),m=C.useCallback(p=>{C.startTransition(()=>f(p))},[f]);return C.useLayoutEffect(()=>o.listen(m),[o,m]),C.createElement(CS,{basename:r,children:e,location:u.location,navigationType:u.action,navigator:o})}var gb=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,yb=C.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:o,reloadDocument:u,replace:f,state:m,target:p,to:g,preventScrollReset:_,viewTransition:T,...R},U){let{basename:z}=C.useContext(tr),K=typeof g=="string"&&gb.test(g),N,X=!1;if(typeof g=="string"&&K&&(N=g,pb))try{let x=new URL(window.location.href),k=g.startsWith("//")?new URL(x.protocol+g):new URL(g),P=oi(k.pathname,z);k.origin===x.origin&&P!=null?g=P+k.search+k.hash:X=!0}catch{Jn(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let Q=dS(g,{relative:o}),[re,de,ae]=KS(s,R),oe=nR(g,{replace:f,state:m,target:p,preventScrollReset:_,relative:o,viewTransition:T});function D(x){e&&e(x),x.defaultPrevented||oe(x)}let S=C.createElement("a",{...R,...ae,href:N||Q,onClick:X||u?e:D,ref:WS(U,de),target:p,"data-discover":!K&&n==="render"?"true":void 0});return re&&!K?C.createElement(C.Fragment,null,S,C.createElement(YS,{page:Q})):S});yb.displayName="Link";var JS=C.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:o=!1,style:u,to:f,viewTransition:m,children:p,...g},_){let T=yu(f,{relative:g.relative}),R=ss(),U=C.useContext($h),{navigator:z,basename:K}=C.useContext(tr),N=U!=null&&oR(T)&&m===!0,X=z.encodeLocation?z.encodeLocation(T).pathname:T.pathname,Q=R.pathname,re=U&&U.navigation&&U.navigation.location?U.navigation.location.pathname:null;n||(Q=Q.toLowerCase(),re=re?re.toLowerCase():null,X=X.toLowerCase()),re&&K&&(re=oi(re,K)||re);const de=X!=="/"&&X.endsWith("/")?X.length-1:X.length;let ae=Q===X||!o&&Q.startsWith(X)&&Q.charAt(de)==="/",oe=re!=null&&(re===X||!o&&re.startsWith(X)&&re.charAt(X.length)==="/"),D={isActive:ae,isPending:oe,isTransitioning:N},S=ae?e:void 0,x;typeof s=="function"?x=s(D):x=[s,ae?"active":null,oe?"pending":null,N?"transitioning":null].filter(Boolean).join(" ");let k=typeof u=="function"?u(D):u;return C.createElement(yb,{...g,"aria-current":S,className:x,ref:_,style:k,to:f,viewTransition:m},typeof p=="function"?p(D):p)});JS.displayName="NavLink";var eR=C.forwardRef(({discover:r="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:o,state:u,method:f=fh,action:m,onSubmit:p,relative:g,preventScrollReset:_,viewTransition:T,...R},U)=>{let z=sR(),K=aR(m,{relative:g}),N=f.toLowerCase()==="get"?"get":"post",X=typeof m=="string"&&gb.test(m),Q=re=>{if(p&&p(re),re.defaultPrevented)return;re.preventDefault();let de=re.nativeEvent.submitter,ae=de?.getAttribute("formmethod")||f;z(de||re.currentTarget,{fetcherKey:e,method:ae,navigate:n,replace:o,state:u,relative:g,preventScrollReset:_,viewTransition:T})};return C.createElement("form",{ref:U,method:N,action:K,onSubmit:s?p:Q,...R,"data-discover":!X&&r==="render"?"true":void 0})});eR.displayName="Form";function tR(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function vb(r){let e=C.useContext(Ao);return ct(e,tR(r)),e}function nR(r,{target:e,replace:n,state:s,preventScrollReset:o,relative:u,viewTransition:f}={}){let m=Kh(),p=ss(),g=yu(r,{relative:u});return C.useCallback(_=>{if(MS(_,e)){_.preventDefault();let T=n!==void 0?n:ou(p)===ou(g);m(r,{replace:T,state:s,preventScrollReset:o,relative:u,viewTransition:f})}},[p,m,g,n,s,e,r,o,u,f])}var rR=0,iR=()=>`__${String(++rR)}__`;function sR(){let{router:r}=vb("useSubmit"),{basename:e}=C.useContext(tr),n=AS();return C.useCallback(async(s,o={})=>{let{action:u,method:f,encType:m,formData:p,body:g}=LS(s,e);if(o.navigate===!1){let _=o.fetcherKey||iR();await r.fetch(_,n,o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||f,formEncType:o.encType||m,flushSync:o.flushSync})}else await r.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||f,formEncType:o.encType||m,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[r,e,n])}function aR(r,{relative:e}={}){let{basename:n}=C.useContext(tr),s=C.useContext(xr);ct(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...yu(r||".",{relative:e})},f=ss();if(r==null){u.search=f.search;let m=new URLSearchParams(u.search),p=m.getAll("index");if(p.some(_=>_==="")){m.delete("index"),p.filter(T=>T).forEach(T=>m.append("index",T));let _=m.toString();u.search=_?`?${_}`:""}}return(!r||r===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:si([n,u.pathname])),ou(u)}function oR(r,{relative:e}={}){let n=C.useContext(ob);ct(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=vb("useViewTransitionState"),o=yu(r,{relative:e});if(!n.isTransitioning)return!1;let u=oi(n.currentLocation.pathname,s)||n.currentLocation.pathname,f=oi(n.nextLocation.pathname,s)||n.nextLocation.pathname;return Sh(o.pathname,f)!=null||Sh(o.pathname,u)!=null}const lR=()=>{};var Z_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _b=function(r){const e=[];let n=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},uR=function(r){const e=[];let n=0,s=0;for(;n<r.length;){const o=r[n++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=r[n++];e[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=r[n++],f=r[n++],m=r[n++],p=((o&7)<<18|(u&63)<<12|(f&63)<<6|m&63)-65536;e[s++]=String.fromCharCode(55296+(p>>10)),e[s++]=String.fromCharCode(56320+(p&1023))}else{const u=r[n++],f=r[n++];e[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|f&63)}}return e.join("")},Eb={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const u=r[o],f=o+1<r.length,m=f?r[o+1]:0,p=o+2<r.length,g=p?r[o+2]:0,_=u>>2,T=(u&3)<<4|m>>4;let R=(m&15)<<2|g>>6,U=g&63;p||(U=64,f||(R=64)),s.push(n[_],n[T],n[R],n[U])}return s.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(_b(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):uR(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const u=n[r.charAt(o++)],m=o<r.length?n[r.charAt(o)]:0;++o;const g=o<r.length?n[r.charAt(o)]:64;++o;const T=o<r.length?n[r.charAt(o)]:64;if(++o,u==null||m==null||g==null||T==null)throw new cR;const R=u<<2|m>>4;if(s.push(R),g!==64){const U=m<<4&240|g>>2;if(s.push(U),T!==64){const z=g<<6&192|T;s.push(z)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class cR extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const hR=function(r){const e=_b(r);return Eb.encodeByteArray(e,!0)},Rh=function(r){return hR(r).replace(/\./g,"")},bb=function(r){try{return Eb.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fR(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dR=()=>fR().__FIREBASE_DEFAULTS__,mR=()=>{if(typeof process>"u"||typeof Z_>"u")return;const r=Z_.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},pR=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&bb(r[1]);return e&&JSON.parse(e)},Qh=()=>{try{return lR()||dR()||mR()||pR()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},wb=r=>Qh()?.emulatorHosts?.[r],Tb=r=>{const e=wb(r);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},Ab=()=>Qh()?.config,Sb=r=>Qh()?.[`_${r}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gR{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ia(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Mp(r){return(await fetch(r,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rb(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",o=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...r};return[Rh(JSON.stringify(n)),Rh(JSON.stringify(f)),""].join(".")}const eu={};function yR(){const r={prod:[],emulator:[]};for(const e of Object.keys(eu))eu[e]?r.emulator.push(e):r.prod.push(e);return r}function vR(r){let e=document.getElementById(r),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),n=!0),{created:n,element:e}}let J_=!1;function Pp(r,e){if(typeof window>"u"||typeof document>"u"||!ia(window.location.host)||eu[r]===e||eu[r]||J_)return;eu[r]=e;function n(R){return`__firebase__banner__${R}`}const s="__firebase__banner",u=yR().prod.length>0;function f(){const R=document.getElementById(s);R&&R.remove()}function m(R){R.style.display="flex",R.style.background="#7faaf0",R.style.position="fixed",R.style.bottom="5px",R.style.left="5px",R.style.padding=".5em",R.style.borderRadius="5px",R.style.alignItems="center"}function p(R,U){R.setAttribute("width","24"),R.setAttribute("id",U),R.setAttribute("height","24"),R.setAttribute("viewBox","0 0 24 24"),R.setAttribute("fill","none"),R.style.marginLeft="-6px"}function g(){const R=document.createElement("span");return R.style.cursor="pointer",R.style.marginLeft="16px",R.style.fontSize="24px",R.innerHTML=" &times;",R.onclick=()=>{J_=!0,f()},R}function _(R,U){R.setAttribute("id",U),R.innerText="Learn more",R.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",R.setAttribute("target","__blank"),R.style.paddingLeft="5px",R.style.textDecoration="underline"}function T(){const R=vR(s),U=n("text"),z=document.getElementById(U)||document.createElement("span"),K=n("learnmore"),N=document.getElementById(K)||document.createElement("a"),X=n("preprendIcon"),Q=document.getElementById(X)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(R.created){const re=R.element;m(re),_(N,K);const de=g();p(Q,X),re.append(Q,z,N,de),document.body.appendChild(re)}u?(z.innerText="Preview backend disconnected.",Q.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(Q.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,z.innerText="Preview backend running in this workspace."),z.setAttribute("id",U)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",T):T()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function _R(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(sn())}function ER(){const r=Qh()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function bR(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function wR(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function TR(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function AR(){const r=sn();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function SR(){return!ER()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function RR(){try{return typeof indexedDB=="object"}catch{return!1}}function xR(){return new Promise((r,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CR="FirebaseError";class Cr extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=CR,Object.setPrototypeOf(this,Cr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,vu.prototype.create)}}class vu{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},o=`${this.service}/${e}`,u=this.errors[e],f=u?IR(u,s):"Error",m=`${this.serviceName}: ${f} (${o}).`;return new Cr(o,m,s)}}function IR(r,e){return r.replace(NR,(n,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const NR=/\{\$([^}]+)}/g;function OR(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function Js(r,e){if(r===e)return!0;const n=Object.keys(r),s=Object.keys(e);for(const o of n){if(!s.includes(o))return!1;const u=r[o],f=e[o];if(e0(u)&&e0(f)){if(!Js(u,f))return!1}else if(u!==f)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function e0(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _u(r){const e=[];for(const[n,s]of Object.entries(r))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function Kl(r){const e={};return r.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,u]=s.split("=");e[decodeURIComponent(o)]=decodeURIComponent(u)}}),e}function Yl(r){const e=r.indexOf("?");if(!e)return"";const n=r.indexOf("#",e);return r.substring(e,n>0?n:void 0)}function DR(r,e){const n=new kR(r,e);return n.subscribe.bind(n)}class kR{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let o;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");MR(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:s},o.next===void 0&&(o.next=Sm),o.error===void 0&&(o.error=Sm),o.complete===void 0&&(o.complete=Sm);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function MR(r,e){if(typeof r!="object"||r===null)return!1;for(const n of e)if(n in r&&typeof r[n]=="function")return!0;return!1}function Sm(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function an(r){return r&&r._delegate?r._delegate:r}class Zi{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ks="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PR{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new gR;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(LR(e))try{this.getOrInitializeService({instanceIdentifier:Ks})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(e=Ks){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ks){return this.instances.has(e)}getOptions(e=Ks){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,f]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);s===m&&f.resolve(o)}return o}onInit(e,n){const s=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(s)??new Set;o.add(e),this.onInitCallbacks.set(s,o);const u=this.instances.get(s);return u&&e(u,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:VR(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Ks){return this.component?this.component.multipleInstances?e:Ks:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function VR(r){return r===Ks?void 0:r}function LR(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UR{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new PR(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var je;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(je||(je={}));const jR={debug:je.DEBUG,verbose:je.VERBOSE,info:je.INFO,warn:je.WARN,error:je.ERROR,silent:je.SILENT},zR=je.INFO,BR={[je.DEBUG]:"log",[je.VERBOSE]:"log",[je.INFO]:"info",[je.WARN]:"warn",[je.ERROR]:"error"},qR=(r,e,...n)=>{if(e<r.logLevel)return;const s=new Date().toISOString(),o=BR[e];if(o)console[o](`[${s}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Vp{constructor(e){this.name=e,this._logLevel=zR,this._logHandler=qR,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in je))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?jR[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,je.DEBUG,...e),this._logHandler(this,je.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,je.VERBOSE,...e),this._logHandler(this,je.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,je.INFO,...e),this._logHandler(this,je.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,je.WARN,...e),this._logHandler(this,je.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,je.ERROR,...e),this._logHandler(this,je.ERROR,...e)}}const HR=(r,e)=>e.some(n=>r instanceof n);let t0,n0;function FR(){return t0||(t0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function GR(){return n0||(n0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const xb=new WeakMap,Km=new WeakMap,Cb=new WeakMap,Rm=new WeakMap,Lp=new WeakMap;function $R(r){const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("success",u),r.removeEventListener("error",f)},u=()=>{n(Yi(r.result)),o()},f=()=>{s(r.error),o()};r.addEventListener("success",u),r.addEventListener("error",f)});return e.then(n=>{n instanceof IDBCursor&&xb.set(n,r)}).catch(()=>{}),Lp.set(e,r),e}function KR(r){if(Km.has(r))return;const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",f),r.removeEventListener("abort",f)},u=()=>{n(),o()},f=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",u),r.addEventListener("error",f),r.addEventListener("abort",f)});Km.set(r,e)}let Ym={get(r,e,n){if(r instanceof IDBTransaction){if(e==="done")return Km.get(r);if(e==="objectStoreNames")return r.objectStoreNames||Cb.get(r);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Yi(r[e])},set(r,e,n){return r[e]=n,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function YR(r){Ym=r(Ym)}function QR(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=r.call(xm(this),e,...n);return Cb.set(s,e.sort?e.sort():[e]),Yi(s)}:GR().includes(r)?function(...e){return r.apply(xm(this),e),Yi(xb.get(this))}:function(...e){return Yi(r.apply(xm(this),e))}}function XR(r){return typeof r=="function"?QR(r):(r instanceof IDBTransaction&&KR(r),HR(r,FR())?new Proxy(r,Ym):r)}function Yi(r){if(r instanceof IDBRequest)return $R(r);if(Rm.has(r))return Rm.get(r);const e=XR(r);return e!==r&&(Rm.set(r,e),Lp.set(e,r)),e}const xm=r=>Lp.get(r);function WR(r,e,{blocked:n,upgrade:s,blocking:o,terminated:u}={}){const f=indexedDB.open(r,e),m=Yi(f);return s&&f.addEventListener("upgradeneeded",p=>{s(Yi(f.result),p.oldVersion,p.newVersion,Yi(f.transaction),p)}),n&&f.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),m.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),m}const ZR=["get","getKey","getAll","getAllKeys","count"],JR=["put","add","delete","clear"],Cm=new Map;function r0(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(Cm.get(e))return Cm.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,o=JR.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||ZR.includes(n)))return;const u=async function(f,...m){const p=this.transaction(f,o?"readwrite":"readonly");let g=p.store;return s&&(g=g.index(m.shift())),(await Promise.all([g[n](...m),o&&p.done]))[0]};return Cm.set(e,u),u}YR(r=>({...r,get:(e,n,s)=>r0(e,n)||r.get(e,n,s),has:(e,n)=>!!r0(e,n)||r.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e2{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(t2(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function t2(r){return r.getComponent()?.type==="VERSION"}const Qm="@firebase/app",i0="0.14.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const li=new Vp("@firebase/app"),n2="@firebase/app-compat",r2="@firebase/analytics-compat",i2="@firebase/analytics",s2="@firebase/app-check-compat",a2="@firebase/app-check",o2="@firebase/auth",l2="@firebase/auth-compat",u2="@firebase/database",c2="@firebase/data-connect",h2="@firebase/database-compat",f2="@firebase/functions",d2="@firebase/functions-compat",m2="@firebase/installations",p2="@firebase/installations-compat",g2="@firebase/messaging",y2="@firebase/messaging-compat",v2="@firebase/performance",_2="@firebase/performance-compat",E2="@firebase/remote-config",b2="@firebase/remote-config-compat",w2="@firebase/storage",T2="@firebase/storage-compat",A2="@firebase/firestore",S2="@firebase/ai",R2="@firebase/firestore-compat",x2="firebase",C2="12.2.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xm="[DEFAULT]",I2={[Qm]:"fire-core",[n2]:"fire-core-compat",[i2]:"fire-analytics",[r2]:"fire-analytics-compat",[a2]:"fire-app-check",[s2]:"fire-app-check-compat",[o2]:"fire-auth",[l2]:"fire-auth-compat",[u2]:"fire-rtdb",[c2]:"fire-data-connect",[h2]:"fire-rtdb-compat",[f2]:"fire-fn",[d2]:"fire-fn-compat",[m2]:"fire-iid",[p2]:"fire-iid-compat",[g2]:"fire-fcm",[y2]:"fire-fcm-compat",[v2]:"fire-perf",[_2]:"fire-perf-compat",[E2]:"fire-rc",[b2]:"fire-rc-compat",[w2]:"fire-gcs",[T2]:"fire-gcs-compat",[A2]:"fire-fst",[R2]:"fire-fst-compat",[S2]:"fire-vertex","fire-js":"fire-js",[x2]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xh=new Map,N2=new Map,Wm=new Map;function s0(r,e){try{r.container.addComponent(e)}catch(n){li.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,n)}}function ea(r){const e=r.name;if(Wm.has(e))return li.debug(`There were multiple attempts to register component ${e}.`),!1;Wm.set(e,r);for(const n of xh.values())s0(n,r);for(const n of N2.values())s0(n,r);return!0}function Xh(r,e){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(e)}function pn(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O2={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Qi=new vu("app","Firebase",O2);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D2{constructor(e,n,s){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Zi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Qi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sa=C2;function Ib(r,e={}){let n=r;typeof e!="object"&&(e={name:e});const s={name:Xm,automaticDataCollectionEnabled:!0,...e},o=s.name;if(typeof o!="string"||!o)throw Qi.create("bad-app-name",{appName:String(o)});if(n||(n=Ab()),!n)throw Qi.create("no-options");const u=xh.get(o);if(u){if(Js(n,u.options)&&Js(s,u.config))return u;throw Qi.create("duplicate-app",{appName:o})}const f=new UR(o);for(const p of Wm.values())f.addComponent(p);const m=new D2(n,s,f);return xh.set(o,m),m}function Up(r=Xm){const e=xh.get(r);if(!e&&r===Xm&&Ab())return Ib();if(!e)throw Qi.create("no-app",{appName:r});return e}function Er(r,e,n){let s=I2[r]??r;n&&(s+=`-${n}`);const o=s.match(/\s|\//),u=e.match(/\s|\//);if(o||u){const f=[`Unable to register library "${s}" with version "${e}":`];o&&f.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&u&&f.push("and"),u&&f.push(`version name "${e}" contains illegal characters (whitespace or "/")`),li.warn(f.join(" "));return}ea(new Zi(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k2="firebase-heartbeat-database",M2=1,lu="firebase-heartbeat-store";let Im=null;function Nb(){return Im||(Im=WR(k2,M2,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(lu)}catch(n){console.warn(n)}}}}).catch(r=>{throw Qi.create("idb-open",{originalErrorMessage:r.message})})),Im}async function P2(r){try{const n=(await Nb()).transaction(lu),s=await n.objectStore(lu).get(Ob(r));return await n.done,s}catch(e){if(e instanceof Cr)li.warn(e.message);else{const n=Qi.create("idb-get",{originalErrorMessage:e?.message});li.warn(n.message)}}}async function a0(r,e){try{const s=(await Nb()).transaction(lu,"readwrite");await s.objectStore(lu).put(e,Ob(r)),await s.done}catch(n){if(n instanceof Cr)li.warn(n.message);else{const s=Qi.create("idb-set",{originalErrorMessage:n?.message});li.warn(s.message)}}}function Ob(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V2=1024,L2=30;class U2{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new z2(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=o0();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats.length>L2){const o=B2(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){li.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=o0(),{heartbeatsToSend:n,unsentEntries:s}=j2(this._heartbeatsCache.heartbeats),o=Rh(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return li.warn(e),""}}}function o0(){return new Date().toISOString().substring(0,10)}function j2(r,e=V2){const n=[];let s=r.slice();for(const o of r){const u=n.find(f=>f.agent===o.agent);if(u){if(u.dates.push(o.date),l0(n)>e){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),l0(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class z2{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return RR()?xR().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await P2(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return a0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return a0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function l0(r){return Rh(JSON.stringify({version:2,heartbeats:r})).length}function B2(r){if(r.length===0)return-1;let e=0,n=r[0].date;for(let s=1;s<r.length;s++)r[s].date<n&&(n=r[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q2(r){ea(new Zi("platform-logger",e=>new e2(e),"PRIVATE")),ea(new Zi("heartbeat",e=>new U2(e),"PRIVATE")),Er(Qm,i0,r),Er(Qm,i0,"esm2020"),Er("fire-js","")}q2("");function Db(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const H2=Db,kb=new vu("auth","Firebase",Db());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ch=new Vp("@firebase/auth");function F2(r,...e){Ch.logLevel<=je.WARN&&Ch.warn(`Auth (${sa}): ${r}`,...e)}function mh(r,...e){Ch.logLevel<=je.ERROR&&Ch.error(`Auth (${sa}): ${r}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qn(r,...e){throw zp(r,...e)}function Zn(r,...e){return zp(r,...e)}function jp(r,e,n){const s={...H2(),[e]:n};return new vu("auth","Firebase",s).create(e,{appName:r.name})}function ai(r){return jp(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function G2(r,e,n){const s=n;if(!(e instanceof s))throw s.name!==e.constructor.name&&qn(r,"argument-error"),jp(r,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function zp(r,...e){if(typeof r!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(n,...s)}return kb.create(r,...e)}function Re(r,e,...n){if(!r)throw zp(e,...n)}function ri(r){const e="INTERNAL ASSERTION FAILED: "+r;throw mh(e),new Error(e)}function ui(r,e){r||ri(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zm(){return typeof self<"u"&&self.location?.href||""}function $2(){return u0()==="http:"||u0()==="https:"}function u0(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K2(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&($2()||wR()||"connection"in navigator)?navigator.onLine:!0}function Y2(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eu{constructor(e,n){this.shortDelay=e,this.longDelay=n,ui(n>e,"Short delay should be less than long delay!"),this.isMobile=_R()||TR()}get(){return K2()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bp(r,e){ui(r.emulator,"Emulator should always be set here");const{url:n}=r.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mb{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ri("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ri("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ri("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q2={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X2=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],W2=new Eu(3e4,6e4);function as(r,e){return r.tenantId&&!e.tenantId?{...e,tenantId:r.tenantId}:e}async function hi(r,e,n,s,o={}){return Pb(r,o,async()=>{let u={},f={};s&&(e==="GET"?f=s:u={body:JSON.stringify(s)});const m=_u({key:r.config.apiKey,...f}).slice(1),p=await r._getAdditionalHeaders();p["Content-Type"]="application/json",r.languageCode&&(p["X-Firebase-Locale"]=r.languageCode);const g={method:e,headers:p,...u};return bR()||(g.referrerPolicy="no-referrer"),r.emulatorConfig&&ia(r.emulatorConfig.host)&&(g.credentials="include"),Mb.fetch()(await Vb(r,r.config.apiHost,n,m),g)})}async function Pb(r,e,n){r._canInitEmulator=!1;const s={...Q2,...e};try{const o=new J2(r),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw eh(r,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const m=u.ok?f.errorMessage:f.error.message,[p,g]=m.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw eh(r,"credential-already-in-use",f);if(p==="EMAIL_EXISTS")throw eh(r,"email-already-in-use",f);if(p==="USER_DISABLED")throw eh(r,"user-disabled",f);const _=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw jp(r,_,g);qn(r,_)}}catch(o){if(o instanceof Cr)throw o;qn(r,"network-request-failed",{message:String(o)})}}async function bu(r,e,n,s,o={}){const u=await hi(r,e,n,s,o);return"mfaPendingCredential"in u&&qn(r,"multi-factor-auth-required",{_serverResponse:u}),u}async function Vb(r,e,n,s){const o=`${e}${n}?${s}`,u=r,f=u.config.emulator?Bp(r.config,o):`${r.config.apiScheme}://${o}`;return X2.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(f).toString():f}function Z2(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class J2{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(Zn(this.auth,"network-request-failed")),W2.get())})}}function eh(r,e,n){const s={appName:r.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=Zn(r,e,s);return o.customData._tokenResponse=n,o}function c0(r){return r!==void 0&&r.enterprise!==void 0}class ex{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return Z2(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function tx(r,e){return hi(r,"GET","/v2/recaptchaConfig",as(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nx(r,e){return hi(r,"POST","/v1/accounts:delete",e)}async function Ih(r,e){return hi(r,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tu(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function rx(r,e=!1){const n=an(r),s=await n.getIdToken(e),o=qp(s);Re(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,f=u?.sign_in_provider;return{claims:o,token:s,authTime:tu(Nm(o.auth_time)),issuedAtTime:tu(Nm(o.iat)),expirationTime:tu(Nm(o.exp)),signInProvider:f||null,signInSecondFactor:u?.sign_in_second_factor||null}}function Nm(r){return Number(r)*1e3}function qp(r){const[e,n,s]=r.split(".");if(e===void 0||n===void 0||s===void 0)return mh("JWT malformed, contained fewer than 3 sections"),null;try{const o=bb(n);return o?JSON.parse(o):(mh("Failed to decode base64 JWT payload"),null)}catch(o){return mh("Caught error parsing JWT payload as JSON",o?.toString()),null}}function h0(r){const e=qp(r);return Re(e,"internal-error"),Re(typeof e.exp<"u","internal-error"),Re(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mo(r,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof Cr&&ix(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function ix({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sx{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jm{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=tu(this.lastLoginAt),this.creationTime=tu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Nh(r){const e=r.auth,n=await r.getIdToken(),s=await mo(r,Ih(e,{idToken:n}));Re(s?.users.length,e,"internal-error");const o=s.users[0];r._notifyReloadListener(o);const u=o.providerUserInfo?.length?Lb(o.providerUserInfo):[],f=ox(r.providerData,u),m=r.isAnonymous,p=!(r.email&&o.passwordHash)&&!f?.length,g=m?p:!1,_={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:f,metadata:new Jm(o.createdAt,o.lastLoginAt),isAnonymous:g};Object.assign(r,_)}async function ax(r){const e=an(r);await Nh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function ox(r,e){return[...r.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function Lb(r){return r.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lx(r,e){const n=await Pb(r,{},async()=>{const s=_u({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=r.config,f=await Vb(r,o,"/v1/token",`key=${u}`),m=await r._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:m,body:s};return r.emulatorConfig&&ia(r.emulatorConfig.host)&&(p.credentials="include"),Mb.fetch()(f,p)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function ux(r,e){return hi(r,"POST","/v2/accounts:revokeToken",as(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class so{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Re(e.idToken,"internal-error"),Re(typeof e.idToken<"u","internal-error"),Re(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):h0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Re(e.length!==0,"internal-error");const n=h0(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Re(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:o,expiresIn:u}=await lx(e,n);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:o,expirationTime:u}=n,f=new so;return s&&(Re(typeof s=="string","internal-error",{appName:e}),f.refreshToken=s),o&&(Re(typeof o=="string","internal-error",{appName:e}),f.accessToken=o),u&&(Re(typeof u=="number","internal-error",{appName:e}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new so,this.toJSON())}_performRefresh(){return ri("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zi(r,e){Re(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class Xn{constructor({uid:e,auth:n,stsTokenManager:s,...o}){this.providerId="firebase",this.proactiveRefresh=new sx(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Jm(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await mo(this,this.stsTokenManager.getToken(this.auth,e));return Re(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return rx(this,e)}reload(){return ax(this)}_assign(e){this!==e&&(Re(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Xn({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Re(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await Nh(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(pn(this.auth.app))return Promise.reject(ai(this.auth));const e=await this.getIdToken();return await mo(this,nx(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const s=n.displayName??void 0,o=n.email??void 0,u=n.phoneNumber??void 0,f=n.photoURL??void 0,m=n.tenantId??void 0,p=n._redirectEventId??void 0,g=n.createdAt??void 0,_=n.lastLoginAt??void 0,{uid:T,emailVerified:R,isAnonymous:U,providerData:z,stsTokenManager:K}=n;Re(T&&K,e,"internal-error");const N=so.fromJSON(this.name,K);Re(typeof T=="string",e,"internal-error"),zi(s,e.name),zi(o,e.name),Re(typeof R=="boolean",e,"internal-error"),Re(typeof U=="boolean",e,"internal-error"),zi(u,e.name),zi(f,e.name),zi(m,e.name),zi(p,e.name),zi(g,e.name),zi(_,e.name);const X=new Xn({uid:T,auth:e,email:o,emailVerified:R,displayName:s,isAnonymous:U,photoURL:f,phoneNumber:u,tenantId:m,stsTokenManager:N,createdAt:g,lastLoginAt:_});return z&&Array.isArray(z)&&(X.providerData=z.map(Q=>({...Q}))),p&&(X._redirectEventId=p),X}static async _fromIdTokenResponse(e,n,s=!1){const o=new so;o.updateFromServerResponse(n);const u=new Xn({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await Nh(u),u}static async _fromGetAccountInfoResponse(e,n,s){const o=n.users[0];Re(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?Lb(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!u?.length,m=new so;m.updateFromIdToken(s);const p=new Xn({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:f}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Jm(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!u?.length};return Object.assign(p,g),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f0=new Map;function ii(r){ui(r instanceof Function,"Expected a class definition");let e=f0.get(r);return e?(ui(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,f0.set(r,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ub{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}Ub.type="NONE";const d0=Ub;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ph(r,e,n){return`firebase:${r}:${e}:${n}`}class ao{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=ph(this.userKey,o.apiKey,u),this.fullPersistenceKey=ph("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Ih(this.auth,{idToken:e}).catch(()=>{});return n?Xn._fromGetAccountInfoResponse(this.auth,n,e):null}return Xn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new ao(ii(d0),e,s);const o=(await Promise.all(n.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let u=o[0]||ii(d0);const f=ph(s,e.config.apiKey,e.name);let m=null;for(const g of n)try{const _=await g._get(f);if(_){let T;if(typeof _=="string"){const R=await Ih(e,{idToken:_}).catch(()=>{});if(!R)break;T=await Xn._fromGetAccountInfoResponse(e,R,_)}else T=Xn._fromJSON(e,_);g!==u&&(m=T),u=g;break}}catch{}const p=o.filter(g=>g._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new ao(u,e,s):(u=p[0],m&&await u._set(f,m.toJSON()),await Promise.all(n.map(async g=>{if(g!==u)try{await g._remove(f)}catch{}})),new ao(u,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m0(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(qb(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(jb(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Fb(e))return"Blackberry";if(Gb(e))return"Webos";if(zb(e))return"Safari";if((e.includes("chrome/")||Bb(e))&&!e.includes("edge/"))return"Chrome";if(Hb(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(n);if(s?.length===2)return s[1]}return"Other"}function jb(r=sn()){return/firefox\//i.test(r)}function zb(r=sn()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Bb(r=sn()){return/crios\//i.test(r)}function qb(r=sn()){return/iemobile/i.test(r)}function Hb(r=sn()){return/android/i.test(r)}function Fb(r=sn()){return/blackberry/i.test(r)}function Gb(r=sn()){return/webos/i.test(r)}function Hp(r=sn()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function cx(r=sn()){return Hp(r)&&!!window.navigator?.standalone}function hx(){return AR()&&document.documentMode===10}function $b(r=sn()){return Hp(r)||Hb(r)||Gb(r)||Fb(r)||/windows phone/i.test(r)||qb(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kb(r,e=[]){let n;switch(r){case"Browser":n=m0(sn());break;case"Worker":n=`${m0(sn())}-${r}`;break;default:n=r}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${sa}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fx{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=u=>new Promise((f,m)=>{try{const p=e(u);f(p)}catch(p){m(p)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dx(r,e={}){return hi(r,"GET","/v2/passwordPolicy",as(r,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mx=6;class px{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??mx,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gx{constructor(e,n,s,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new p0(this),this.idTokenSubscription=new p0(this),this.beforeStateQueue=new fx(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=kb,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ii(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await ao.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Ih(this,{idToken:e}),s=await Xn._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(pn(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(f=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(f,f))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,f=s?._redirectEventId,m=await this.tryRedirectSignIn(e);(!u||u===f)&&m?.user&&(s=m.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(u){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Re(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Nh(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Y2()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(pn(this.app))return Promise.reject(ai(this));const n=e?an(e):null;return n&&Re(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Re(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return pn(this.app)?Promise.reject(ai(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return pn(this.app)?Promise.reject(ai(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ii(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await dx(this),n=new px(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new vu("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await ux(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&ii(e)||this._popupRedirectResolver;Re(n,this,"argument-error"),this.redirectPersistenceManager=await ao.create(this,[ii(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let f=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(Re(m,this,"internal-error"),m.then(()=>{f||u(this.currentUser)}),typeof n=="function"){const p=e.addObserver(n,s,o);return()=>{f=!0,p()}}else{const p=e.addObserver(n);return()=>{f=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Re(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Kb(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){if(pn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&F2(`Error while retrieving App Check token: ${e.error}`),e?.token}}function os(r){return an(r)}class p0{constructor(e){this.auth=e,this.observer=null,this.addObserver=DR(n=>this.observer=n)}get next(){return Re(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Wh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function yx(r){Wh=r}function Yb(r){return Wh.loadJS(r)}function vx(){return Wh.recaptchaEnterpriseScript}function _x(){return Wh.gapiScript}function Ex(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class bx{constructor(){this.enterprise=new wx}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class wx{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const Tx="recaptcha-enterprise",Qb="NO_RECAPTCHA";class Ax{constructor(e){this.type=Tx,this.auth=os(e)}async verify(e="verify",n=!1){async function s(u){if(!n){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(f,m)=>{tx(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const g=new ex(p);return u.tenantId==null?u._agentRecaptchaConfig=g:u._tenantRecaptchaConfigs[u.tenantId]=g,f(g.siteKey)}}).catch(p=>{m(p)})})}function o(u,f,m){const p=window.grecaptcha;c0(p)?p.enterprise.ready(()=>{p.enterprise.execute(u,{action:e}).then(g=>{f(g)}).catch(()=>{f(Qb)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new bx().execute("siteKey",{action:"verify"}):new Promise((u,f)=>{s(this.auth).then(m=>{if(!n&&c0(window.grecaptcha))o(m,u,f);else{if(typeof window>"u"){f(new Error("RecaptchaVerifier is only supported in browser"));return}let p=vx();p.length!==0&&(p+=m),Yb(p).then(()=>{o(m,u,f)}).catch(g=>{f(g)})}}).catch(m=>{f(m)})})}}async function g0(r,e,n,s=!1,o=!1){const u=new Ax(r);let f;if(o)f=Qb;else try{f=await u.verify(n)}catch{f=await u.verify(n,!0)}const m={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const p=m.phoneEnrollmentInfo.phoneNumber,g=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:g,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const p=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return s?Object.assign(m,{captchaResp:f}):Object.assign(m,{captchaResponse:f}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function ep(r,e,n,s,o){if(r._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await g0(r,e,n,n==="getOobCode");return s(r,u)}else return s(r,e).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const f=await g0(r,e,n,n==="getOobCode");return s(r,f)}else return Promise.reject(u)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sx(r,e){const n=Xh(r,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(Js(u,e??{}))return o;qn(o,"already-initialized")}return n.initialize({options:e})}function Rx(r,e){const n=e?.persistence||[],s=(Array.isArray(n)?n:[n]).map(ii);e?.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(s,e?.popupRedirectResolver)}function xx(r,e,n){const s=os(r);Re(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,u=Xb(e),{host:f,port:m}=Cx(e),p=m===null?"":`:${m}`,g={url:`${u}//${f}${p}/`},_=Object.freeze({host:f,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){Re(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Re(Js(g,s.config.emulator)&&Js(_,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=g,s.emulatorConfig=_,s.settings.appVerificationDisabledForTesting=!0,ia(f)?(Mp(`${u}//${f}${p}`),Pp("Auth",!0)):Ix()}function Xb(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function Cx(r){const e=Xb(r),n=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:y0(s.substr(u.length+1))}}else{const[u,f]=s.split(":");return{host:u,port:y0(f)}}}function y0(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function Ix(){function r(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fp{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return ri("not implemented")}_getIdTokenResponse(e){return ri("not implemented")}_linkToIdToken(e,n){return ri("not implemented")}_getReauthenticationResolver(e){return ri("not implemented")}}async function Nx(r,e){return hi(r,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ox(r,e){return bu(r,"POST","/v1/accounts:signInWithPassword",as(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Dx(r,e){return bu(r,"POST","/v1/accounts:signInWithEmailLink",as(r,e))}async function kx(r,e){return bu(r,"POST","/v1/accounts:signInWithEmailLink",as(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uu extends Fp{constructor(e,n,s,o=null){super("password",s),this._email=e,this._password=n,this._tenantId=o}static _fromEmailAndPassword(e,n){return new uu(e,n,"password")}static _fromEmailAndCode(e,n,s=null){return new uu(e,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return ep(e,n,"signInWithPassword",Ox);case"emailLink":return Dx(e,{email:this._email,oobCode:this._password});default:qn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return ep(e,s,"signUpPassword",Nx);case"emailLink":return kx(e,{idToken:n,email:this._email,oobCode:this._password});default:qn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oo(r,e){return bu(r,"POST","/v1/accounts:signInWithIdp",as(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mx="http://localhost";class ta extends Fp{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new ta(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):qn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o,...u}=n;if(!s||!o)return null;const f=new ta(s,o);return f.idToken=u.idToken||void 0,f.accessToken=u.accessToken||void 0,f.secret=u.secret,f.nonce=u.nonce,f.pendingToken=u.pendingToken||null,f}_getIdTokenResponse(e){const n=this.buildRequest();return oo(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,oo(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,oo(e,n)}buildRequest(){const e={requestUri:Mx,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=_u(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Px(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Vx(r){const e=Kl(Yl(r)).link,n=e?Kl(Yl(e)).deep_link_id:null,s=Kl(Yl(r)).deep_link_id;return(s?Kl(Yl(s)).link:null)||s||n||e||r}class Gp{constructor(e){const n=Kl(Yl(e)),s=n.apiKey??null,o=n.oobCode??null,u=Px(n.mode??null);Re(s&&o&&u,"argument-error"),this.apiKey=s,this.operation=u,this.code=o,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=Vx(e);try{return new Gp(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ro{constructor(){this.providerId=Ro.PROVIDER_ID}static credential(e,n){return uu._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const s=Gp.parseLink(n);return Re(s,"argument-error"),uu._fromEmailAndCode(e,s.code,s.tenantId)}}Ro.PROVIDER_ID="password";Ro.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Ro.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $p{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wu extends $p{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qi extends wu{constructor(){super("facebook.com")}static credential(e){return ta._fromParams({providerId:qi.PROVIDER_ID,signInMethod:qi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return qi.credentialFromTaggedObject(e)}static credentialFromError(e){return qi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return qi.credential(e.oauthAccessToken)}catch{return null}}}qi.FACEBOOK_SIGN_IN_METHOD="facebook.com";qi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ni extends wu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return ta._fromParams({providerId:ni.PROVIDER_ID,signInMethod:ni.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return ni.credentialFromTaggedObject(e)}static credentialFromError(e){return ni.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return ni.credential(n,s)}catch{return null}}}ni.GOOGLE_SIGN_IN_METHOD="google.com";ni.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hi extends wu{constructor(){super("github.com")}static credential(e){return ta._fromParams({providerId:Hi.PROVIDER_ID,signInMethod:Hi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Hi.credentialFromTaggedObject(e)}static credentialFromError(e){return Hi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Hi.credential(e.oauthAccessToken)}catch{return null}}}Hi.GITHUB_SIGN_IN_METHOD="github.com";Hi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fi extends wu{constructor(){super("twitter.com")}static credential(e,n){return ta._fromParams({providerId:Fi.PROVIDER_ID,signInMethod:Fi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Fi.credentialFromTaggedObject(e)}static credentialFromError(e){return Fi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return Fi.credential(n,s)}catch{return null}}}Fi.TWITTER_SIGN_IN_METHOD="twitter.com";Fi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Lx(r,e){return bu(r,"POST","/v1/accounts:signUp",as(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class na{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,o=!1){const u=await Xn._fromIdTokenResponse(e,s,o),f=v0(s);return new na({user:u,providerId:f,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const o=v0(s);return new na({user:e,providerId:o,_tokenResponse:s,operationType:n})}}function v0(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oh extends Cr{constructor(e,n,s,o){super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,Oh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,o){return new Oh(e,n,s,o)}}function Wb(r,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(r):n._getIdTokenResponse(r)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?Oh._fromErrorAndOperation(r,u,e,s):u})}async function Ux(r,e,n=!1){const s=await mo(r,e._linkToIdToken(r.auth,await r.getIdToken()),n);return na._forOperation(r,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jx(r,e,n=!1){const{auth:s}=r;if(pn(s.app))return Promise.reject(ai(s));const o="reauthenticate";try{const u=await mo(r,Wb(s,o,e,r),n);Re(u.idToken,s,"internal-error");const f=qp(u.idToken);Re(f,s,"internal-error");const{sub:m}=f;return Re(r.uid===m,s,"user-mismatch"),na._forOperation(r,o,u)}catch(u){throw u?.code==="auth/user-not-found"&&qn(s,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zb(r,e,n=!1){if(pn(r.app))return Promise.reject(ai(r));const s="signIn",o=await Wb(r,s,e),u=await na._fromIdTokenResponse(r,s,o);return n||await r._updateCurrentUser(u.user),u}async function zx(r,e){return Zb(os(r),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Jb(r){const e=os(r);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function Bx(r,e,n){if(pn(r.app))return Promise.reject(ai(r));const s=os(r),f=await ep(s,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Lx).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&Jb(r),p}),m=await na._fromIdTokenResponse(s,"signIn",f);return await s._updateCurrentUser(m.user),m}function qx(r,e,n){return pn(r.app)?Promise.reject(ai(r)):zx(an(r),Ro.credential(e,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&Jb(r),s})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Hx(r,e){return hi(r,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fx(r,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const s=an(r),u={idToken:await s.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},f=await mo(s,Hx(s.auth,u));s.displayName=f.displayName||null,s.photoURL=f.photoUrl||null;const m=s.providerData.find(({providerId:p})=>p==="password");m&&(m.displayName=s.displayName,m.photoURL=s.photoURL),await s._updateTokensIfNecessary(f)}function Gx(r,e,n,s){return an(r).onIdTokenChanged(e,n,s)}function $x(r,e,n){return an(r).beforeAuthStateChanged(e,n)}function Kx(r,e,n,s){return an(r).onAuthStateChanged(e,n,s)}function Yx(r){return an(r).signOut()}const Dh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ew{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Dh,"1"),this.storage.removeItem(Dh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qx=1e3,Xx=10;class tw extends ew{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=$b(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&e(n,o,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((f,m,p)=>{this.notifyListeners(f,p)});return}const s=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const f=this.storage.getItem(s);!n&&this.localCache[s]===f||this.notifyListeners(s,f)},u=this.storage.getItem(s);hx()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,Xx):o()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},Qx)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}tw.type="LOCAL";const Wx=tw;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nw extends ew{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}nw.type="SESSION";const rw=nw;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zx(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const s=new Zh(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:o,data:u}=n.data,f=this.handlersMap[o];if(!f?.size)return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const m=Array.from(f).map(async g=>g(n.origin,u)),p=await Zx(m);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:p})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Zh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kp(r="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return r+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jx{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,f;return new Promise((m,p)=>{const g=Kp("",20);o.port1.start();const _=setTimeout(()=>{p(new Error("unsupported_event"))},s);f={messageChannel:o,onMessage(T){const R=T;if(R.data.eventId===g)switch(R.data.status){case"ack":clearTimeout(_),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(R.data.response);break;default:clearTimeout(_),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(f),o.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:e,eventId:g,data:n},[o.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function br(){return window}function eC(r){br().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iw(){return typeof br().WorkerGlobalScope<"u"&&typeof br().importScripts=="function"}async function tC(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function nC(){return navigator?.serviceWorker?.controller||null}function rC(){return iw()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sw="firebaseLocalStorageDb",iC=1,kh="firebaseLocalStorage",aw="fbase_key";class Tu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Jh(r,e){return r.transaction([kh],e?"readwrite":"readonly").objectStore(kh)}function sC(){const r=indexedDB.deleteDatabase(sw);return new Tu(r).toPromise()}function tp(){const r=indexedDB.open(sw,iC);return new Promise((e,n)=>{r.addEventListener("error",()=>{n(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(kh,{keyPath:aw})}catch(o){n(o)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(kh)?e(s):(s.close(),await sC(),e(await tp()))})})}async function _0(r,e,n){const s=Jh(r,!0).put({[aw]:e,value:n});return new Tu(s).toPromise()}async function aC(r,e){const n=Jh(r,!1).get(e),s=await new Tu(n).toPromise();return s===void 0?null:s.value}function E0(r,e){const n=Jh(r,!0).delete(e);return new Tu(n).toPromise()}const oC=800,lC=3;class ow{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await tp(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>lC)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return iw()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Zh._getInstance(rC()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await tC(),!this.activeServiceWorker)return;this.sender=new Jx(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||nC()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await tp();return await _0(e,Dh,"1"),await E0(e,Dh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>_0(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>aC(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>E0(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=Jh(o,!1).getAll();return new Tu(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),oC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}ow.type="LOCAL";const uC=ow;new Eu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lw(r,e){return e?ii(e):(Re(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yp extends Fp{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return oo(e,this._buildIdpRequest())}_linkToIdToken(e,n){return oo(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return oo(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function cC(r){return Zb(r.auth,new Yp(r),r.bypassAuthState)}function hC(r){const{auth:e,user:n}=r;return Re(n,e,"internal-error"),jx(n,new Yp(r),r.bypassAuthState)}async function fC(r){const{auth:e,user:n}=r;return Re(n,e,"internal-error"),Ux(n,new Yp(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uw{constructor(e,n,s,o,u=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:o,tenantId:u,error:f,type:m}=e;if(f){this.reject(f);return}const p={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(p))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return cC;case"linkViaPopup":case"linkViaRedirect":return fC;case"reauthViaPopup":case"reauthViaRedirect":return hC;default:qn(this.auth,"internal-error")}}resolve(e){ui(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ui(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dC=new Eu(2e3,1e4);async function mC(r,e,n){if(pn(r.app))return Promise.reject(Zn(r,"operation-not-supported-in-this-environment"));const s=os(r);G2(r,e,$p);const o=lw(s,n);return new Ys(s,"signInViaPopup",e,o).executeNotNull()}class Ys extends uw{constructor(e,n,s,o,u){super(e,n,o,u),this.provider=s,this.authWindow=null,this.pollId=null,Ys.currentPopupAction&&Ys.currentPopupAction.cancel(),Ys.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Re(e,this.auth,"internal-error"),e}async onExecution(){ui(this.filter.length===1,"Popup operations only handle one event");const e=Kp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Zn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Zn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ys.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Zn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,dC.get())};e()}}Ys.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pC="pendingRedirect",gh=new Map;class gC extends uw{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=gh.get(this.auth._key());if(!e){try{const s=await yC(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}gh.set(this.auth._key(),e)}return this.bypassAuthState||gh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function yC(r,e){const n=EC(e),s=_C(r);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}function vC(r,e){gh.set(r._key(),e)}function _C(r){return ii(r._redirectPersistence)}function EC(r){return ph(pC,r.config.apiKey,r.name)}async function bC(r,e,n=!1){if(pn(r.app))return Promise.reject(ai(r));const s=os(r),o=lw(s,e),f=await new gC(s,o,n).execute();return f&&!n&&(delete f.user._redirectEventId,await s._persistUserIfCurrent(f.user),await s._setRedirectUser(null,e)),f}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wC=600*1e3;class TC{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!AC(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!cw(e)){const s=e.error.code?.split("auth/")[1]||"internal-error";n.onError(Zn(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=wC&&this.cachedEventUids.clear(),this.cachedEventUids.has(b0(e))}saveEventToCache(e){this.cachedEventUids.add(b0(e)),this.lastProcessedEventTime=Date.now()}}function b0(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function cw({type:r,error:e}){return r==="unknown"&&e?.code==="auth/no-auth-event"}function AC(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return cw(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SC(r,e={}){return hi(r,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RC=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,xC=/^https?/;async function CC(r){if(r.config.emulator)return;const{authorizedDomains:e}=await SC(r);for(const n of e)try{if(IC(n))return}catch{}qn(r,"unauthorized-domain")}function IC(r){const e=Zm(),{protocol:n,hostname:s}=new URL(e);if(r.startsWith("chrome-extension://")){const f=new URL(r);return f.hostname===""&&s===""?n==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&f.hostname===s}if(!xC.test(n))return!1;if(RC.test(r))return s===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NC=new Eu(3e4,6e4);function w0(){const r=br().___jsl;if(r?.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let n=0;n<r.CP.length;n++)r.CP[n]=null}}function OC(r){return new Promise((e,n)=>{function s(){w0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{w0(),n(Zn(r,"network-request-failed"))},timeout:NC.get()})}if(br().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(br().gapi?.load)s();else{const o=Ex("iframefcb");return br()[o]=()=>{gapi.load?s():n(Zn(r,"network-request-failed"))},Yb(`${_x()}?onload=${o}`).catch(u=>n(u))}}).catch(e=>{throw yh=null,e})}let yh=null;function DC(r){return yh=yh||OC(r),yh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kC=new Eu(5e3,15e3),MC="__/auth/iframe",PC="emulator/auth/iframe",VC={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},LC=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function UC(r){const e=r.config;Re(e.authDomain,r,"auth-domain-config-required");const n=e.emulator?Bp(e,PC):`https://${r.config.authDomain}/${MC}`,s={apiKey:e.apiKey,appName:r.name,v:sa},o=LC.get(r.config.apiHost);o&&(s.eid=o);const u=r._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${_u(s).slice(1)}`}async function jC(r){const e=await DC(r),n=br().gapi;return Re(n,r,"internal-error"),e.open({where:document.body,url:UC(r),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:VC,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const f=Zn(r,"network-request-failed"),m=br().setTimeout(()=>{u(f)},kC.get());function p(){br().clearTimeout(m),o(s)}s.ping(p).then(p,()=>{u(f)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zC={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},BC=500,qC=600,HC="_blank",FC="http://localhost";class T0{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function GC(r,e,n,s=BC,o=qC){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),f=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const p={...zC,width:s.toString(),height:o.toString(),top:u,left:f},g=sn().toLowerCase();n&&(m=Bb(g)?HC:n),jb(g)&&(e=e||FC,p.scrollbars="yes");const _=Object.entries(p).reduce((R,[U,z])=>`${R}${U}=${z},`,"");if(cx(g)&&m!=="_self")return $C(e||"",m),new T0(null);const T=window.open(e||"",m,_);Re(T,r,"popup-blocked");try{T.focus()}catch{}return new T0(T)}function $C(r,e){const n=document.createElement("a");n.href=r,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KC="__/auth/handler",YC="emulator/auth/handler",QC=encodeURIComponent("fac");async function A0(r,e,n,s,o,u){Re(r.config.authDomain,r,"auth-domain-config-required"),Re(r.config.apiKey,r,"invalid-api-key");const f={apiKey:r.config.apiKey,appName:r.name,authType:n,redirectUrl:s,v:sa,eventId:o};if(e instanceof $p){e.setDefaultLanguage(r.languageCode),f.providerId=e.providerId||"",OR(e.getCustomParameters())||(f.customParameters=JSON.stringify(e.getCustomParameters()));for(const[_,T]of Object.entries({}))f[_]=T}if(e instanceof wu){const _=e.getScopes().filter(T=>T!=="");_.length>0&&(f.scopes=_.join(","))}r.tenantId&&(f.tid=r.tenantId);const m=f;for(const _ of Object.keys(m))m[_]===void 0&&delete m[_];const p=await r._getAppCheckToken(),g=p?`#${QC}=${encodeURIComponent(p)}`:"";return`${XC(r)}?${_u(m).slice(1)}${g}`}function XC({config:r}){return r.emulator?Bp(r,YC):`https://${r.authDomain}/${KC}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Om="webStorageSupport";class WC{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=rw,this._completeRedirectFn=bC,this._overrideRedirectResult=vC}async _openPopup(e,n,s,o){ui(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const u=await A0(e,n,s,Zm(),o);return GC(e,u,Kp())}async _openRedirect(e,n,s,o){await this._originValidation(e);const u=await A0(e,n,s,Zm(),o);return eC(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(ui(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await jC(e),s=new TC(e);return n.register("authEvent",o=>(Re(o?.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Om,{type:Om},o=>{const u=o?.[0]?.[Om];u!==void 0&&n(!!u),qn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=CC(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return $b()||zb()||Hp()}}const ZC=WC;var S0="@firebase/auth",R0="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JC{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Re(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eI(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function tI(r){ea(new Zi("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:f,authDomain:m}=s.options;Re(f&&!f.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:f,authDomain:m,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Kb(r)},g=new gx(s,o,u,p);return Rx(g,n),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),ea(new Zi("auth-internal",e=>{const n=os(e.getProvider("auth").getImmediate());return(s=>new JC(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Er(S0,R0,eI(r)),Er(S0,R0,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nI=300,rI=Sb("authIdTokenMaxAge")||nI;let x0=null;const iI=r=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>rI)return;const o=n?.token;x0!==o&&(x0=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function sI(r=Up()){const e=Xh(r,"auth");if(e.isInitialized())return e.getImmediate();const n=Sx(r,{popupRedirectResolver:ZC,persistence:[uC,Wx,rw]}),s=Sb("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const f=iI(u.toString());$x(n,f,()=>f(n.currentUser)),Gx(n,m=>f(m))}}const o=wb("auth");return o&&xx(n,`http://${o}`),n}function aI(){return document.getElementsByTagName("head")?.[0]??document}yx({loadJS(r){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=e,s.onerror=o=>{const u=Zn("internal-error");u.customData=o,n(u)},s.type="text/javascript",s.charset="UTF-8",aI().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});tI("Browser");var oI="firebase",lI="12.2.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Er(oI,lI,"app");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hw="firebasestorage.googleapis.com",uI="storageBucket",cI=120*1e3,hI=600*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ir extends Cr{constructor(e,n,s=0){super(Dm(e),`Firebase Storage: ${n} (${Dm(e)})`),this.status_=s,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Ir.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Dm(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Sr;(function(r){r.UNKNOWN="unknown",r.OBJECT_NOT_FOUND="object-not-found",r.BUCKET_NOT_FOUND="bucket-not-found",r.PROJECT_NOT_FOUND="project-not-found",r.QUOTA_EXCEEDED="quota-exceeded",r.UNAUTHENTICATED="unauthenticated",r.UNAUTHORIZED="unauthorized",r.UNAUTHORIZED_APP="unauthorized-app",r.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",r.INVALID_CHECKSUM="invalid-checksum",r.CANCELED="canceled",r.INVALID_EVENT_NAME="invalid-event-name",r.INVALID_URL="invalid-url",r.INVALID_DEFAULT_BUCKET="invalid-default-bucket",r.NO_DEFAULT_BUCKET="no-default-bucket",r.CANNOT_SLICE_BLOB="cannot-slice-blob",r.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",r.NO_DOWNLOAD_URL="no-download-url",r.INVALID_ARGUMENT="invalid-argument",r.INVALID_ARGUMENT_COUNT="invalid-argument-count",r.APP_DELETED="app-deleted",r.INVALID_ROOT_OPERATION="invalid-root-operation",r.INVALID_FORMAT="invalid-format",r.INTERNAL_ERROR="internal-error",r.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Sr||(Sr={}));function Dm(r){return"storage/"+r}function fI(){const r="An unknown error occurred, please check the error payload for server response.";return new Ir(Sr.UNKNOWN,r)}function dI(){return new Ir(Sr.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function mI(){return new Ir(Sr.CANCELED,"User canceled the upload/download.")}function pI(r){return new Ir(Sr.INVALID_URL,"Invalid URL '"+r+"'.")}function gI(r){return new Ir(Sr.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+r+"'.")}function C0(r){return new Ir(Sr.INVALID_ARGUMENT,r)}function fw(){return new Ir(Sr.APP_DELETED,"The Firebase app was deleted.")}function yI(r){return new Ir(Sr.INVALID_ROOT_OPERATION,"The operation '"+r+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wn{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let s;try{s=Wn.makeFromUrl(e,n)}catch{return new Wn(e,"")}if(s.path==="")return s;throw gI(e)}static makeFromUrl(e,n){let s=null;const o="([A-Za-z0-9.\\-_]+)";function u(de){de.path.charAt(de.path.length-1)==="/"&&(de.path_=de.path_.slice(0,-1))}const f="(/(.*))?$",m=new RegExp("^gs://"+o+f,"i"),p={bucket:1,path:3};function g(de){de.path_=decodeURIComponent(de.path)}const _="v[A-Za-z0-9_]+",T=n.replace(/[.]/g,"\\."),R="(/([^?#]*).*)?$",U=new RegExp(`^https?://${T}/${_}/b/${o}/o${R}`,"i"),z={bucket:1,path:3},K=n===hw?"(?:storage.googleapis.com|storage.cloud.google.com)":n,N="([^?#]*)",X=new RegExp(`^https?://${K}/${o}/${N}`,"i"),re=[{regex:m,indices:p,postModify:u},{regex:U,indices:z,postModify:g},{regex:X,indices:{bucket:1,path:2},postModify:g}];for(let de=0;de<re.length;de++){const ae=re[de],oe=ae.regex.exec(e);if(oe){const D=oe[ae.indices.bucket];let S=oe[ae.indices.path];S||(S=""),s=new Wn(D,S),ae.postModify(s);break}}if(s==null)throw pI(e);return s}}class vI{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _I(r,e,n){let s=1,o=null,u=null,f=!1,m=0;function p(){return m===2}let g=!1;function _(...N){g||(g=!0,e.apply(null,N))}function T(N){o=setTimeout(()=>{o=null,r(U,p())},N)}function R(){u&&clearTimeout(u)}function U(N,...X){if(g){R();return}if(N){R(),_.call(null,N,...X);return}if(p()||f){R(),_.call(null,N,...X);return}s<64&&(s*=2);let re;m===1?(m=2,re=0):re=(s+Math.random())*1e3,T(re)}let z=!1;function K(N){z||(z=!0,R(),!g&&(o!==null?(N||(m=2),clearTimeout(o),T(0)):N||(m=1)))}return T(0),u=setTimeout(()=>{f=!0,K(!0)},n),K}function EI(r){r(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bI(r){return r!==void 0}function I0(r,e,n,s){if(s<e)throw C0(`Invalid value for '${r}'. Expected ${e} or greater.`);if(s>n)throw C0(`Invalid value for '${r}'. Expected ${n} or less.`)}function wI(r){const e=encodeURIComponent;let n="?";for(const s in r)if(r.hasOwnProperty(s)){const o=e(s)+"="+e(r[s]);n=n+o+"&"}return n=n.slice(0,-1),n}var Mh;(function(r){r[r.NO_ERROR=0]="NO_ERROR",r[r.NETWORK_ERROR=1]="NETWORK_ERROR",r[r.ABORT=2]="ABORT"})(Mh||(Mh={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TI(r,e){const n=r>=500&&r<600,o=[408,429].indexOf(r)!==-1,u=e.indexOf(r)!==-1;return n||o||u}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AI{constructor(e,n,s,o,u,f,m,p,g,_,T,R=!0,U=!1){this.url_=e,this.method_=n,this.headers_=s,this.body_=o,this.successCodes_=u,this.additionalRetryCodes_=f,this.callback_=m,this.errorCallback_=p,this.timeout_=g,this.progressCallback_=_,this.connectionFactory_=T,this.retry=R,this.isUsingEmulator=U,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((z,K)=>{this.resolve_=z,this.reject_=K,this.start_()})}start_(){const e=(s,o)=>{if(o){s(!1,new th(!1,null,!0));return}const u=this.connectionFactory_();this.pendingConnection_=u;const f=m=>{const p=m.loaded,g=m.lengthComputable?m.total:-1;this.progressCallback_!==null&&this.progressCallback_(p,g)};this.progressCallback_!==null&&u.addUploadProgressListener(f),u.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&u.removeUploadProgressListener(f),this.pendingConnection_=null;const m=u.getErrorCode()===Mh.NO_ERROR,p=u.getStatus();if(!m||TI(p,this.additionalRetryCodes_)&&this.retry){const _=u.getErrorCode()===Mh.ABORT;s(!1,new th(!1,null,_));return}const g=this.successCodes_.indexOf(p)!==-1;s(!0,new th(g,u))})},n=(s,o)=>{const u=this.resolve_,f=this.reject_,m=o.connection;if(o.wasSuccessCode)try{const p=this.callback_(m,m.getResponse());bI(p)?u(p):u()}catch(p){f(p)}else if(m!==null){const p=fI();p.serverResponse=m.getErrorText(),this.errorCallback_?f(this.errorCallback_(m,p)):f(p)}else if(o.canceled){const p=this.appDelete_?fw():mI();f(p)}else{const p=dI();f(p)}};this.canceled_?n(!1,new th(!1,null,!0)):this.backoffId_=_I(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&EI(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class th{constructor(e,n,s){this.wasSuccessCode=e,this.connection=n,this.canceled=!!s}}function SI(r,e){e!==null&&e.length>0&&(r.Authorization="Firebase "+e)}function RI(r,e){r["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function xI(r,e){e&&(r["X-Firebase-GMPID"]=e)}function CI(r,e){e!==null&&(r["X-Firebase-AppCheck"]=e)}function II(r,e,n,s,o,u,f=!0,m=!1){const p=wI(r.urlParams),g=r.url+p,_=Object.assign({},r.headers);return xI(_,e),SI(_,n),RI(_,u),CI(_,s),new AI(g,r.method,_,r.body,r.successCodes,r.additionalRetryCodes,r.handler,r.errorHandler,r.timeout,r.progressCallback,o,f,m)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NI(r){if(r.length===0)return null;const e=r.lastIndexOf("/");return e===-1?"":r.slice(0,e)}function OI(r){const e=r.lastIndexOf("/",r.length-2);return e===-1?r:r.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ph{constructor(e,n){this._service=e,n instanceof Wn?this._location=n:this._location=Wn.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Ph(e,n)}get root(){const e=new Wn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return OI(this._location.path)}get storage(){return this._service}get parent(){const e=NI(this._location.path);if(e===null)return null;const n=new Wn(this._location.bucket,e);return new Ph(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw yI(e)}}function N0(r,e){const n=e?.[uI];return n==null?null:Wn.makeFromBucketSpec(n,r)}function DI(r,e,n,s={}){r.host=`${e}:${n}`;const o=ia(e);o&&(Mp(`https://${r.host}/b`),Pp("Storage",!0)),r._isUsingEmulator=!0,r._protocol=o?"https":"http";const{mockUserToken:u}=s;u&&(r._overrideAuthToken=typeof u=="string"?u:Rb(u,r.app.options.projectId))}class kI{constructor(e,n,s,o,u,f=!1){this.app=e,this._authProvider=n,this._appCheckProvider=s,this._url=o,this._firebaseVersion=u,this._isUsingEmulator=f,this._bucket=null,this._host=hw,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=cI,this._maxUploadRetryTime=hI,this._requests=new Set,o!=null?this._bucket=Wn.makeFromBucketSpec(o,this._host):this._bucket=N0(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Wn.makeFromBucketSpec(this._url,e):this._bucket=N0(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){I0("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){I0("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(pn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Ph(this,e)}_makeRequest(e,n,s,o,u=!0){if(this._deleted)return new vI(fw());{const f=II(e,this._appId,s,o,n,this._firebaseVersion,u,this._isUsingEmulator);return this._requests.add(f),f.getPromise().then(()=>this._requests.delete(f),()=>this._requests.delete(f)),f}}async makeRequestWithTokens(e,n){const[s,o]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,s,o).getPromise()}}const O0="@firebase/storage",D0="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dw="storage";function MI(r=Up(),e){r=an(r);const s=Xh(r,dw).getImmediate({identifier:e}),o=Tb("storage");return o&&PI(s,...o),s}function PI(r,e,n,s={}){DI(r,e,n,s)}function VI(r,{instanceIdentifier:e}){const n=r.getProvider("app").getImmediate(),s=r.getProvider("auth-internal"),o=r.getProvider("app-check-internal");return new kI(n,s,o,e,sa)}function LI(){ea(new Zi(dw,VI,"PUBLIC").setMultipleInstances(!0)),Er(O0,D0,""),Er(O0,D0,"esm2020")}LI();var k0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Xi,mw;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(D,S){function x(){}x.prototype=S.prototype,D.D=S.prototype,D.prototype=new x,D.prototype.constructor=D,D.C=function(k,P,L){for(var I=Array(arguments.length-2),Pe=2;Pe<arguments.length;Pe++)I[Pe-2]=arguments[Pe];return S.prototype[P].apply(k,I)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,n),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(D,S,x){x||(x=0);var k=Array(16);if(typeof S=="string")for(var P=0;16>P;++P)k[P]=S.charCodeAt(x++)|S.charCodeAt(x++)<<8|S.charCodeAt(x++)<<16|S.charCodeAt(x++)<<24;else for(P=0;16>P;++P)k[P]=S[x++]|S[x++]<<8|S[x++]<<16|S[x++]<<24;S=D.g[0],x=D.g[1],P=D.g[2];var L=D.g[3],I=S+(L^x&(P^L))+k[0]+3614090360&4294967295;S=x+(I<<7&4294967295|I>>>25),I=L+(P^S&(x^P))+k[1]+3905402710&4294967295,L=S+(I<<12&4294967295|I>>>20),I=P+(x^L&(S^x))+k[2]+606105819&4294967295,P=L+(I<<17&4294967295|I>>>15),I=x+(S^P&(L^S))+k[3]+3250441966&4294967295,x=P+(I<<22&4294967295|I>>>10),I=S+(L^x&(P^L))+k[4]+4118548399&4294967295,S=x+(I<<7&4294967295|I>>>25),I=L+(P^S&(x^P))+k[5]+1200080426&4294967295,L=S+(I<<12&4294967295|I>>>20),I=P+(x^L&(S^x))+k[6]+2821735955&4294967295,P=L+(I<<17&4294967295|I>>>15),I=x+(S^P&(L^S))+k[7]+4249261313&4294967295,x=P+(I<<22&4294967295|I>>>10),I=S+(L^x&(P^L))+k[8]+1770035416&4294967295,S=x+(I<<7&4294967295|I>>>25),I=L+(P^S&(x^P))+k[9]+2336552879&4294967295,L=S+(I<<12&4294967295|I>>>20),I=P+(x^L&(S^x))+k[10]+4294925233&4294967295,P=L+(I<<17&4294967295|I>>>15),I=x+(S^P&(L^S))+k[11]+2304563134&4294967295,x=P+(I<<22&4294967295|I>>>10),I=S+(L^x&(P^L))+k[12]+1804603682&4294967295,S=x+(I<<7&4294967295|I>>>25),I=L+(P^S&(x^P))+k[13]+4254626195&4294967295,L=S+(I<<12&4294967295|I>>>20),I=P+(x^L&(S^x))+k[14]+2792965006&4294967295,P=L+(I<<17&4294967295|I>>>15),I=x+(S^P&(L^S))+k[15]+1236535329&4294967295,x=P+(I<<22&4294967295|I>>>10),I=S+(P^L&(x^P))+k[1]+4129170786&4294967295,S=x+(I<<5&4294967295|I>>>27),I=L+(x^P&(S^x))+k[6]+3225465664&4294967295,L=S+(I<<9&4294967295|I>>>23),I=P+(S^x&(L^S))+k[11]+643717713&4294967295,P=L+(I<<14&4294967295|I>>>18),I=x+(L^S&(P^L))+k[0]+3921069994&4294967295,x=P+(I<<20&4294967295|I>>>12),I=S+(P^L&(x^P))+k[5]+3593408605&4294967295,S=x+(I<<5&4294967295|I>>>27),I=L+(x^P&(S^x))+k[10]+38016083&4294967295,L=S+(I<<9&4294967295|I>>>23),I=P+(S^x&(L^S))+k[15]+3634488961&4294967295,P=L+(I<<14&4294967295|I>>>18),I=x+(L^S&(P^L))+k[4]+3889429448&4294967295,x=P+(I<<20&4294967295|I>>>12),I=S+(P^L&(x^P))+k[9]+568446438&4294967295,S=x+(I<<5&4294967295|I>>>27),I=L+(x^P&(S^x))+k[14]+3275163606&4294967295,L=S+(I<<9&4294967295|I>>>23),I=P+(S^x&(L^S))+k[3]+4107603335&4294967295,P=L+(I<<14&4294967295|I>>>18),I=x+(L^S&(P^L))+k[8]+1163531501&4294967295,x=P+(I<<20&4294967295|I>>>12),I=S+(P^L&(x^P))+k[13]+2850285829&4294967295,S=x+(I<<5&4294967295|I>>>27),I=L+(x^P&(S^x))+k[2]+4243563512&4294967295,L=S+(I<<9&4294967295|I>>>23),I=P+(S^x&(L^S))+k[7]+1735328473&4294967295,P=L+(I<<14&4294967295|I>>>18),I=x+(L^S&(P^L))+k[12]+2368359562&4294967295,x=P+(I<<20&4294967295|I>>>12),I=S+(x^P^L)+k[5]+4294588738&4294967295,S=x+(I<<4&4294967295|I>>>28),I=L+(S^x^P)+k[8]+2272392833&4294967295,L=S+(I<<11&4294967295|I>>>21),I=P+(L^S^x)+k[11]+1839030562&4294967295,P=L+(I<<16&4294967295|I>>>16),I=x+(P^L^S)+k[14]+4259657740&4294967295,x=P+(I<<23&4294967295|I>>>9),I=S+(x^P^L)+k[1]+2763975236&4294967295,S=x+(I<<4&4294967295|I>>>28),I=L+(S^x^P)+k[4]+1272893353&4294967295,L=S+(I<<11&4294967295|I>>>21),I=P+(L^S^x)+k[7]+4139469664&4294967295,P=L+(I<<16&4294967295|I>>>16),I=x+(P^L^S)+k[10]+3200236656&4294967295,x=P+(I<<23&4294967295|I>>>9),I=S+(x^P^L)+k[13]+681279174&4294967295,S=x+(I<<4&4294967295|I>>>28),I=L+(S^x^P)+k[0]+3936430074&4294967295,L=S+(I<<11&4294967295|I>>>21),I=P+(L^S^x)+k[3]+3572445317&4294967295,P=L+(I<<16&4294967295|I>>>16),I=x+(P^L^S)+k[6]+76029189&4294967295,x=P+(I<<23&4294967295|I>>>9),I=S+(x^P^L)+k[9]+3654602809&4294967295,S=x+(I<<4&4294967295|I>>>28),I=L+(S^x^P)+k[12]+3873151461&4294967295,L=S+(I<<11&4294967295|I>>>21),I=P+(L^S^x)+k[15]+530742520&4294967295,P=L+(I<<16&4294967295|I>>>16),I=x+(P^L^S)+k[2]+3299628645&4294967295,x=P+(I<<23&4294967295|I>>>9),I=S+(P^(x|~L))+k[0]+4096336452&4294967295,S=x+(I<<6&4294967295|I>>>26),I=L+(x^(S|~P))+k[7]+1126891415&4294967295,L=S+(I<<10&4294967295|I>>>22),I=P+(S^(L|~x))+k[14]+2878612391&4294967295,P=L+(I<<15&4294967295|I>>>17),I=x+(L^(P|~S))+k[5]+4237533241&4294967295,x=P+(I<<21&4294967295|I>>>11),I=S+(P^(x|~L))+k[12]+1700485571&4294967295,S=x+(I<<6&4294967295|I>>>26),I=L+(x^(S|~P))+k[3]+2399980690&4294967295,L=S+(I<<10&4294967295|I>>>22),I=P+(S^(L|~x))+k[10]+4293915773&4294967295,P=L+(I<<15&4294967295|I>>>17),I=x+(L^(P|~S))+k[1]+2240044497&4294967295,x=P+(I<<21&4294967295|I>>>11),I=S+(P^(x|~L))+k[8]+1873313359&4294967295,S=x+(I<<6&4294967295|I>>>26),I=L+(x^(S|~P))+k[15]+4264355552&4294967295,L=S+(I<<10&4294967295|I>>>22),I=P+(S^(L|~x))+k[6]+2734768916&4294967295,P=L+(I<<15&4294967295|I>>>17),I=x+(L^(P|~S))+k[13]+1309151649&4294967295,x=P+(I<<21&4294967295|I>>>11),I=S+(P^(x|~L))+k[4]+4149444226&4294967295,S=x+(I<<6&4294967295|I>>>26),I=L+(x^(S|~P))+k[11]+3174756917&4294967295,L=S+(I<<10&4294967295|I>>>22),I=P+(S^(L|~x))+k[2]+718787259&4294967295,P=L+(I<<15&4294967295|I>>>17),I=x+(L^(P|~S))+k[9]+3951481745&4294967295,D.g[0]=D.g[0]+S&4294967295,D.g[1]=D.g[1]+(P+(I<<21&4294967295|I>>>11))&4294967295,D.g[2]=D.g[2]+P&4294967295,D.g[3]=D.g[3]+L&4294967295}s.prototype.u=function(D,S){S===void 0&&(S=D.length);for(var x=S-this.blockSize,k=this.B,P=this.h,L=0;L<S;){if(P==0)for(;L<=x;)o(this,D,L),L+=this.blockSize;if(typeof D=="string"){for(;L<S;)if(k[P++]=D.charCodeAt(L++),P==this.blockSize){o(this,k),P=0;break}}else for(;L<S;)if(k[P++]=D[L++],P==this.blockSize){o(this,k),P=0;break}}this.h=P,this.o+=S},s.prototype.v=function(){var D=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);D[0]=128;for(var S=1;S<D.length-8;++S)D[S]=0;var x=8*this.o;for(S=D.length-8;S<D.length;++S)D[S]=x&255,x/=256;for(this.u(D),D=Array(16),S=x=0;4>S;++S)for(var k=0;32>k;k+=8)D[x++]=this.g[S]>>>k&255;return D};function u(D,S){var x=m;return Object.prototype.hasOwnProperty.call(x,D)?x[D]:x[D]=S(D)}function f(D,S){this.h=S;for(var x=[],k=!0,P=D.length-1;0<=P;P--){var L=D[P]|0;k&&L==S||(x[P]=L,k=!1)}this.g=x}var m={};function p(D){return-128<=D&&128>D?u(D,function(S){return new f([S|0],0>S?-1:0)}):new f([D|0],0>D?-1:0)}function g(D){if(isNaN(D)||!isFinite(D))return T;if(0>D)return N(g(-D));for(var S=[],x=1,k=0;D>=x;k++)S[k]=D/x|0,x*=4294967296;return new f(S,0)}function _(D,S){if(D.length==0)throw Error("number format error: empty string");if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(D.charAt(0)=="-")return N(_(D.substring(1),S));if(0<=D.indexOf("-"))throw Error('number format error: interior "-" character');for(var x=g(Math.pow(S,8)),k=T,P=0;P<D.length;P+=8){var L=Math.min(8,D.length-P),I=parseInt(D.substring(P,P+L),S);8>L?(L=g(Math.pow(S,L)),k=k.j(L).add(g(I))):(k=k.j(x),k=k.add(g(I)))}return k}var T=p(0),R=p(1),U=p(16777216);r=f.prototype,r.m=function(){if(K(this))return-N(this).m();for(var D=0,S=1,x=0;x<this.g.length;x++){var k=this.i(x);D+=(0<=k?k:4294967296+k)*S,S*=4294967296}return D},r.toString=function(D){if(D=D||10,2>D||36<D)throw Error("radix out of range: "+D);if(z(this))return"0";if(K(this))return"-"+N(this).toString(D);for(var S=g(Math.pow(D,6)),x=this,k="";;){var P=de(x,S).g;x=X(x,P.j(S));var L=((0<x.g.length?x.g[0]:x.h)>>>0).toString(D);if(x=P,z(x))return L+k;for(;6>L.length;)L="0"+L;k=L+k}},r.i=function(D){return 0>D?0:D<this.g.length?this.g[D]:this.h};function z(D){if(D.h!=0)return!1;for(var S=0;S<D.g.length;S++)if(D.g[S]!=0)return!1;return!0}function K(D){return D.h==-1}r.l=function(D){return D=X(this,D),K(D)?-1:z(D)?0:1};function N(D){for(var S=D.g.length,x=[],k=0;k<S;k++)x[k]=~D.g[k];return new f(x,~D.h).add(R)}r.abs=function(){return K(this)?N(this):this},r.add=function(D){for(var S=Math.max(this.g.length,D.g.length),x=[],k=0,P=0;P<=S;P++){var L=k+(this.i(P)&65535)+(D.i(P)&65535),I=(L>>>16)+(this.i(P)>>>16)+(D.i(P)>>>16);k=I>>>16,L&=65535,I&=65535,x[P]=I<<16|L}return new f(x,x[x.length-1]&-2147483648?-1:0)};function X(D,S){return D.add(N(S))}r.j=function(D){if(z(this)||z(D))return T;if(K(this))return K(D)?N(this).j(N(D)):N(N(this).j(D));if(K(D))return N(this.j(N(D)));if(0>this.l(U)&&0>D.l(U))return g(this.m()*D.m());for(var S=this.g.length+D.g.length,x=[],k=0;k<2*S;k++)x[k]=0;for(k=0;k<this.g.length;k++)for(var P=0;P<D.g.length;P++){var L=this.i(k)>>>16,I=this.i(k)&65535,Pe=D.i(P)>>>16,Ee=D.i(P)&65535;x[2*k+2*P]+=I*Ee,Q(x,2*k+2*P),x[2*k+2*P+1]+=L*Ee,Q(x,2*k+2*P+1),x[2*k+2*P+1]+=I*Pe,Q(x,2*k+2*P+1),x[2*k+2*P+2]+=L*Pe,Q(x,2*k+2*P+2)}for(k=0;k<S;k++)x[k]=x[2*k+1]<<16|x[2*k];for(k=S;k<2*S;k++)x[k]=0;return new f(x,0)};function Q(D,S){for(;(D[S]&65535)!=D[S];)D[S+1]+=D[S]>>>16,D[S]&=65535,S++}function re(D,S){this.g=D,this.h=S}function de(D,S){if(z(S))throw Error("division by zero");if(z(D))return new re(T,T);if(K(D))return S=de(N(D),S),new re(N(S.g),N(S.h));if(K(S))return S=de(D,N(S)),new re(N(S.g),S.h);if(30<D.g.length){if(K(D)||K(S))throw Error("slowDivide_ only works with positive integers.");for(var x=R,k=S;0>=k.l(D);)x=ae(x),k=ae(k);var P=oe(x,1),L=oe(k,1);for(k=oe(k,2),x=oe(x,2);!z(k);){var I=L.add(k);0>=I.l(D)&&(P=P.add(x),L=I),k=oe(k,1),x=oe(x,1)}return S=X(D,P.j(S)),new re(P,S)}for(P=T;0<=D.l(S);){for(x=Math.max(1,Math.floor(D.m()/S.m())),k=Math.ceil(Math.log(x)/Math.LN2),k=48>=k?1:Math.pow(2,k-48),L=g(x),I=L.j(S);K(I)||0<I.l(D);)x-=k,L=g(x),I=L.j(S);z(L)&&(L=R),P=P.add(L),D=X(D,I)}return new re(P,D)}r.A=function(D){return de(this,D).h},r.and=function(D){for(var S=Math.max(this.g.length,D.g.length),x=[],k=0;k<S;k++)x[k]=this.i(k)&D.i(k);return new f(x,this.h&D.h)},r.or=function(D){for(var S=Math.max(this.g.length,D.g.length),x=[],k=0;k<S;k++)x[k]=this.i(k)|D.i(k);return new f(x,this.h|D.h)},r.xor=function(D){for(var S=Math.max(this.g.length,D.g.length),x=[],k=0;k<S;k++)x[k]=this.i(k)^D.i(k);return new f(x,this.h^D.h)};function ae(D){for(var S=D.g.length+1,x=[],k=0;k<S;k++)x[k]=D.i(k)<<1|D.i(k-1)>>>31;return new f(x,D.h)}function oe(D,S){var x=S>>5;S%=32;for(var k=D.g.length-x,P=[],L=0;L<k;L++)P[L]=0<S?D.i(L+x)>>>S|D.i(L+x+1)<<32-S:D.i(L+x);return new f(P,D.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,mw=s,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.A,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=g,f.fromString=_,Xi=f}).apply(typeof k0<"u"?k0:typeof self<"u"?self:typeof window<"u"?window:{});var nh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var pw,Ql,gw,vh,np,yw,vw,_w;(function(){var r,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,y,v){return c==Array.prototype||c==Object.prototype||(c[y]=v.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof nh=="object"&&nh];for(var y=0;y<c.length;++y){var v=c[y];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var s=n(this);function o(c,y){if(y)e:{var v=s;c=c.split(".");for(var A=0;A<c.length-1;A++){var B=c[A];if(!(B in v))break e;v=v[B]}c=c[c.length-1],A=v[c],y=y(A),y!=A&&y!=null&&e(v,c,{configurable:!0,writable:!0,value:y})}}function u(c,y){c instanceof String&&(c+="");var v=0,A=!1,B={next:function(){if(!A&&v<c.length){var Y=v++;return{value:y(Y,c[Y]),done:!1}}return A=!0,{done:!0,value:void 0}}};return B[Symbol.iterator]=function(){return B},B}o("Array.prototype.values",function(c){return c||function(){return u(this,function(y,v){return v})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var f=f||{},m=this||self;function p(c){var y=typeof c;return y=y!="object"?y:c?Array.isArray(c)?"array":y:"null",y=="array"||y=="object"&&typeof c.length=="number"}function g(c){var y=typeof c;return y=="object"&&c!=null||y=="function"}function _(c,y,v){return c.call.apply(c.bind,arguments)}function T(c,y,v){if(!c)throw Error();if(2<arguments.length){var A=Array.prototype.slice.call(arguments,2);return function(){var B=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(B,A),c.apply(y,B)}}return function(){return c.apply(y,arguments)}}function R(c,y,v){return R=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?_:T,R.apply(null,arguments)}function U(c,y){var v=Array.prototype.slice.call(arguments,1);return function(){var A=v.slice();return A.push.apply(A,arguments),c.apply(this,A)}}function z(c,y){function v(){}v.prototype=y.prototype,c.aa=y.prototype,c.prototype=new v,c.prototype.constructor=c,c.Qb=function(A,B,Y){for(var he=Array(arguments.length-2),Be=2;Be<arguments.length;Be++)he[Be-2]=arguments[Be];return y.prototype[B].apply(A,he)}}function K(c){const y=c.length;if(0<y){const v=Array(y);for(let A=0;A<y;A++)v[A]=c[A];return v}return[]}function N(c,y){for(let v=1;v<arguments.length;v++){const A=arguments[v];if(p(A)){const B=c.length||0,Y=A.length||0;c.length=B+Y;for(let he=0;he<Y;he++)c[B+he]=A[he]}else c.push(A)}}class X{constructor(y,v){this.i=y,this.j=v,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function Q(c){return/^[\s\xa0]*$/.test(c)}function re(){var c=m.navigator;return c&&(c=c.userAgent)?c:""}function de(c){return de[" "](c),c}de[" "]=function(){};var ae=re().indexOf("Gecko")!=-1&&!(re().toLowerCase().indexOf("webkit")!=-1&&re().indexOf("Edge")==-1)&&!(re().indexOf("Trident")!=-1||re().indexOf("MSIE")!=-1)&&re().indexOf("Edge")==-1;function oe(c,y,v){for(const A in c)y.call(v,c[A],A,c)}function D(c,y){for(const v in c)y.call(void 0,c[v],v,c)}function S(c){const y={};for(const v in c)y[v]=c[v];return y}const x="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function k(c,y){let v,A;for(let B=1;B<arguments.length;B++){A=arguments[B];for(v in A)c[v]=A[v];for(let Y=0;Y<x.length;Y++)v=x[Y],Object.prototype.hasOwnProperty.call(A,v)&&(c[v]=A[v])}}function P(c){var y=1;c=c.split(":");const v=[];for(;0<y&&c.length;)v.push(c.shift()),y--;return c.length&&v.push(c.join(":")),v}function L(c){m.setTimeout(()=>{throw c},0)}function I(){var c=Oe;let y=null;return c.g&&(y=c.g,c.g=c.g.next,c.g||(c.h=null),y.next=null),y}class Pe{constructor(){this.h=this.g=null}add(y,v){const A=Ee.get();A.set(y,v),this.h?this.h.next=A:this.g=A,this.h=A}}var Ee=new X(()=>new F,c=>c.reset());class F{constructor(){this.next=this.g=this.h=null}set(y,v){this.h=y,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let ce,se=!1,Oe=new Pe,M=()=>{const c=m.Promise.resolve(void 0);ce=()=>{c.then(Z)}};var Z=()=>{for(var c;c=I();){try{c.h.call(c.g)}catch(v){L(v)}var y=Ee;y.j(c),100>y.h&&(y.h++,c.next=y.g,y.g=c)}se=!1};function le(){this.s=this.s,this.C=this.C}le.prototype.s=!1,le.prototype.ma=function(){this.s||(this.s=!0,this.N())},le.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ne(c,y){this.type=c,this.g=this.target=y,this.defaultPrevented=!1}ne.prototype.h=function(){this.defaultPrevented=!0};var W=(function(){if(!m.addEventListener||!Object.defineProperty)return!1;var c=!1,y=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const v=()=>{};m.addEventListener("test",v,y),m.removeEventListener("test",v,y)}catch{}return c})();function me(c,y){if(ne.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var v=this.type=c.type,A=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=y,y=c.relatedTarget){if(ae){e:{try{de(y.nodeName);var B=!0;break e}catch{}B=!1}B||(y=null)}}else v=="mouseover"?y=c.fromElement:v=="mouseout"&&(y=c.toElement);this.relatedTarget=y,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:fe[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&me.aa.h.call(this)}}z(me,ne);var fe={2:"touch",3:"pen",4:"mouse"};me.prototype.h=function(){me.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var we="closure_listenable_"+(1e6*Math.random()|0),De=0;function Ye(c,y,v,A,B){this.listener=c,this.proxy=null,this.src=y,this.type=v,this.capture=!!A,this.ha=B,this.key=++De,this.da=this.fa=!1}function qt(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function gn(c){this.src=c,this.g={},this.h=0}gn.prototype.add=function(c,y,v,A,B){var Y=c.toString();c=this.g[Y],c||(c=this.g[Y]=[],this.h++);var he=cs(c,y,A,B);return-1<he?(y=c[he],v||(y.fa=!1)):(y=new Ye(y,this.src,Y,!!A,B),y.fa=v,c.push(y)),y};function xn(c,y){var v=y.type;if(v in c.g){var A=c.g[v],B=Array.prototype.indexOf.call(A,y,void 0),Y;(Y=0<=B)&&Array.prototype.splice.call(A,B,1),Y&&(qt(y),c.g[v].length==0&&(delete c.g[v],c.h--))}}function cs(c,y,v,A){for(var B=0;B<c.length;++B){var Y=c[B];if(!Y.da&&Y.listener==y&&Y.capture==!!v&&Y.ha==A)return B}return-1}var hs="closure_lm_"+(1e6*Math.random()|0),Mo={};function Iu(c,y,v,A,B){if(Array.isArray(y)){for(var Y=0;Y<y.length;Y++)Iu(c,y[Y],v,A,B);return null}return v=Nu(v),c&&c[we]?c.K(y,v,g(A)?!!A.capture:!1,B):Cn(c,y,v,!1,A,B)}function Cn(c,y,v,A,B,Y){if(!y)throw Error("Invalid event type");var he=g(B)?!!B.capture:!!B,Be=la(c);if(Be||(c[hs]=Be=new gn(c)),v=Be.add(y,v,A,he,Y),v.proxy)return v;if(A=yf(),v.proxy=A,A.src=c,A.listener=v,c.addEventListener)W||(B=he),B===void 0&&(B=!1),c.addEventListener(y.toString(),A,B);else if(c.attachEvent)c.attachEvent(fs(y.toString()),A);else if(c.addListener&&c.removeListener)c.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return v}function yf(){function c(v){return y.call(c.src,c.listener,v)}const y=vf;return c}function Po(c,y,v,A,B){if(Array.isArray(y))for(var Y=0;Y<y.length;Y++)Po(c,y[Y],v,A,B);else A=g(A)?!!A.capture:!!A,v=Nu(v),c&&c[we]?(c=c.i,y=String(y).toString(),y in c.g&&(Y=c.g[y],v=cs(Y,v,A,B),-1<v&&(qt(Y[v]),Array.prototype.splice.call(Y,v,1),Y.length==0&&(delete c.g[y],c.h--)))):c&&(c=la(c))&&(y=c.g[y.toString()],c=-1,y&&(c=cs(y,v,A,B)),(v=-1<c?y[c]:null)&&oa(v))}function oa(c){if(typeof c!="number"&&c&&!c.da){var y=c.src;if(y&&y[we])xn(y.i,c);else{var v=c.type,A=c.proxy;y.removeEventListener?y.removeEventListener(v,A,c.capture):y.detachEvent?y.detachEvent(fs(v),A):y.addListener&&y.removeListener&&y.removeListener(A),(v=la(y))?(xn(v,c),v.h==0&&(v.src=null,y[hs]=null)):qt(c)}}}function fs(c){return c in Mo?Mo[c]:Mo[c]="on"+c}function vf(c,y){if(c.da)c=!0;else{y=new me(y,this);var v=c.listener,A=c.ha||c.src;c.fa&&oa(c),c=v.call(A,y)}return c}function la(c){return c=c[hs],c instanceof gn?c:null}var Vo="__closure_events_fn_"+(1e9*Math.random()>>>0);function Nu(c){return typeof c=="function"?c:(c[Vo]||(c[Vo]=function(y){return c.handleEvent(y)}),c[Vo])}function dt(){le.call(this),this.i=new gn(this),this.M=this,this.F=null}z(dt,le),dt.prototype[we]=!0,dt.prototype.removeEventListener=function(c,y,v,A){Po(this,c,y,v,A)};function We(c,y){var v,A=c.F;if(A)for(v=[];A;A=A.F)v.push(A);if(c=c.M,A=y.type||y,typeof y=="string")y=new ne(y,c);else if(y instanceof ne)y.target=y.target||c;else{var B=y;y=new ne(A,c),k(y,B)}if(B=!0,v)for(var Y=v.length-1;0<=Y;Y--){var he=y.g=v[Y];B=yn(he,A,!0,y)&&B}if(he=y.g=c,B=yn(he,A,!0,y)&&B,B=yn(he,A,!1,y)&&B,v)for(Y=0;Y<v.length;Y++)he=y.g=v[Y],B=yn(he,A,!1,y)&&B}dt.prototype.N=function(){if(dt.aa.N.call(this),this.i){var c=this.i,y;for(y in c.g){for(var v=c.g[y],A=0;A<v.length;A++)qt(v[A]);delete c.g[y],c.h--}}this.F=null},dt.prototype.K=function(c,y,v,A){return this.i.add(String(c),y,!1,v,A)},dt.prototype.L=function(c,y,v,A){return this.i.add(String(c),y,!0,v,A)};function yn(c,y,v,A){if(y=c.i.g[String(y)],!y)return!0;y=y.concat();for(var B=!0,Y=0;Y<y.length;++Y){var he=y[Y];if(he&&!he.da&&he.capture==v){var Be=he.listener,Nt=he.ha||he.src;he.fa&&xn(c.i,he),B=Be.call(Nt,A)!==!1&&B}}return B&&!A.defaultPrevented}function Xt(c,y,v){if(typeof c=="function")v&&(c=R(c,v));else if(c&&typeof c.handleEvent=="function")c=R(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:m.setTimeout(c,y||0)}function Ou(c){c.g=Xt(()=>{c.g=null,c.i&&(c.i=!1,Ou(c))},c.l);const y=c.h;c.h=null,c.m.apply(null,y)}class _f extends le{constructor(y,v){super(),this.m=y,this.l=v,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:Ou(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ds(c){le.call(this),this.h=c,this.g={}}z(ds,le);var ms=[];function ps(c){oe(c.g,function(y,v){this.g.hasOwnProperty(v)&&oa(y)},c),c.g={}}ds.prototype.N=function(){ds.aa.N.call(this),ps(this)},ds.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Hn=m.JSON.stringify,ua=m.JSON.parse,gs=class{stringify(c){return m.JSON.stringify(c,void 0)}parse(c){return m.JSON.parse(c,void 0)}};function Lo(){}Lo.prototype.h=null;function Uo(c){return c.h||(c.h=c.i())}function jo(){}var Nr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Or(){ne.call(this,"d")}z(Or,ne);function zo(){ne.call(this,"c")}z(zo,ne);var nr={},Bo=null;function fi(){return Bo=Bo||new dt}nr.La="serverreachability";function ca(c){ne.call(this,nr.La,c)}z(ca,ne);function di(c){const y=fi();We(y,new ca(y))}nr.STAT_EVENT="statevent";function Du(c,y){ne.call(this,nr.STAT_EVENT,c),this.stat=y}z(Du,ne);function at(c){const y=fi();We(y,new Du(y,c))}nr.Ma="timingevent";function It(c,y){ne.call(this,nr.Ma,c),this.size=y}z(It,ne);function wt(c,y){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){c()},y)}function In(){this.g=!0}In.prototype.xa=function(){this.g=!1};function qo(c,y,v,A,B,Y){c.info(function(){if(c.g)if(Y)for(var he="",Be=Y.split("&"),Nt=0;Nt<Be.length;Nt++){var qe=Be[Nt].split("=");if(1<qe.length){var Lt=qe[0];qe=qe[1];var Ot=Lt.split("_");he=2<=Ot.length&&Ot[1]=="type"?he+(Lt+"="+qe+"&"):he+(Lt+"=redacted&")}}else he=null;else he=Y;return"XMLHTTP REQ ("+A+") [attempt "+B+"]: "+y+`
`+v+`
`+he})}function Ef(c,y,v,A,B,Y,he){c.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+B+"]: "+y+`
`+v+`
`+Y+" "+he})}function mi(c,y,v,A){c.info(function(){return"XMLHTTP TEXT ("+y+"): "+ys(c,v)+(A?" "+A:"")})}function ku(c,y){c.info(function(){return"TIMEOUT: "+y})}In.prototype.info=function(){};function ys(c,y){if(!c.g)return y;if(!y)return null;try{var v=JSON.parse(y);if(v){for(c=0;c<v.length;c++)if(Array.isArray(v[c])){var A=v[c];if(!(2>A.length)){var B=A[1];if(Array.isArray(B)&&!(1>B.length)){var Y=B[0];if(Y!="noop"&&Y!="stop"&&Y!="close")for(var he=1;he<B.length;he++)B[he]=""}}}}return Hn(v)}catch{return y}}var pi={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Dr={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},rr;function ir(){}z(ir,Lo),ir.prototype.g=function(){return new XMLHttpRequest},ir.prototype.i=function(){return{}},rr=new ir;function on(c,y,v,A){this.j=c,this.i=y,this.l=v,this.R=A||1,this.U=new ds(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new yt}function yt(){this.i=null,this.g="",this.h=!1}var Ho={},ha={};function Fn(c,y,v){c.L=1,c.v=ws(vn(y)),c.m=v,c.P=!0,kr(c,null)}function kr(c,y){c.F=Date.now(),vs(c),c.A=vn(c.v);var v=c.A,A=c.R;Array.isArray(A)||(A=[String(A)]),Qo(v.i,"t",A),c.C=0,v=c.j.J,c.h=new yt,c.g=Qu(c.j,v?y:null,!c.m),0<c.O&&(c.M=new _f(R(c.Y,c,c.g),c.O)),y=c.U,v=c.g,A=c.ca;var B="readystatechange";Array.isArray(B)||(B&&(ms[0]=B.toString()),B=ms);for(var Y=0;Y<B.length;Y++){var he=Iu(v,B[Y],A||y.handleEvent,!1,y.h||y);if(!he)break;y.g[he.key]=he}y=c.H?S(c.H):{},c.m?(c.u||(c.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,y)):(c.u="GET",c.g.ea(c.A,c.u,null,y)),di(),qo(c.i,c.u,c.A,c.l,c.R,c.m)}on.prototype.ca=function(c){c=c.target;const y=this.M;y&&kn(c)==3?y.j():this.Y(c)},on.prototype.Y=function(c){try{if(c==this.g)e:{const Ot=kn(this.g);var y=this.g.Ba();const Br=this.g.Z();if(!(3>Ot)&&(Ot!=3||this.g&&(this.h.h||this.g.oa()||Bu(this.g)))){this.J||Ot!=4||y==7||(y==8||0>=Br?di(3):di(2)),gi(this);var v=this.g.Z();this.X=v;t:if(Mu(this)){var A=Bu(this.g);c="";var B=A.length,Y=kn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ht(this),sr(this);var he="";break t}this.h.i=new m.TextDecoder}for(y=0;y<B;y++)this.h.h=!0,c+=this.h.i.decode(A[y],{stream:!(Y&&y==B-1)});A.length=0,this.h.g+=c,this.C=0,he=this.h.g}else he=this.g.oa();if(this.o=v==200,Ef(this.i,this.u,this.A,this.l,this.R,Ot,v),this.o){if(this.T&&!this.K){t:{if(this.g){var Be,Nt=this.g;if((Be=Nt.g?Nt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Q(Be)){var qe=Be;break t}}qe=null}if(v=qe)mi(this.i,this.l,v,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,_s(this,v);else{this.o=!1,this.s=3,at(12),Ht(this),sr(this);break e}}if(this.P){v=!0;let Ft;for(;!this.J&&this.C<he.length;)if(Ft=Pu(this,he),Ft==ha){Ot==4&&(this.s=4,at(14),v=!1),mi(this.i,this.l,null,"[Incomplete Response]");break}else if(Ft==Ho){this.s=4,at(15),mi(this.i,this.l,he,"[Invalid Chunk]"),v=!1;break}else mi(this.i,this.l,Ft,null),_s(this,Ft);if(Mu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ot!=4||he.length!=0||this.h.h||(this.s=1,at(16),v=!1),this.o=this.o&&v,!v)mi(this.i,this.l,he,"[Invalid Chunked Response]"),Ht(this),sr(this);else if(0<he.length&&!this.W){this.W=!0;var Lt=this.j;Lt.g==this&&Lt.ba&&!Lt.M&&(Lt.j.info("Great, no buffering proxy detected. Bytes received: "+he.length),Ns(Lt),Lt.M=!0,at(11))}}else mi(this.i,this.l,he,null),_s(this,he);Ot==4&&Ht(this),this.o&&!this.J&&(Ot==4?$u(this.j,this):(this.o=!1,vs(this)))}else Sf(this.g),v==400&&0<he.indexOf("Unknown SID")?(this.s=3,at(12)):(this.s=0,at(13)),Ht(this),sr(this)}}}catch{}finally{}};function Mu(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function Pu(c,y){var v=c.C,A=y.indexOf(`
`,v);return A==-1?ha:(v=Number(y.substring(v,A)),isNaN(v)?Ho:(A+=1,A+v>y.length?ha:(y=y.slice(A,A+v),c.C=A+v,y)))}on.prototype.cancel=function(){this.J=!0,Ht(this)};function vs(c){c.S=Date.now()+c.I,Vu(c,c.I)}function Vu(c,y){if(c.B!=null)throw Error("WatchDog timer not null");c.B=wt(R(c.ba,c),y)}function gi(c){c.B&&(m.clearTimeout(c.B),c.B=null)}on.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(ku(this.i,this.A),this.L!=2&&(di(),at(17)),Ht(this),this.s=2,sr(this)):Vu(this,this.S-c)};function sr(c){c.j.G==0||c.J||$u(c.j,c)}function Ht(c){gi(c);var y=c.M;y&&typeof y.ma=="function"&&y.ma(),c.M=null,ps(c.U),c.g&&(y=c.g,c.g=null,y.abort(),y.ma())}function _s(c,y){try{var v=c.j;if(v.G!=0&&(v.g==c||Fo(v.h,c))){if(!c.K&&Fo(v.h,c)&&v.G==3){try{var A=v.Da.g.parse(y)}catch{A=null}if(Array.isArray(A)&&A.length==3){var B=A;if(B[0]==0){e:if(!v.u){if(v.g)if(v.g.F+3e3<c.F)Ta(v),ba(v);else break e;el(v),at(18)}}else v.za=B[1],0<v.za-v.T&&37500>B[2]&&v.F&&v.v==0&&!v.C&&(v.C=wt(R(v.Za,v),6e3));if(1>=da(v.h)&&v.ca){try{v.ca()}catch{}v.ca=void 0}}else zr(v,11)}else if((c.K||v.g==c)&&Ta(v),!Q(y))for(B=v.Da.g.parse(y),y=0;y<B.length;y++){let qe=B[y];if(v.T=qe[0],qe=qe[1],v.G==2)if(qe[0]=="c"){v.K=qe[1],v.ia=qe[2];const Lt=qe[3];Lt!=null&&(v.la=Lt,v.j.info("VER="+v.la));const Ot=qe[4];Ot!=null&&(v.Aa=Ot,v.j.info("SVER="+v.Aa));const Br=qe[5];Br!=null&&typeof Br=="number"&&0<Br&&(A=1.5*Br,v.L=A,v.j.info("backChannelRequestTimeoutMs_="+A)),A=v;const Ft=c.g;if(Ft){const fr=Ft.g?Ft.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(fr){var Y=A.h;Y.g||fr.indexOf("spdy")==-1&&fr.indexOf("quic")==-1&&fr.indexOf("h2")==-1||(Y.j=Y.l,Y.g=new Set,Y.h&&(ma(Y,Y.h),Y.h=null))}if(A.D){const nl=Ft.g?Ft.g.getResponseHeader("X-HTTP-Session-Id"):null;nl&&(A.ya=nl,et(A.I,A.D,nl))}}v.G=3,v.l&&v.l.ua(),v.ba&&(v.R=Date.now()-c.F,v.j.info("Handshake RTT: "+v.R+"ms")),A=v;var he=c;if(A.qa=Yu(A,A.J?A.ia:null,A.W),he.K){ln(A.h,he);var Be=he,Nt=A.L;Nt&&(Be.I=Nt),Be.B&&(gi(Be),vs(Be)),A.g=he}else Fu(A);0<v.i.length&&wa(v)}else qe[0]!="stop"&&qe[0]!="close"||zr(v,7);else v.G==3&&(qe[0]=="stop"||qe[0]=="close"?qe[0]=="stop"?zr(v,7):Zo(v):qe[0]!="noop"&&v.l&&v.l.ta(qe),v.v=0)}}di(4)}catch{}}var Lu=class{constructor(c,y){this.g=c,this.map=y}};function Mr(c){this.l=c||10,m.PerformanceNavigationTiming?(c=m.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function fa(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function da(c){return c.h?1:c.g?c.g.size:0}function Fo(c,y){return c.h?c.h==y:c.g?c.g.has(y):!1}function ma(c,y){c.g?c.g.add(y):c.h=y}function ln(c,y){c.h&&c.h==y?c.h=null:c.g&&c.g.has(y)&&c.g.delete(y)}Mr.prototype.cancel=function(){if(this.i=Go(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Go(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let y=c.i;for(const v of c.g.values())y=y.concat(v.D);return y}return K(c.i)}function bf(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(p(c)){for(var y=[],v=c.length,A=0;A<v;A++)y.push(c[A]);return y}y=[],v=0;for(A in c)y[v++]=c[A];return y}function pa(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(p(c)||typeof c=="string"){var y=[];c=c.length;for(var v=0;v<c;v++)y.push(v);return y}y=[],v=0;for(const A in c)y[v++]=A;return y}}}function $o(c,y){if(c.forEach&&typeof c.forEach=="function")c.forEach(y,void 0);else if(p(c)||typeof c=="string")Array.prototype.forEach.call(c,y,void 0);else for(var v=pa(c),A=bf(c),B=A.length,Y=0;Y<B;Y++)y.call(void 0,A[Y],v&&v[Y],c)}var Es=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function wf(c,y){if(c){c=c.split("&");for(var v=0;v<c.length;v++){var A=c[v].indexOf("="),B=null;if(0<=A){var Y=c[v].substring(0,A);B=c[v].substring(A+1)}else Y=c[v];y(Y,B?decodeURIComponent(B.replace(/\+/g," ")):"")}}}function Tt(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Tt){this.h=c.h,bs(this,c.j),this.o=c.o,this.g=c.g,yi(this,c.s),this.l=c.l;var y=c.i,v=new Vr;v.i=y.i,y.g&&(v.g=new Map(y.g),v.h=y.h),Pr(this,v),this.m=c.m}else c&&(y=String(c).match(Es))?(this.h=!1,bs(this,y[1]||"",!0),this.o=Nn(y[2]||""),this.g=Nn(y[3]||"",!0),yi(this,y[4]),this.l=Nn(y[5]||"",!0),Pr(this,y[6]||"",!0),this.m=Nn(y[7]||"")):(this.h=!1,this.i=new Vr(null,this.h))}Tt.prototype.toString=function(){var c=[],y=this.j;y&&c.push(Ts(y,Ko,!0),":");var v=this.g;return(v||y=="file")&&(c.push("//"),(y=this.o)&&c.push(Ts(y,Ko,!0),"@"),c.push(encodeURIComponent(String(v)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.s,v!=null&&c.push(":",String(v))),(v=this.l)&&(this.g&&v.charAt(0)!="/"&&c.push("/"),c.push(Ts(v,v.charAt(0)=="/"?Tf:Yo,!0))),(v=this.i.toString())&&c.push("?",v),(v=this.m)&&c.push("#",Ts(v,ga)),c.join("")};function vn(c){return new Tt(c)}function bs(c,y,v){c.j=v?Nn(y,!0):y,c.j&&(c.j=c.j.replace(/:$/,""))}function yi(c,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);c.s=y}else c.s=null}function Pr(c,y,v){y instanceof Vr?(c.i=y,ju(c.i,c.h)):(v||(y=Ts(y,Af)),c.i=new Vr(y,c.h))}function et(c,y,v){c.i.set(y,v)}function ws(c){return et(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Nn(c,y){return c?y?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Ts(c,y,v){return typeof c=="string"?(c=encodeURI(c).replace(y,Uu),v&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function Uu(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Ko=/[#\/\?@]/g,Yo=/[#\?:]/g,Tf=/[#\?]/g,Af=/[#\?@]/g,ga=/#/g;function Vr(c,y){this.h=this.g=null,this.i=c||null,this.j=!!y}function On(c){c.g||(c.g=new Map,c.h=0,c.i&&wf(c.i,function(y,v){c.add(decodeURIComponent(y.replace(/\+/g," ")),v)}))}r=Vr.prototype,r.add=function(c,y){On(this),this.i=null,c=ar(this,c);var v=this.g.get(c);return v||this.g.set(c,v=[]),v.push(y),this.h+=1,this};function Lr(c,y){On(c),y=ar(c,y),c.g.has(y)&&(c.i=null,c.h-=c.g.get(y).length,c.g.delete(y))}function Ur(c,y){return On(c),y=ar(c,y),c.g.has(y)}r.forEach=function(c,y){On(this),this.g.forEach(function(v,A){v.forEach(function(B){c.call(y,B,A,this)},this)},this)},r.na=function(){On(this);const c=Array.from(this.g.values()),y=Array.from(this.g.keys()),v=[];for(let A=0;A<y.length;A++){const B=c[A];for(let Y=0;Y<B.length;Y++)v.push(y[A])}return v},r.V=function(c){On(this);let y=[];if(typeof c=="string")Ur(this,c)&&(y=y.concat(this.g.get(ar(this,c))));else{c=Array.from(this.g.values());for(let v=0;v<c.length;v++)y=y.concat(c[v])}return y},r.set=function(c,y){return On(this),this.i=null,c=ar(this,c),Ur(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[y]),this.h+=1,this},r.get=function(c,y){return c?(c=this.V(c),0<c.length?String(c[0]):y):y};function Qo(c,y,v){Lr(c,y),0<v.length&&(c.i=null,c.g.set(ar(c,y),K(v)),c.h+=v.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],y=Array.from(this.g.keys());for(var v=0;v<y.length;v++){var A=y[v];const Y=encodeURIComponent(String(A)),he=this.V(A);for(A=0;A<he.length;A++){var B=Y;he[A]!==""&&(B+="="+encodeURIComponent(String(he[A]))),c.push(B)}}return this.i=c.join("&")};function ar(c,y){return y=String(y),c.j&&(y=y.toLowerCase()),y}function ju(c,y){y&&!c.j&&(On(c),c.i=null,c.g.forEach(function(v,A){var B=A.toLowerCase();A!=B&&(Lr(this,A),Qo(this,B,v))},c)),c.j=y}function As(c,y){const v=new In;if(m.Image){const A=new Image;A.onload=U(Dn,v,"TestLoadImage: loaded",!0,y,A),A.onerror=U(Dn,v,"TestLoadImage: error",!1,y,A),A.onabort=U(Dn,v,"TestLoadImage: abort",!1,y,A),A.ontimeout=U(Dn,v,"TestLoadImage: timeout",!1,y,A),m.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=c}else y(!1)}function Gn(c,y){const v=new In,A=new AbortController,B=setTimeout(()=>{A.abort(),Dn(v,"TestPingServer: timeout",!1,y)},1e4);fetch(c,{signal:A.signal}).then(Y=>{clearTimeout(B),Y.ok?Dn(v,"TestPingServer: ok",!0,y):Dn(v,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(B),Dn(v,"TestPingServer: error",!1,y)})}function Dn(c,y,v,A,B){try{B&&(B.onload=null,B.onerror=null,B.onabort=null,B.ontimeout=null),A(v)}catch{}}function Ss(){this.g=new gs}function or(c,y,v){const A=v||"";try{$o(c,function(B,Y){let he=B;g(B)&&(he=Hn(B)),y.push(A+Y+"="+encodeURIComponent(he))})}catch(B){throw y.push(A+"type="+encodeURIComponent("_badmap")),B}}function vi(c){this.l=c.Ub||null,this.j=c.eb||!1}z(vi,Lo),vi.prototype.g=function(){return new jr(this.l,this.j)},vi.prototype.i=(function(c){return function(){return c}})({});function jr(c,y){dt.call(this),this.D=c,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}z(jr,dt),r=jr.prototype,r.open=function(c,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=y,this.readyState=1,ur(this)},r.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(y.body=c),(this.D||m).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,lr(this)),this.readyState=0},r.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,ur(this)),this.g&&(this.readyState=3,ur(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Xo(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function Xo(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}r.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var y=c.value?c.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!c.done}))&&(this.response=this.responseText+=y)}c.done?lr(this):ur(this),this.readyState==3&&Xo(this)}},r.Ra=function(c){this.g&&(this.response=this.responseText=c,lr(this))},r.Qa=function(c){this.g&&(this.response=c,lr(this))},r.ga=function(){this.g&&lr(this)};function lr(c){c.readyState=4,c.l=null,c.j=null,c.v=null,ur(c)}r.setRequestHeader=function(c,y){this.u.append(c,y)},r.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],y=this.h.entries();for(var v=y.next();!v.done;)v=v.value,c.push(v[0]+": "+v[1]),v=y.next();return c.join(`\r
`)};function ur(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(jr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Wo(c){let y="";return oe(c,function(v,A){y+=A,y+=":",y+=v,y+=`\r
`}),y}function Vt(c,y,v){e:{for(A in v){var A=!1;break e}A=!0}A||(v=Wo(v),typeof c=="string"?v!=null&&encodeURIComponent(String(v)):et(c,y,v))}function Xe(c){dt.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}z(Xe,dt);var ya=/^https?$/i,Rs=["POST","PUT"];r=Xe.prototype,r.Ha=function(c){this.J=c},r.ea=function(c,y,v,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);y=y?y.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():rr.g(),this.v=this.o?Uo(this.o):Uo(rr),this.g.onreadystatechange=R(this.Ea,this);try{this.B=!0,this.g.open(y,String(c),!0),this.B=!1}catch(Y){zu(this,Y);return}if(c=v||"",v=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var B in A)v.set(B,A[B]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const Y of A.keys())v.set(Y,A.get(Y));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(v.keys()).find(Y=>Y.toLowerCase()=="content-type"),B=m.FormData&&c instanceof m.FormData,!(0<=Array.prototype.indexOf.call(Rs,y,void 0))||A||B||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Y,he]of v)this.g.setRequestHeader(Y,he);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{xs(this),this.u=!0,this.g.send(c),this.u=!1}catch(Y){zu(this,Y)}};function zu(c,y){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=y,c.m=5,va(c),cr(c)}function va(c){c.A||(c.A=!0,We(c,"complete"),We(c,"error"))}r.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,We(this,"complete"),We(this,"abort"),cr(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),cr(this,!0)),Xe.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?_a(this):this.bb())},r.bb=function(){_a(this)};function _a(c){if(c.h&&typeof f<"u"&&(!c.v[1]||kn(c)!=4||c.Z()!=2)){if(c.u&&kn(c)==4)Xt(c.Ea,0,c);else if(We(c,"readystatechange"),kn(c)==4){c.h=!1;try{const he=c.Z();e:switch(he){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var v;if(!(v=y)){var A;if(A=he===0){var B=String(c.D).match(Es)[1]||null;!B&&m.self&&m.self.location&&(B=m.self.location.protocol.slice(0,-1)),A=!ya.test(B?B.toLowerCase():"")}v=A}if(v)We(c,"complete"),We(c,"success");else{c.m=6;try{var Y=2<kn(c)?c.g.statusText:""}catch{Y=""}c.l=Y+" ["+c.Z()+"]",va(c)}}finally{cr(c)}}}}function cr(c,y){if(c.g){xs(c);const v=c.g,A=c.v[0]?()=>{}:null;c.g=null,c.v=null,y||We(c,"ready");try{v.onreadystatechange=A}catch{}}}function xs(c){c.I&&(m.clearTimeout(c.I),c.I=null)}r.isActive=function(){return!!this.g};function kn(c){return c.g?c.g.readyState:0}r.Z=function(){try{return 2<kn(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(c){if(this.g){var y=this.g.responseText;return c&&y.indexOf(c)==0&&(y=y.substring(c.length)),ua(y)}};function Bu(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Sf(c){const y={};c=(c.g&&2<=kn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<c.length;A++){if(Q(c[A]))continue;var v=P(c[A]);const B=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const Y=y[B]||[];y[B]=Y,Y.push(v)}D(y,function(A){return A.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Cs(c,y,v){return v&&v.internalChannelParams&&v.internalChannelParams[c]||y}function Ea(c){this.Aa=0,this.i=[],this.j=new In,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Cs("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Cs("baseRetryDelayMs",5e3,c),this.cb=Cs("retryDelaySeedMs",1e4,c),this.Wa=Cs("forwardChannelMaxRetries",2,c),this.wa=Cs("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new Mr(c&&c.concurrentRequestLimit),this.Da=new Ss,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=Ea.prototype,r.la=8,r.G=1,r.connect=function(c,y,v,A){at(0),this.W=c,this.H=y||{},v&&A!==void 0&&(this.H.OSID=v,this.H.OAID=A),this.F=this.X,this.I=Yu(this,null,this.W),wa(this)};function Zo(c){if(qu(c),c.G==3){var y=c.U++,v=vn(c.I);if(et(v,"SID",c.K),et(v,"RID",y),et(v,"TYPE","terminate"),Is(c,v),y=new on(c,c.j,y),y.L=2,y.v=ws(vn(v)),v=!1,m.navigator&&m.navigator.sendBeacon)try{v=m.navigator.sendBeacon(y.v.toString(),"")}catch{}!v&&m.Image&&(new Image().src=y.v,v=!0),v||(y.g=Qu(y.j,null),y.g.ea(y.v)),y.F=Date.now(),vs(y)}Ku(c)}function ba(c){c.g&&(Ns(c),c.g.cancel(),c.g=null)}function qu(c){ba(c),c.u&&(m.clearTimeout(c.u),c.u=null),Ta(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&m.clearTimeout(c.s),c.s=null)}function wa(c){if(!fa(c.h)&&!c.s){c.s=!0;var y=c.Ga;ce||M(),se||(ce(),se=!0),Oe.add(y,c),c.B=0}}function Rf(c,y){return da(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=y.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=wt(R(c.Ga,c,y),tl(c,c.B)),c.B++,!0)}r.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const B=new on(this,this.j,c);let Y=this.o;if(this.S&&(Y?(Y=S(Y),k(Y,this.S)):Y=this.S),this.m!==null||this.O||(B.H=Y,Y=null),this.P)e:{for(var y=0,v=0;v<this.i.length;v++){t:{var A=this.i[v];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break t}A=void 0}if(A===void 0)break;if(y+=A,4096<y){y=v;break e}if(y===4096||v===this.i.length-1){y=v+1;break e}}y=1e3}else y=1e3;y=Hu(this,B,y),v=vn(this.I),et(v,"RID",c),et(v,"CVER",22),this.D&&et(v,"X-HTTP-Session-Id",this.D),Is(this,v),Y&&(this.O?y="headers="+encodeURIComponent(String(Wo(Y)))+"&"+y:this.m&&Vt(v,this.m,Y)),ma(this.h,B),this.Ua&&et(v,"TYPE","init"),this.P?(et(v,"$req",y),et(v,"SID","null"),B.T=!0,Fn(B,v,null)):Fn(B,v,y),this.G=2}}else this.G==3&&(c?Jo(this,c):this.i.length==0||fa(this.h)||Jo(this))};function Jo(c,y){var v;y?v=y.l:v=c.U++;const A=vn(c.I);et(A,"SID",c.K),et(A,"RID",v),et(A,"AID",c.T),Is(c,A),c.m&&c.o&&Vt(A,c.m,c.o),v=new on(c,c.j,v,c.B+1),c.m===null&&(v.H=c.o),y&&(c.i=y.D.concat(c.i)),y=Hu(c,v,1e3),v.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),ma(c.h,v),Fn(v,A,y)}function Is(c,y){c.H&&oe(c.H,function(v,A){et(y,A,v)}),c.l&&$o({},function(v,A){et(y,A,v)})}function Hu(c,y,v){v=Math.min(c.i.length,v);var A=c.l?R(c.l.Na,c.l,c):null;e:{var B=c.i;let Y=-1;for(;;){const he=["count="+v];Y==-1?0<v?(Y=B[0].g,he.push("ofs="+Y)):Y=0:he.push("ofs="+Y);let Be=!0;for(let Nt=0;Nt<v;Nt++){let qe=B[Nt].g;const Lt=B[Nt].map;if(qe-=Y,0>qe)Y=Math.max(0,B[Nt].g-100),Be=!1;else try{or(Lt,he,"req"+qe+"_")}catch{A&&A(Lt)}}if(Be){A=he.join("&");break e}}}return c=c.i.splice(0,v),y.D=c,A}function Fu(c){if(!c.g&&!c.u){c.Y=1;var y=c.Fa;ce||M(),se||(ce(),se=!0),Oe.add(y,c),c.v=0}}function el(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=wt(R(c.Fa,c),tl(c,c.v)),c.v++,!0)}r.Fa=function(){if(this.u=null,Gu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=wt(R(this.ab,this),c)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,at(10),ba(this),Gu(this))};function Ns(c){c.A!=null&&(m.clearTimeout(c.A),c.A=null)}function Gu(c){c.g=new on(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var y=vn(c.qa);et(y,"RID","rpc"),et(y,"SID",c.K),et(y,"AID",c.T),et(y,"CI",c.F?"0":"1"),!c.F&&c.ja&&et(y,"TO",c.ja),et(y,"TYPE","xmlhttp"),Is(c,y),c.m&&c.o&&Vt(y,c.m,c.o),c.L&&(c.g.I=c.L);var v=c.g;c=c.ia,v.L=1,v.v=ws(vn(y)),v.m=null,v.P=!0,kr(v,c)}r.Za=function(){this.C!=null&&(this.C=null,ba(this),el(this),at(19))};function Ta(c){c.C!=null&&(m.clearTimeout(c.C),c.C=null)}function $u(c,y){var v=null;if(c.g==y){Ta(c),Ns(c),c.g=null;var A=2}else if(Fo(c.h,y))v=y.D,ln(c.h,y),A=1;else return;if(c.G!=0){if(y.o)if(A==1){v=y.m?y.m.length:0,y=Date.now()-y.F;var B=c.B;A=fi(),We(A,new It(A,v)),wa(c)}else Fu(c);else if(B=y.s,B==3||B==0&&0<y.X||!(A==1&&Rf(c,y)||A==2&&el(c)))switch(v&&0<v.length&&(y=c.h,y.i=y.i.concat(v)),B){case 1:zr(c,5);break;case 4:zr(c,10);break;case 3:zr(c,6);break;default:zr(c,2)}}}function tl(c,y){let v=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(v*=2),v*y}function zr(c,y){if(c.j.info("Error code "+y),y==2){var v=R(c.fb,c),A=c.Xa;const B=!A;A=new Tt(A||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||bs(A,"https"),ws(A),B?As(A.toString(),v):Gn(A.toString(),v)}else at(2);c.G=0,c.l&&c.l.sa(y),Ku(c),qu(c)}r.fb=function(c){c?(this.j.info("Successfully pinged google.com"),at(2)):(this.j.info("Failed to ping google.com"),at(1))};function Ku(c){if(c.G=0,c.ka=[],c.l){const y=Go(c.h);(y.length!=0||c.i.length!=0)&&(N(c.ka,y),N(c.ka,c.i),c.h.i.length=0,K(c.i),c.i.length=0),c.l.ra()}}function Yu(c,y,v){var A=v instanceof Tt?vn(v):new Tt(v);if(A.g!="")y&&(A.g=y+"."+A.g),yi(A,A.s);else{var B=m.location;A=B.protocol,y=y?y+"."+B.hostname:B.hostname,B=+B.port;var Y=new Tt(null);A&&bs(Y,A),y&&(Y.g=y),B&&yi(Y,B),v&&(Y.l=v),A=Y}return v=c.D,y=c.ya,v&&y&&et(A,v,y),et(A,"VER",c.la),Is(c,A),A}function Qu(c,y,v){if(y&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=c.Ca&&!c.pa?new Xe(new vi({eb:v})):new Xe(c.pa),y.Ha(c.J),y}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Xu(){}r=Xu.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function Aa(){}Aa.prototype.g=function(c,y){return new un(c,y)};function un(c,y){dt.call(this),this.g=new Ea(y),this.l=c,this.h=y&&y.messageUrlParams||null,c=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(c?c["X-WebChannel-Content-Type"]=y.messageContentType:c={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(c?c["X-WebChannel-Client-Profile"]=y.va:c={"X-WebChannel-Client-Profile":y.va}),this.g.S=c,(c=y&&y.Sb)&&!Q(c)&&(this.g.m=c),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!Q(y)&&(this.g.D=y,c=this.h,c!==null&&y in c&&(c=this.h,y in c&&delete c[y])),this.j=new hr(this)}z(un,dt),un.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},un.prototype.close=function(){Zo(this.g)},un.prototype.o=function(c){var y=this.g;if(typeof c=="string"){var v={};v.__data__=c,c=v}else this.u&&(v={},v.__data__=Hn(c),c=v);y.i.push(new Lu(y.Ya++,c)),y.G==3&&wa(y)},un.prototype.N=function(){this.g.l=null,delete this.j,Zo(this.g),delete this.g,un.aa.N.call(this)};function Wu(c){Or.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var y=c.__sm__;if(y){e:{for(const v in y){c=v;break e}c=void 0}(this.i=c)&&(c=this.i,y=y!==null&&c in y?y[c]:void 0),this.data=y}else this.data=c}z(Wu,Or);function Zu(){zo.call(this),this.status=1}z(Zu,zo);function hr(c){this.g=c}z(hr,Xu),hr.prototype.ua=function(){We(this.g,"a")},hr.prototype.ta=function(c){We(this.g,new Wu(c))},hr.prototype.sa=function(c){We(this.g,new Zu)},hr.prototype.ra=function(){We(this.g,"b")},Aa.prototype.createWebChannel=Aa.prototype.g,un.prototype.send=un.prototype.o,un.prototype.open=un.prototype.m,un.prototype.close=un.prototype.close,_w=function(){return new Aa},vw=function(){return fi()},yw=nr,np={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},pi.NO_ERROR=0,pi.TIMEOUT=8,pi.HTTP_ERROR=6,vh=pi,Dr.COMPLETE="complete",gw=Dr,jo.EventType=Nr,Nr.OPEN="a",Nr.CLOSE="b",Nr.ERROR="c",Nr.MESSAGE="d",dt.prototype.listen=dt.prototype.K,Ql=jo,Xe.prototype.listenOnce=Xe.prototype.L,Xe.prototype.getLastError=Xe.prototype.Ka,Xe.prototype.getLastErrorCode=Xe.prototype.Ba,Xe.prototype.getStatus=Xe.prototype.Z,Xe.prototype.getResponseJson=Xe.prototype.Oa,Xe.prototype.getResponseText=Xe.prototype.oa,Xe.prototype.send=Xe.prototype.ea,Xe.prototype.setWithCredentials=Xe.prototype.Ha,pw=Xe}).apply(typeof nh<"u"?nh:typeof self<"u"?self:typeof window<"u"?window:{});const M0="@firebase/firestore",P0="4.9.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class en{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}en.UNAUTHENTICATED=new en(null),en.GOOGLE_CREDENTIALS=new en("google-credentials-uid"),en.FIRST_PARTY=new en("first-party-uid"),en.MOCK_USER=new en("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let xo="12.2.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ra=new Vp("@firebase/firestore");function eo(){return ra.logLevel}function pe(r,...e){if(ra.logLevel<=je.DEBUG){const n=e.map(Qp);ra.debug(`Firestore (${xo}): ${r}`,...n)}}function ci(r,...e){if(ra.logLevel<=je.ERROR){const n=e.map(Qp);ra.error(`Firestore (${xo}): ${r}`,...n)}}function po(r,...e){if(ra.logLevel<=je.WARN){const n=e.map(Qp);ra.warn(`Firestore (${xo}): ${r}`,...n)}}function Qp(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ie(r,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,Ew(r,s,n)}function Ew(r,e,n){let s=`FIRESTORE (${xo}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw ci(s),new Error(s)}function ft(r,e,n,s){let o="Unexpected state";typeof n=="string"?o=n:s=n,r||Ew(e,o,s)}function Ge(r,e){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ue={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ge extends Cr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lo{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bw{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class UI{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(en.UNAUTHENTICATED)))}shutdown(){}}class jI{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class zI{constructor(e){this.t=e,this.currentUser=en.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){ft(this.o===void 0,42304);let s=this.i;const o=p=>this.i!==s?(s=this.i,n(p)):Promise.resolve();let u=new lo;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new lo,e.enqueueRetryable((()=>o(this.currentUser)))};const f=()=>{const p=u;e.enqueueRetryable((async()=>{await p.promise,await o(this.currentUser)}))},m=p=>{pe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit((p=>m(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(pe("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new lo)}}),0),f()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==e?(pe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(ft(typeof s.accessToken=="string",31837,{l:s}),new bw(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ft(e===null||typeof e=="string",2055,{h:e}),new en(e)}}class BI{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=en.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class qI{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new BI(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(en.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class V0{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class HI{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,pn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){ft(this.o===void 0,3512);const s=u=>{u.error!=null&&pe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.m;return this.m=u.token,pe("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable((()=>s(u)))};const o=u=>{pe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):pe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new V0(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(ft(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new V0(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FI(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<r;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ww{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=FI(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<n&&(s+=e.charAt(o[u]%62))}return s}}function ze(r,e){return r<e?-1:r>e?1:0}function rp(r,e){const n=Math.min(r.length,e.length);for(let s=0;s<n;s++){const o=r.charAt(s),u=e.charAt(s);if(o!==u)return km(o)===km(u)?ze(o,u):km(o)?1:-1}return ze(r.length,e.length)}const GI=55296,$I=57343;function km(r){const e=r.charCodeAt(0);return e>=GI&&e<=$I}function go(r,e,n){return r.length===e.length&&r.every(((s,o)=>n(s,e[o])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L0="__name__";class vr{constructor(e,n,s){n===void 0?n=0:n>e.length&&Ie(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&Ie(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return vr.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof vr?e.forEach((s=>{n.push(s)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let o=0;o<s;o++){const u=vr.compareSegments(e.get(o),n.get(o));if(u!==0)return u}return ze(e.length,n.length)}static compareSegments(e,n){const s=vr.isNumericId(e),o=vr.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?vr.extractNumericId(e).compare(vr.extractNumericId(n)):rp(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Xi.fromString(e.substring(4,e.length-2))}}class lt extends vr{construct(e,n,s){return new lt(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new ge(ue.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((o=>o.length>0)))}return new lt(n)}static emptyPath(){return new lt([])}}const KI=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class nn extends vr{construct(e,n,s){return new nn(e,n,s)}static isValidIdentifier(e){return KI.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),nn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===L0}static keyField(){return new nn([L0])}static fromServerFormat(e){const n=[];let s="",o=0;const u=()=>{if(s.length===0)throw new ge(ue.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let f=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new ge(ue.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new ge(ue.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=p,o+=2}else m==="`"?(f=!f,o++):m!=="."||f?(s+=m,o++):(u(),o++)}if(u(),f)throw new ge(ue.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new nn(n)}static emptyPath(){return new nn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ae{constructor(e){this.path=e}static fromPath(e){return new Ae(lt.fromString(e))}static fromName(e){return new Ae(lt.fromString(e).popFirst(5))}static empty(){return new Ae(lt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&lt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return lt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ae(new lt(e.slice()))}}function YI(r,e,n,s){if(e===!0&&s===!0)throw new ge(ue.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function U0(r){if(Ae.isDocumentKey(r))throw new ge(ue.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function Tw(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function ef(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":Ie(12329,{type:typeof r})}function _h(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new ge(ue.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=ef(r);throw new ge(ue.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return r}function QI(r,e){if(e<=0)throw new ge(ue.INVALID_ARGUMENT,`Function ${r}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ct(r,e){const n={typeString:r};return e&&(n.value=e),n}function Au(r,e){if(!Tw(r))throw new ge(ue.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in e)if(e[s]){const o=e[s].typeString,u="value"in e[s]?{value:e[s].value}:void 0;if(!(s in r)){n=`JSON missing required field: '${s}'`;break}const f=r[s];if(o&&typeof f!==o){n=`JSON field '${s}' must be a ${o}.`;break}if(u!==void 0&&f!==u.value){n=`Expected '${s}' field to equal '${u.value}'`;break}}if(n)throw new ge(ue.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j0=-62135596800,z0=1e6;class ut{static now(){return ut.fromMillis(Date.now())}static fromDate(e){return ut.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*z0);return new ut(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ge(ue.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ge(ue.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<j0)throw new ge(ue.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ge(ue.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/z0}_compareTo(e){return this.seconds===e.seconds?ze(this.nanoseconds,e.nanoseconds):ze(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ut._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Au(e,ut._jsonSchema))return new ut(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-j0;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ut._jsonSchemaVersion="firestore/timestamp/1.0",ut._jsonSchema={type:Ct("string",ut._jsonSchemaVersion),seconds:Ct("number"),nanoseconds:Ct("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ce{static fromTimestamp(e){return new Ce(e)}static min(){return new Ce(new ut(0,0))}static max(){return new Ce(new ut(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cu=-1;function XI(r,e){const n=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=Ce.fromTimestamp(s===1e9?new ut(n+1,0):new ut(n,s));return new Ji(o,Ae.empty(),e)}function WI(r){return new Ji(r.readTime,r.key,cu)}class Ji{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new Ji(Ce.min(),Ae.empty(),cu)}static max(){return new Ji(Ce.max(),Ae.empty(),cu)}}function ZI(r,e){let n=r.readTime.compareTo(e.readTime);return n!==0?n:(n=Ae.comparator(r.documentKey,e.documentKey),n!==0?n:ze(r.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JI="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class eN{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tf(r){if(r.code!==ue.FAILED_PRECONDITION||r.message!==JI)throw r;pe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ie{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ie(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ie(((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,o)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof ie?n:ie.resolve(n)}catch(n){return ie.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):ie.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):ie.reject(n)}static resolve(e){return new ie(((n,s)=>{n(e)}))}static reject(e){return new ie(((n,s)=>{s(e)}))}static waitFor(e){return new ie(((n,s)=>{let o=0,u=0,f=!1;e.forEach((m=>{++o,m.next((()=>{++u,f&&u===o&&n()}),(p=>s(p)))})),f=!0,u===o&&n()}))}static or(e){let n=ie.resolve(!1);for(const s of e)n=n.next((o=>o?ie.resolve(o):s()));return n}static forEach(e,n){const s=[];return e.forEach(((o,u)=>{s.push(n.call(this,o,u))})),this.waitFor(s)}static mapArray(e,n){return new ie(((s,o)=>{const u=e.length,f=new Array(u);let m=0;for(let p=0;p<u;p++){const g=p;n(e[g]).next((_=>{f[g]=_,++m,m===u&&s(f)}),(_=>o(_)))}}))}static doWhile(e,n){return new ie(((s,o)=>{const u=()=>{e()===!0?n().next((()=>{u()}),o):s()};u()}))}}function tN(r){const e=r.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Co(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nf{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}nf.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nN=-1;function rf(r){return r==null}function Vh(r){return r===0&&1/r==-1/0}function rN(r){return typeof r=="number"&&Number.isInteger(r)&&!Vh(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Aw="";function iN(r){let e="";for(let n=0;n<r.length;n++)e.length>0&&(e=B0(e)),e=sN(r.get(n),e);return B0(e)}function sN(r,e){let n=e;const s=r.length;for(let o=0;o<s;o++){const u=r.charAt(o);switch(u){case"\0":n+="";break;case Aw:n+="";break;default:n+=u}}return n}function B0(r){return r+Aw+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q0(r){let e=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e++;return e}function Io(r,e){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e(n,r[n])}function Sw(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bt{constructor(e,n){this.comparator=e,this.root=n||Yt.EMPTY}insert(e,n){return new bt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Yt.BLACK,null,null))}remove(e){return new bt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Yt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,s)=>(e(n,s),!1)))}toString(){const e=[];return this.inorderTraversal(((n,s)=>(e.push(`${n}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new rh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new rh(this.root,e,this.comparator,!1)}getReverseIterator(){return new rh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new rh(this.root,e,this.comparator,!0)}}class rh{constructor(e,n,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?s(e.key,n):1,n&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Yt{constructor(e,n,s,o,u){this.key=e,this.value=n,this.color=s??Yt.RED,this.left=o??Yt.EMPTY,this.right=u??Yt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,o,u){return new Yt(e??this.key,n??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let o=this;const u=s(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,n,s),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Yt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return Yt.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Yt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Yt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ie(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ie(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ie(27949);return e+(this.isRed()?0:1)}}Yt.EMPTY=null,Yt.RED=!0,Yt.BLACK=!1;Yt.EMPTY=new class{constructor(){this.size=0}get key(){throw Ie(57766)}get value(){throw Ie(16141)}get color(){throw Ie(16727)}get left(){throw Ie(29726)}get right(){throw Ie(36894)}copy(e,n,s,o,u){return this}insert(e,n,s){return new Yt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pt{constructor(e){this.comparator=e,this.data=new bt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,s)=>(e(n),!1)))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new H0(this.data.getIterator())}getIteratorFrom(e){return new H0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((s=>{n=n.add(s)})),n}isEqual(e){if(!(e instanceof Pt)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Pt(this.comparator);return n.data=e,n}}class H0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gi{constructor(e){this.fields=e,e.sort(nn.comparator)}static empty(){return new Gi([])}unionWith(e){let n=new Pt(nn.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new Gi(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return go(this.fields,e.fields,((n,s)=>n.isEqual(s)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rw extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new Rw("Invalid base64 string: "+u):u}})(e);return new Qt(n)}static fromUint8Array(e){const n=(function(o){let u="";for(let f=0;f<o.length;++f)u+=String.fromCharCode(o[f]);return u})(e);return new Qt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ze(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Qt.EMPTY_BYTE_STRING=new Qt("");const aN=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function es(r){if(ft(!!r,39018),typeof r=="string"){let e=0;const n=aN.exec(r);if(ft(!!n,46558,{timestamp:r}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:Et(r.seconds),nanos:Et(r.nanos)}}function Et(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function ts(r){return typeof r=="string"?Qt.fromBase64String(r):Qt.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xw="server_timestamp",Cw="__type__",Iw="__previous_value__",Nw="__local_write_time__";function Xp(r){return(r?.mapValue?.fields||{})[Cw]?.stringValue===xw}function sf(r){const e=r.mapValue.fields[Iw];return Xp(e)?sf(e):e}function hu(r){const e=es(r.mapValue.fields[Nw].timestampValue);return new ut(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oN{constructor(e,n,s,o,u,f,m,p,g,_){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=g,this.isUsingEmulator=_}}const Lh="(default)";class fu{constructor(e,n){this.projectId=e,this.database=n||Lh}static empty(){return new fu("","")}get isDefaultDatabase(){return this.database===Lh}isEqual(e){return e instanceof fu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ow="__type__",lN="__max__",ih={mapValue:{}},Dw="__vector__",Uh="value";function ns(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Xp(r)?4:cN(r)?9007199254740991:uN(r)?10:11:Ie(28295,{value:r})}function Rr(r,e){if(r===e)return!0;const n=ns(r);if(n!==ns(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return hu(r).isEqual(hu(e));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const f=es(o.timestampValue),m=es(u.timestampValue);return f.seconds===m.seconds&&f.nanos===m.nanos})(r,e);case 5:return r.stringValue===e.stringValue;case 6:return(function(o,u){return ts(o.bytesValue).isEqual(ts(u.bytesValue))})(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return(function(o,u){return Et(o.geoPointValue.latitude)===Et(u.geoPointValue.latitude)&&Et(o.geoPointValue.longitude)===Et(u.geoPointValue.longitude)})(r,e);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return Et(o.integerValue)===Et(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const f=Et(o.doubleValue),m=Et(u.doubleValue);return f===m?Vh(f)===Vh(m):isNaN(f)&&isNaN(m)}return!1})(r,e);case 9:return go(r.arrayValue.values||[],e.arrayValue.values||[],Rr);case 10:case 11:return(function(o,u){const f=o.mapValue.fields||{},m=u.mapValue.fields||{};if(q0(f)!==q0(m))return!1;for(const p in f)if(f.hasOwnProperty(p)&&(m[p]===void 0||!Rr(f[p],m[p])))return!1;return!0})(r,e);default:return Ie(52216,{left:r})}}function du(r,e){return(r.values||[]).find((n=>Rr(n,e)))!==void 0}function yo(r,e){if(r===e)return 0;const n=ns(r),s=ns(e);if(n!==s)return ze(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return ze(r.booleanValue,e.booleanValue);case 2:return(function(u,f){const m=Et(u.integerValue||u.doubleValue),p=Et(f.integerValue||f.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1})(r,e);case 3:return F0(r.timestampValue,e.timestampValue);case 4:return F0(hu(r),hu(e));case 5:return rp(r.stringValue,e.stringValue);case 6:return(function(u,f){const m=ts(u),p=ts(f);return m.compareTo(p)})(r.bytesValue,e.bytesValue);case 7:return(function(u,f){const m=u.split("/"),p=f.split("/");for(let g=0;g<m.length&&g<p.length;g++){const _=ze(m[g],p[g]);if(_!==0)return _}return ze(m.length,p.length)})(r.referenceValue,e.referenceValue);case 8:return(function(u,f){const m=ze(Et(u.latitude),Et(f.latitude));return m!==0?m:ze(Et(u.longitude),Et(f.longitude))})(r.geoPointValue,e.geoPointValue);case 9:return G0(r.arrayValue,e.arrayValue);case 10:return(function(u,f){const m=u.fields||{},p=f.fields||{},g=m[Uh]?.arrayValue,_=p[Uh]?.arrayValue,T=ze(g?.values?.length||0,_?.values?.length||0);return T!==0?T:G0(g,_)})(r.mapValue,e.mapValue);case 11:return(function(u,f){if(u===ih.mapValue&&f===ih.mapValue)return 0;if(u===ih.mapValue)return 1;if(f===ih.mapValue)return-1;const m=u.fields||{},p=Object.keys(m),g=f.fields||{},_=Object.keys(g);p.sort(),_.sort();for(let T=0;T<p.length&&T<_.length;++T){const R=rp(p[T],_[T]);if(R!==0)return R;const U=yo(m[p[T]],g[_[T]]);if(U!==0)return U}return ze(p.length,_.length)})(r.mapValue,e.mapValue);default:throw Ie(23264,{he:n})}}function F0(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return ze(r,e);const n=es(r),s=es(e),o=ze(n.seconds,s.seconds);return o!==0?o:ze(n.nanos,s.nanos)}function G0(r,e){const n=r.values||[],s=e.values||[];for(let o=0;o<n.length&&o<s.length;++o){const u=yo(n[o],s[o]);if(u)return u}return ze(n.length,s.length)}function vo(r){return ip(r)}function ip(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(n){const s=es(n);return`time(${s.seconds},${s.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(n){return ts(n).toBase64()})(r.bytesValue):"referenceValue"in r?(function(n){return Ae.fromName(n).toString()})(r.referenceValue):"geoPointValue"in r?(function(n){return`geo(${n.latitude},${n.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(n){let s="[",o=!0;for(const u of n.values||[])o?o=!1:s+=",",s+=ip(u);return s+"]"})(r.arrayValue):"mapValue"in r?(function(n){const s=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const f of s)u?u=!1:o+=",",o+=`${f}:${ip(n.fields[f])}`;return o+"}"})(r.mapValue):Ie(61005,{value:r})}function Eh(r){switch(ns(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=sf(r);return e?16+Eh(e):16;case 5:return 2*r.stringValue.length;case 6:return ts(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((o,u)=>o+Eh(u)),0)})(r.arrayValue);case 10:case 11:return(function(s){let o=0;return Io(s.fields,((u,f)=>{o+=u.length+Eh(f)})),o})(r.mapValue);default:throw Ie(13486,{value:r})}}function $0(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function sp(r){return!!r&&"integerValue"in r}function Wp(r){return!!r&&"arrayValue"in r}function K0(r){return!!r&&"nullValue"in r}function Y0(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Mm(r){return!!r&&"mapValue"in r}function uN(r){return(r?.mapValue?.fields||{})[Ow]?.stringValue===Dw}function nu(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const e={mapValue:{fields:{}}};return Io(r.mapValue.fields,((n,s)=>e.mapValue.fields[n]=nu(s))),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=nu(r.arrayValue.values[n]);return e}return{...r}}function cN(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===lN}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _r{constructor(e){this.value=e}static empty(){return new _r({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!Mm(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=nu(n)}setAll(e){let n=nn.emptyPath(),s={},o=[];e.forEach(((f,m)=>{if(!n.isImmediateParentOf(m)){const p=this.getFieldsMap(n);this.applyChanges(p,s,o),s={},o=[],n=m.popLast()}f?s[m.lastSegment()]=nu(f):o.push(m.lastSegment())}));const u=this.getFieldsMap(n);this.applyChanges(u,s,o)}delete(e){const n=this.field(e.popLast());Mm(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Rr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=n.mapValue.fields[e.get(s)];Mm(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,s){Io(n,((o,u)=>e[o]=u));for(const o of s)delete e[o]}clone(){return new _r(nu(this.value))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tn{constructor(e,n,s,o,u,f,m){this.key=e,this.documentType=n,this.version=s,this.readTime=o,this.createTime=u,this.data=f,this.documentState=m}static newInvalidDocument(e){return new tn(e,0,Ce.min(),Ce.min(),Ce.min(),_r.empty(),0)}static newFoundDocument(e,n,s,o){return new tn(e,1,n,Ce.min(),s,o,0)}static newNoDocument(e,n){return new tn(e,2,n,Ce.min(),Ce.min(),_r.empty(),0)}static newUnknownDocument(e,n){return new tn(e,3,n,Ce.min(),Ce.min(),_r.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ce.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=_r.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=_r.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ce.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof tn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new tn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jh{constructor(e,n){this.position=e,this.inclusive=n}}function Q0(r,e,n){let s=0;for(let o=0;o<r.position.length;o++){const u=e[o],f=r.position[o];if(u.field.isKeyField()?s=Ae.comparator(Ae.fromName(f.referenceValue),n.key):s=yo(f,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function X0(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!Rr(r.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mu{constructor(e,n="asc"){this.field=e,this.dir=n}}function hN(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kw{}class xt extends kw{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new dN(e,n,s):n==="array-contains"?new gN(e,s):n==="in"?new yN(e,s):n==="not-in"?new vN(e,s):n==="array-contains-any"?new _N(e,s):new xt(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new mN(e,s):new pN(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(yo(n,this.value)):n!==null&&ns(this.value)===ns(n)&&this.matchesComparison(yo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ie(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class er extends kw{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new er(e,n)}matches(e){return Mw(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Mw(r){return r.op==="and"}function Pw(r){return fN(r)&&Mw(r)}function fN(r){for(const e of r.filters)if(e instanceof er)return!1;return!0}function ap(r){if(r instanceof xt)return r.field.canonicalString()+r.op.toString()+vo(r.value);if(Pw(r))return r.filters.map((e=>ap(e))).join(",");{const e=r.filters.map((n=>ap(n))).join(",");return`${r.op}(${e})`}}function Vw(r,e){return r instanceof xt?(function(s,o){return o instanceof xt&&s.op===o.op&&s.field.isEqual(o.field)&&Rr(s.value,o.value)})(r,e):r instanceof er?(function(s,o){return o instanceof er&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce(((u,f,m)=>u&&Vw(f,o.filters[m])),!0):!1})(r,e):void Ie(19439)}function Lw(r){return r instanceof xt?(function(n){return`${n.field.canonicalString()} ${n.op} ${vo(n.value)}`})(r):r instanceof er?(function(n){return n.op.toString()+" {"+n.getFilters().map(Lw).join(" ,")+"}"})(r):"Filter"}class dN extends xt{constructor(e,n,s){super(e,n,s),this.key=Ae.fromName(s.referenceValue)}matches(e){const n=Ae.comparator(e.key,this.key);return this.matchesComparison(n)}}class mN extends xt{constructor(e,n){super(e,"in",n),this.keys=Uw("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class pN extends xt{constructor(e,n){super(e,"not-in",n),this.keys=Uw("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function Uw(r,e){return(e.arrayValue?.values||[]).map((n=>Ae.fromName(n.referenceValue)))}class gN extends xt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Wp(n)&&du(n.arrayValue,this.value)}}class yN extends xt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&du(this.value.arrayValue,n)}}class vN extends xt{constructor(e,n){super(e,"not-in",n)}matches(e){if(du(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!du(this.value.arrayValue,n)}}class _N extends xt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Wp(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>du(this.value.arrayValue,s)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EN{constructor(e,n=null,s=[],o=[],u=null,f=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=f,this.endAt=m,this.Te=null}}function W0(r,e=null,n=[],s=[],o=null,u=null,f=null){return new EN(r,e,n,s,o,u,f)}function Zp(r){const e=Ge(r);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((s=>ap(s))).join(","),n+="|ob:",n+=e.orderBy.map((s=>(function(u){return u.field.canonicalString()+u.dir})(s))).join(","),rf(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((s=>vo(s))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((s=>vo(s))).join(",")),e.Te=n}return e.Te}function Jp(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!hN(r.orderBy[n],e.orderBy[n]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!Vw(r.filters[n],e.filters[n]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!X0(r.startAt,e.startAt)&&X0(r.endAt,e.endAt)}function op(r){return Ae.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class No{constructor(e,n=null,s=[],o=[],u=null,f="F",m=null,p=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=f,this.startAt=m,this.endAt=p,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function bN(r,e,n,s,o,u,f,m){return new No(r,e,n,s,o,u,f,m)}function eg(r){return new No(r)}function Z0(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function jw(r){return r.collectionGroup!==null}function ru(r){const e=Ge(r);if(e.Ie===null){e.Ie=[];const n=new Set;for(const u of e.explicitOrderBy)e.Ie.push(u),n.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let m=new Pt(nn.comparator);return f.filters.forEach((p=>{p.getFlattenedFilters().forEach((g=>{g.isInequality()&&(m=m.add(g.field))}))})),m})(e).forEach((u=>{n.has(u.canonicalString())||u.isKeyField()||e.Ie.push(new mu(u,s))})),n.has(nn.keyField().canonicalString())||e.Ie.push(new mu(nn.keyField(),s))}return e.Ie}function wr(r){const e=Ge(r);return e.Ee||(e.Ee=wN(e,ru(r))),e.Ee}function wN(r,e){if(r.limitType==="F")return W0(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new mu(o.field,u)}));const n=r.endAt?new jh(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new jh(r.startAt.position,r.startAt.inclusive):null;return W0(r.path,r.collectionGroup,e,r.filters,r.limit,n,s)}}function lp(r,e){const n=r.filters.concat([e]);return new No(r.path,r.collectionGroup,r.explicitOrderBy.slice(),n,r.limit,r.limitType,r.startAt,r.endAt)}function zh(r,e,n){return new No(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,n,r.startAt,r.endAt)}function af(r,e){return Jp(wr(r),wr(e))&&r.limitType===e.limitType}function zw(r){return`${Zp(wr(r))}|lt:${r.limitType}`}function to(r){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((o=>Lw(o))).join(", ")}]`),rf(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((o=>(function(f){return`${f.field.canonicalString()} (${f.dir})`})(o))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((o=>vo(o))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((o=>vo(o))).join(",")),`Target(${s})`})(wr(r))}; limitType=${r.limitType})`}function of(r,e){return e.isFoundDocument()&&(function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):Ae.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)})(r,e)&&(function(s,o){for(const u of ru(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(r,e)&&(function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0})(r,e)&&(function(s,o){return!(s.startAt&&!(function(f,m,p){const g=Q0(f,m,p);return f.inclusive?g<=0:g<0})(s.startAt,ru(s),o)||s.endAt&&!(function(f,m,p){const g=Q0(f,m,p);return f.inclusive?g>=0:g>0})(s.endAt,ru(s),o))})(r,e)}function TN(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function Bw(r){return(e,n)=>{let s=!1;for(const o of ru(r)){const u=AN(o,e,n);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function AN(r,e,n){const s=r.field.isKeyField()?Ae.comparator(e.key,n.key):(function(u,f,m){const p=f.data.field(u),g=m.data.field(u);return p!==null&&g!==null?yo(p,g):Ie(42886)})(r.field,e,n);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return Ie(19790,{direction:r.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aa{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Io(this.inner,((n,s)=>{for(const[o,u]of s)e(o,u)}))}isEmpty(){return Sw(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SN=new bt(Ae.comparator);function rs(){return SN}const qw=new bt(Ae.comparator);function Xl(...r){let e=qw;for(const n of r)e=e.insert(n.key,n);return e}function RN(r){let e=qw;return r.forEach(((n,s)=>e=e.insert(n,s.overlayedDocument))),e}function Qs(){return iu()}function Hw(){return iu()}function iu(){return new aa((r=>r.toString()),((r,e)=>r.isEqual(e)))}const xN=new Pt(Ae.comparator);function $e(...r){let e=xN;for(const n of r)e=e.add(n);return e}const CN=new Pt(ze);function IN(){return CN}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tg(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Vh(e)?"-0":e}}function Fw(r){return{integerValue:""+r}}function NN(r,e){return rN(e)?Fw(e):tg(r,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lf{constructor(){this._=void 0}}function ON(r,e,n){return r instanceof up?(function(o,u){const f={fields:{[Cw]:{stringValue:xw},[Nw]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&Xp(u)&&(u=sf(u)),u&&(f.fields[Iw]=u),{mapValue:f}})(n,e):r instanceof Bh?Gw(r,e):r instanceof qh?$w(r,e):(function(o,u){const f=kN(o,u),m=J0(f)+J0(o.Ae);return sp(f)&&sp(o.Ae)?Fw(m):tg(o.serializer,m)})(r,e)}function DN(r,e,n){return r instanceof Bh?Gw(r,e):r instanceof qh?$w(r,e):n}function kN(r,e){return r instanceof cp?(function(s){return sp(s)||(function(u){return!!u&&"doubleValue"in u})(s)})(e)?e:{integerValue:0}:null}class up extends lf{}class Bh extends lf{constructor(e){super(),this.elements=e}}function Gw(r,e){const n=Kw(e);for(const s of r.elements)n.some((o=>Rr(o,s)))||n.push(s);return{arrayValue:{values:n}}}class qh extends lf{constructor(e){super(),this.elements=e}}function $w(r,e){let n=Kw(e);for(const s of r.elements)n=n.filter((o=>!Rr(o,s)));return{arrayValue:{values:n}}}class cp extends lf{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function J0(r){return Et(r.integerValue||r.doubleValue)}function Kw(r){return Wp(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function MN(r,e){return r.field.isEqual(e.field)&&(function(s,o){return s instanceof Bh&&o instanceof Bh||s instanceof qh&&o instanceof qh?go(s.elements,o.elements,Rr):s instanceof cp&&o instanceof cp?Rr(s.Ae,o.Ae):s instanceof up&&o instanceof up})(r.transform,e.transform)}class Ws{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Ws}static exists(e){return new Ws(void 0,e)}static updateTime(e){return new Ws(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function bh(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class ng{}function Yw(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new VN(r.key,Ws.none()):new rg(r.key,r.data,Ws.none());{const n=r.data,s=_r.empty();let o=new Pt(nn.comparator);for(let u of e.fields)if(!o.has(u)){let f=n.field(u);f===null&&u.length>1&&(u=u.popLast(),f=n.field(u)),f===null?s.delete(u):s.set(u,f),o=o.add(u)}return new uf(r.key,s,new Gi(o.toArray()),Ws.none())}}function PN(r,e,n){r instanceof rg?(function(o,u,f){const m=o.value.clone(),p=tE(o.fieldTransforms,u,f.transformResults);m.setAll(p),u.convertToFoundDocument(f.version,m).setHasCommittedMutations()})(r,e,n):r instanceof uf?(function(o,u,f){if(!bh(o.precondition,u))return void u.convertToUnknownDocument(f.version);const m=tE(o.fieldTransforms,u,f.transformResults),p=u.data;p.setAll(Qw(o)),p.setAll(m),u.convertToFoundDocument(f.version,p).setHasCommittedMutations()})(r,e,n):(function(o,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()})(0,e,n)}function su(r,e,n,s){return r instanceof rg?(function(u,f,m,p){if(!bh(u.precondition,f))return m;const g=u.value.clone(),_=nE(u.fieldTransforms,p,f);return g.setAll(_),f.convertToFoundDocument(f.version,g).setHasLocalMutations(),null})(r,e,n,s):r instanceof uf?(function(u,f,m,p){if(!bh(u.precondition,f))return m;const g=nE(u.fieldTransforms,p,f),_=f.data;return _.setAll(Qw(u)),_.setAll(g),f.convertToFoundDocument(f.version,_).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((T=>T.field)))})(r,e,n,s):(function(u,f,m){return bh(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):m})(r,e,n)}function eE(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!(function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&go(s,o,((u,f)=>MN(u,f)))})(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class rg extends ng{constructor(e,n,s,o=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class uf extends ng{constructor(e,n,s,o,u=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function Qw(r){const e=new Map;return r.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=r.data.field(n);e.set(n,s)}})),e}function tE(r,e,n){const s=new Map;ft(r.length===n.length,32656,{Re:n.length,Ve:r.length});for(let o=0;o<n.length;o++){const u=r[o],f=u.transform,m=e.data.field(u.field);s.set(u.field,DN(f,m,n[o]))}return s}function nE(r,e,n){const s=new Map;for(const o of r){const u=o.transform,f=n.data.field(o.field);s.set(o.field,ON(u,f,e))}return s}class VN extends ng{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LN{constructor(e,n,s,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&PN(u,e,s[o])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=su(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=su(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=Hw();return this.mutations.forEach((o=>{const u=e.get(o.key),f=u.overlayedDocument;let m=this.applyToLocalView(f,u.mutatedFields);m=n.has(o.key)?null:m;const p=Yw(f,m);p!==null&&s.set(o.key,p),f.isValidDocument()||f.convertToNoDocument(Ce.min())})),s}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),$e())}isEqual(e){return this.batchId===e.batchId&&go(this.mutations,e.mutations,((n,s)=>eE(n,s)))&&go(this.baseMutations,e.baseMutations,((n,s)=>eE(n,s)))}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UN{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jN{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Rt,Fe;function Xw(r){if(r===void 0)return ci("GRPC error has no .code"),ue.UNKNOWN;switch(r){case Rt.OK:return ue.OK;case Rt.CANCELLED:return ue.CANCELLED;case Rt.UNKNOWN:return ue.UNKNOWN;case Rt.DEADLINE_EXCEEDED:return ue.DEADLINE_EXCEEDED;case Rt.RESOURCE_EXHAUSTED:return ue.RESOURCE_EXHAUSTED;case Rt.INTERNAL:return ue.INTERNAL;case Rt.UNAVAILABLE:return ue.UNAVAILABLE;case Rt.UNAUTHENTICATED:return ue.UNAUTHENTICATED;case Rt.INVALID_ARGUMENT:return ue.INVALID_ARGUMENT;case Rt.NOT_FOUND:return ue.NOT_FOUND;case Rt.ALREADY_EXISTS:return ue.ALREADY_EXISTS;case Rt.PERMISSION_DENIED:return ue.PERMISSION_DENIED;case Rt.FAILED_PRECONDITION:return ue.FAILED_PRECONDITION;case Rt.ABORTED:return ue.ABORTED;case Rt.OUT_OF_RANGE:return ue.OUT_OF_RANGE;case Rt.UNIMPLEMENTED:return ue.UNIMPLEMENTED;case Rt.DATA_LOSS:return ue.DATA_LOSS;default:return Ie(39323,{code:r})}}(Fe=Rt||(Rt={}))[Fe.OK=0]="OK",Fe[Fe.CANCELLED=1]="CANCELLED",Fe[Fe.UNKNOWN=2]="UNKNOWN",Fe[Fe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Fe[Fe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Fe[Fe.NOT_FOUND=5]="NOT_FOUND",Fe[Fe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Fe[Fe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Fe[Fe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Fe[Fe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Fe[Fe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Fe[Fe.ABORTED=10]="ABORTED",Fe[Fe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Fe[Fe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Fe[Fe.INTERNAL=13]="INTERNAL",Fe[Fe.UNAVAILABLE=14]="UNAVAILABLE",Fe[Fe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zN(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BN=new Xi([4294967295,4294967295],0);function rE(r){const e=zN().encode(r),n=new mw;return n.update(e),new Uint8Array(n.digest())}function iE(r){const e=new DataView(r.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new Xi([n,s],0),new Xi([o,u],0)]}class ig{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new Wl(`Invalid padding: ${n}`);if(s<0)throw new Wl(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Wl(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new Wl(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Xi.fromNumber(this.ge)}ye(e,n,s){let o=e.add(n.multiply(Xi.fromNumber(s)));return o.compare(BN)===1&&(o=new Xi([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=rE(e),[s,o]=iE(n);for(let u=0;u<this.hashCount;u++){const f=this.ye(s,o,u);if(!this.we(f))return!1}return!0}static create(e,n,s){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),f=new ig(u,o,n);return s.forEach((m=>f.insert(m))),f}insert(e){if(this.ge===0)return;const n=rE(e),[s,o]=iE(n);for(let u=0;u<this.hashCount;u++){const f=this.ye(s,o,u);this.Se(f)}}Se(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class Wl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cf{constructor(e,n,s,o,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const o=new Map;return o.set(e,Su.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new cf(Ce.min(),o,new bt(ze),rs(),$e())}}class Su{constructor(e,n,s,o,u){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new Su(s,n,$e(),$e(),$e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wh{constructor(e,n,s,o){this.be=e,this.removedTargetIds=n,this.key=s,this.De=o}}class Ww{constructor(e,n){this.targetId=e,this.Ce=n}}class Zw{constructor(e,n,s=Qt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=o}}class sE{constructor(){this.ve=0,this.Fe=aE(),this.Me=Qt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=$e(),n=$e(),s=$e();return this.Fe.forEach(((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:Ie(38017,{changeType:u})}})),new Su(this.Me,this.xe,e,n,s)}qe(){this.Oe=!1,this.Fe=aE()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,ft(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class qN{constructor(e){this.Ge=e,this.ze=new Map,this.je=rs(),this.Je=sh(),this.He=sh(),this.Ye=new bt(ze)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const s=this.nt(n);switch(e.state){case 0:this.rt(n)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(e.resumeToken));break;default:Ie(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((s,o)=>{this.rt(o)&&n(o)}))}st(e){const n=e.targetId,s=e.Ce.count,o=this.ot(n);if(o){const u=o.target;if(op(u))if(s===0){const f=new Ae(u.path);this.et(n,f,tn.newNoDocument(f,Ce.min()))}else ft(s===1,20013,{expectedCount:s});else{const f=this._t(n);if(f!==s){const m=this.ut(e),p=m?this.ct(m,e,f):1;if(p!==0){this.it(n);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,g)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=n;let f,m;try{f=ts(s).toUint8Array()}catch(p){if(p instanceof Rw)return po("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new ig(f,o,u)}catch(p){return po(p instanceof Wl?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.ge===0?null:m}ct(e,n,s){return n.Ce.count===s-this.Pt(e,n.targetId)?0:2}Pt(e,n){const s=this.Ge.getRemoteKeysForTarget(n);let o=0;return s.forEach((u=>{const f=this.Ge.ht(),m=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;e.mightContain(m)||(this.et(n,u,null),o++)})),o}Tt(e){const n=new Map;this.ze.forEach(((u,f)=>{const m=this.ot(f);if(m){if(u.current&&op(m.target)){const p=new Ae(m.target.path);this.It(p).has(f)||this.Et(f,p)||this.et(f,p,tn.newNoDocument(p,e))}u.Be&&(n.set(f,u.ke()),u.qe())}}));let s=$e();this.He.forEach(((u,f)=>{let m=!0;f.forEachWhile((p=>{const g=this.ot(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)})),m&&(s=s.add(u))})),this.je.forEach(((u,f)=>f.setReadTime(e)));const o=new cf(e,n,this.Ye,this.je,s);return this.je=rs(),this.Je=sh(),this.He=sh(),this.Ye=new bt(ze),o}Xe(e,n){if(!this.rt(e))return;const s=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,s),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,s){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,n)?o.Qe(n,1):o.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),s&&(this.je=this.je.insert(n,s))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new sE,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Pt(ze),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Pt(ze),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||pe("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new sE),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function sh(){return new bt(Ae.comparator)}function aE(){return new bt(Ae.comparator)}const HN={asc:"ASCENDING",desc:"DESCENDING"},FN={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},GN={and:"AND",or:"OR"};class $N{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function hp(r,e){return r.useProto3Json||rf(e)?e:{value:e}}function fp(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Jw(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function uo(r){return ft(!!r,49232),Ce.fromTimestamp((function(n){const s=es(n);return new ut(s.seconds,s.nanos)})(r))}function eT(r,e){return dp(r,e).canonicalString()}function dp(r,e){const n=(function(o){return new lt(["projects",o.projectId,"databases",o.database])})(r).child("documents");return e===void 0?n:n.child(e)}function tT(r){const e=lt.fromString(r);return ft(aT(e),10190,{key:e.toString()}),e}function Pm(r,e){const n=tT(e);if(n.get(1)!==r.databaseId.projectId)throw new ge(ue.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new ge(ue.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new Ae(rT(n))}function nT(r,e){return eT(r.databaseId,e)}function KN(r){const e=tT(r);return e.length===4?lt.emptyPath():rT(e)}function oE(r){return new lt(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function rT(r){return ft(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function YN(r,e){let n;if("targetChange"in e){e.targetChange;const s=(function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:Ie(39313,{state:g})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=(function(g,_){return g.useProto3Json?(ft(_===void 0||typeof _=="string",58123),Qt.fromBase64String(_||"")):(ft(_===void 0||_ instanceof Buffer||_ instanceof Uint8Array,16193),Qt.fromUint8Array(_||new Uint8Array))})(r,e.targetChange.resumeToken),f=e.targetChange.cause,m=f&&(function(g){const _=g.code===void 0?ue.UNKNOWN:Xw(g.code);return new ge(_,g.message||"")})(f);n=new Zw(s,o,u,m||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=Pm(r,s.document.name),u=uo(s.document.updateTime),f=s.document.createTime?uo(s.document.createTime):Ce.min(),m=new _r({mapValue:{fields:s.document.fields}}),p=tn.newFoundDocument(o,u,f,m),g=s.targetIds||[],_=s.removedTargetIds||[];n=new wh(g,_,p.key,p)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=Pm(r,s.document),u=s.readTime?uo(s.readTime):Ce.min(),f=tn.newNoDocument(o,u),m=s.removedTargetIds||[];n=new wh([],m,f.key,f)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=Pm(r,s.document),u=s.removedTargetIds||[];n=new wh([],u,o,null)}else{if(!("filter"in e))return Ie(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,f=new jN(o,u),m=s.targetId;n=new Ww(m,f)}}return n}function QN(r,e){return{documents:[nT(r,e.path)]}}function XN(r,e){const n={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=nT(r,o);const u=(function(g){if(g.length!==0)return sT(er.create(g,"and"))})(e.filters);u&&(n.structuredQuery.where=u);const f=(function(g){if(g.length!==0)return g.map((_=>(function(R){return{field:no(R.field),direction:JN(R.dir)}})(_)))})(e.orderBy);f&&(n.structuredQuery.orderBy=f);const m=hp(r,e.limit);return m!==null&&(n.structuredQuery.limit=m),e.startAt&&(n.structuredQuery.startAt=(function(g){return{before:g.inclusive,values:g.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(g){return{before:!g.inclusive,values:g.position}})(e.endAt)),{ft:n,parent:o}}function WN(r){let e=KN(r.parent);const n=r.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){ft(s===1,65062);const _=n.from[0];_.allDescendants?o=_.collectionId:e=e.child(_.collectionId)}let u=[];n.where&&(u=(function(T){const R=iT(T);return R instanceof er&&Pw(R)?R.getFilters():[R]})(n.where));let f=[];n.orderBy&&(f=(function(T){return T.map((R=>(function(z){return new mu(ro(z.field),(function(N){switch(N){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(z.direction))})(R)))})(n.orderBy));let m=null;n.limit&&(m=(function(T){let R;return R=typeof T=="object"?T.value:T,rf(R)?null:R})(n.limit));let p=null;n.startAt&&(p=(function(T){const R=!!T.before,U=T.values||[];return new jh(U,R)})(n.startAt));let g=null;return n.endAt&&(g=(function(T){const R=!T.before,U=T.values||[];return new jh(U,R)})(n.endAt)),bN(e,o,f,u,m,"F",p,g)}function ZN(r,e){const n=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ie(28987,{purpose:o})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function iT(r){return r.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=ro(n.unaryFilter.field);return xt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=ro(n.unaryFilter.field);return xt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=ro(n.unaryFilter.field);return xt.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=ro(n.unaryFilter.field);return xt.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ie(61313);default:return Ie(60726)}})(r):r.fieldFilter!==void 0?(function(n){return xt.create(ro(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ie(58110);default:return Ie(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(n){return er.create(n.compositeFilter.filters.map((s=>iT(s))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Ie(1026)}})(n.compositeFilter.op))})(r):Ie(30097,{filter:r})}function JN(r){return HN[r]}function eO(r){return FN[r]}function tO(r){return GN[r]}function no(r){return{fieldPath:r.canonicalString()}}function ro(r){return nn.fromServerFormat(r.fieldPath)}function sT(r){return r instanceof xt?(function(n){if(n.op==="=="){if(Y0(n.value))return{unaryFilter:{field:no(n.field),op:"IS_NAN"}};if(K0(n.value))return{unaryFilter:{field:no(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Y0(n.value))return{unaryFilter:{field:no(n.field),op:"IS_NOT_NAN"}};if(K0(n.value))return{unaryFilter:{field:no(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:no(n.field),op:eO(n.op),value:n.value}}})(r):r instanceof er?(function(n){const s=n.getFilters().map((o=>sT(o)));return s.length===1?s[0]:{compositeFilter:{op:tO(n.op),filters:s}}})(r):Ie(54877,{filter:r})}function aT(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $i{constructor(e,n,s,o,u=Ce.min(),f=Ce.min(),m=Qt.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(e){return new $i(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new $i(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new $i(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new $i(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nO{constructor(e){this.yt=e}}function rO(r){const e=WN({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?zh(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iO{constructor(){this.Cn=new sO}addToCollectionParentIndex(e,n){return this.Cn.add(n),ie.resolve()}getCollectionParents(e,n){return ie.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return ie.resolve()}deleteFieldIndex(e,n){return ie.resolve()}deleteAllFieldIndexes(e){return ie.resolve()}createTargetIndexes(e,n){return ie.resolve()}getDocumentsMatchingTarget(e,n){return ie.resolve(null)}getIndexType(e,n){return ie.resolve(0)}getFieldIndexes(e,n){return ie.resolve([])}getNextCollectionGroupToUpdate(e){return ie.resolve(null)}getMinOffset(e,n){return ie.resolve(Ji.min())}getMinOffsetFromCollectionGroup(e,n){return ie.resolve(Ji.min())}updateCollectionGroup(e,n,s){return ie.resolve()}updateIndexEntries(e,n){return ie.resolve()}}class sO{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n]||new Pt(lt.comparator),u=!o.has(s);return this.index[n]=o.add(s),u}has(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(e){return(this.index[e]||new Pt(lt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},oT=41943040;class mn{static withCacheSize(e){return new mn(e,mn.DEFAULT_COLLECTION_PERCENTILE,mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */mn.DEFAULT_COLLECTION_PERCENTILE=10,mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,mn.DEFAULT=new mn(oT,mn.DEFAULT_COLLECTION_PERCENTILE,mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),mn.DISABLED=new mn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _o{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new _o(0)}static cr(){return new _o(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uE="LruGarbageCollector",aO=1048576;function cE([r,e],[n,s]){const o=ze(r,n);return o===0?ze(e,s):o}class oO{constructor(e){this.Ir=e,this.buffer=new Pt(cE),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();cE(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class lO{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){pe(uE,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Co(n)?pe(uE,"Ignoring IndexedDB error during garbage collection: ",n):await tf(n)}await this.Vr(3e5)}))}}class uO{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((s=>Math.floor(n/100*s)))}nthSequenceNumber(e,n){if(n===0)return ie.resolve(nf.ce);const s=new oO(n);return this.mr.forEachTarget(e,(o=>s.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>s.Ar(o))))).next((()=>s.maxValue))}removeTargets(e,n,s){return this.mr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(pe("LruGarbageCollector","Garbage collection skipped; disabled"),ie.resolve(lE)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(pe("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),lE):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let s,o,u,f,m,p,g;const _=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((T=>(T>this.params.maximumSequenceNumbersToCollect?(pe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${T}`),o=this.params.maximumSequenceNumbersToCollect):o=T,f=Date.now(),this.nthSequenceNumber(e,o)))).next((T=>(s=T,m=Date.now(),this.removeTargets(e,s,n)))).next((T=>(u=T,p=Date.now(),this.removeOrphanedDocuments(e,s)))).next((T=>(g=Date.now(),eo()<=je.DEBUG&&pe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-_}ms
	Determined least recently used ${o} in `+(m-f)+`ms
	Removed ${u} targets in `+(p-m)+`ms
	Removed ${T} documents in `+(g-p)+`ms
Total Duration: ${g-_}ms`),ie.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:T}))))}}function cO(r,e){return new uO(r,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hO{constructor(){this.changes=new aa((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,tn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?ie.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fO{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dO{constructor(e,n,s,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next((o=>(s=o,this.remoteDocumentCache.getEntry(e,n)))).next((o=>(s!==null&&su(s.mutation,o,Gi.empty(),ut.now()),o)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.getLocalViewOfDocuments(e,s,$e()).next((()=>s))))}getLocalViewOfDocuments(e,n,s=$e()){const o=Qs();return this.populateOverlays(e,o,n).next((()=>this.computeViews(e,n,o,s).next((u=>{let f=Xl();return u.forEach(((m,p)=>{f=f.insert(m,p.overlayedDocument)})),f}))))}getOverlayedDocuments(e,n){const s=Qs();return this.populateOverlays(e,s,n).next((()=>this.computeViews(e,n,s,$e())))}populateOverlays(e,n,s){const o=[];return s.forEach((u=>{n.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(e,o).next((u=>{u.forEach(((f,m)=>{n.set(f,m)}))}))}computeViews(e,n,s,o){let u=rs();const f=iu(),m=(function(){return iu()})();return n.forEach(((p,g)=>{const _=s.get(g.key);o.has(g.key)&&(_===void 0||_.mutation instanceof uf)?u=u.insert(g.key,g):_!==void 0?(f.set(g.key,_.mutation.getFieldMask()),su(_.mutation,g,_.mutation.getFieldMask(),ut.now())):f.set(g.key,Gi.empty())})),this.recalculateAndSaveOverlays(e,u).next((p=>(p.forEach(((g,_)=>f.set(g,_))),n.forEach(((g,_)=>m.set(g,new fO(_,f.get(g)??null)))),m)))}recalculateAndSaveOverlays(e,n){const s=iu();let o=new bt(((f,m)=>f-m)),u=$e();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((f=>{for(const m of f)m.keys().forEach((p=>{const g=n.get(p);if(g===null)return;let _=s.get(p)||Gi.empty();_=m.applyToLocalView(g,_),s.set(p,_);const T=(o.get(m.batchId)||$e()).add(p);o=o.insert(m.batchId,T)}))})).next((()=>{const f=[],m=o.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),g=p.key,_=p.value,T=Hw();_.forEach((R=>{if(!u.has(R)){const U=Yw(n.get(R),s.get(R));U!==null&&T.set(R,U),u=u.add(R)}})),f.push(this.documentOverlayCache.saveOverlays(e,g,T))}return ie.waitFor(f)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,n,s,o){return(function(f){return Ae.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):jw(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,o):this.getDocumentsMatchingCollectionQuery(e,n,s,o)}getNextDocuments(e,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,o).next((u=>{const f=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,o-u.size):ie.resolve(Qs());let m=cu,p=u;return f.next((g=>ie.forEach(g,((_,T)=>(m<T.largestBatchId&&(m=T.largestBatchId),u.get(_)?ie.resolve():this.remoteDocumentCache.getEntry(e,_).next((R=>{p=p.insert(_,R)}))))).next((()=>this.populateOverlays(e,g,u))).next((()=>this.computeViews(e,p,g,$e()))).next((_=>({batchId:m,changes:RN(_)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Ae(n)).next((s=>{let o=Xl();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o}))}getDocumentsMatchingCollectionGroupQuery(e,n,s,o){const u=n.collectionGroup;let f=Xl();return this.indexManager.getCollectionParents(e,u).next((m=>ie.forEach(m,(p=>{const g=(function(T,R){return new No(R,null,T.explicitOrderBy.slice(),T.filters.slice(),T.limit,T.limitType,T.startAt,T.endAt)})(n,p.child(u));return this.getDocumentsMatchingCollectionQuery(e,g,s,o).next((_=>{_.forEach(((T,R)=>{f=f.insert(T,R)}))}))})).next((()=>f))))}getDocumentsMatchingCollectionQuery(e,n,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next((f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,u,o)))).next((f=>{u.forEach(((p,g)=>{const _=g.getKey();f.get(_)===null&&(f=f.insert(_,tn.newInvalidDocument(_)))}));let m=Xl();return f.forEach(((p,g)=>{const _=u.get(p);_!==void 0&&su(_.mutation,g,Gi.empty(),ut.now()),of(n,g)&&(m=m.insert(p,g))})),m}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mO{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return ie.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:uo(o.createTime)}})(n)),ie.resolve()}getNamedQuery(e,n){return ie.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(o){return{name:o.name,query:rO(o.bundledQuery),readTime:uo(o.readTime)}})(n)),ie.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pO{constructor(){this.overlays=new bt(Ae.comparator),this.qr=new Map}getOverlay(e,n){return ie.resolve(this.overlays.get(n))}getOverlays(e,n){const s=Qs();return ie.forEach(n,(o=>this.getOverlay(e,o).next((u=>{u!==null&&s.set(o,u)})))).next((()=>s))}saveOverlays(e,n,s){return s.forEach(((o,u)=>{this.St(e,n,u)})),ie.resolve()}removeOverlaysForBatchId(e,n,s){const o=this.qr.get(s);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.qr.delete(s)),ie.resolve()}getOverlaysForCollection(e,n,s){const o=Qs(),u=n.length+1,f=new Ae(n.child("")),m=this.overlays.getIteratorFrom(f);for(;m.hasNext();){const p=m.getNext().value,g=p.getKey();if(!n.isPrefixOf(g.path))break;g.path.length===u&&p.largestBatchId>s&&o.set(p.getKey(),p)}return ie.resolve(o)}getOverlaysForCollectionGroup(e,n,s,o){let u=new bt(((g,_)=>g-_));const f=this.overlays.getIterator();for(;f.hasNext();){const g=f.getNext().value;if(g.getKey().getCollectionGroup()===n&&g.largestBatchId>s){let _=u.get(g.largestBatchId);_===null&&(_=Qs(),u=u.insert(g.largestBatchId,_)),_.set(g.getKey(),g)}}const m=Qs(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((g,_)=>m.set(g,_))),!(m.size()>=o)););return ie.resolve(m)}St(e,n,s){const o=this.overlays.get(s.key);if(o!==null){const f=this.qr.get(o.largestBatchId).delete(s.key);this.qr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new UN(n,s));let u=this.qr.get(n);u===void 0&&(u=$e(),this.qr.set(n,u)),this.qr.set(n,u.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gO{constructor(){this.sessionToken=Qt.EMPTY_BYTE_STRING}getSessionToken(e){return ie.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ie.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sg{constructor(){this.Qr=new Pt(Bt.$r),this.Ur=new Pt(Bt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const s=new Bt(e,n);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,n){e.forEach((s=>this.addReference(s,n)))}removeReference(e,n){this.Gr(new Bt(e,n))}zr(e,n){e.forEach((s=>this.removeReference(s,n)))}jr(e){const n=new Ae(new lt([])),s=new Bt(n,e),o=new Bt(n,e+1),u=[];return this.Ur.forEachInRange([s,o],(f=>{this.Gr(f),u.push(f.key)})),u}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new Ae(new lt([])),s=new Bt(n,e),o=new Bt(n,e+1);let u=$e();return this.Ur.forEachInRange([s,o],(f=>{u=u.add(f.key)})),u}containsKey(e){const n=new Bt(e,0),s=this.Qr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class Bt{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return Ae.comparator(e.key,n.key)||ze(e.Yr,n.Yr)}static Kr(e,n){return ze(e.Yr,n.Yr)||Ae.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yO{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Pt(Bt.$r)}checkEmpty(e){return ie.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,o){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new LN(u,n,s,o);this.mutationQueue.push(f);for(const m of o)this.Zr=this.Zr.add(new Bt(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return ie.resolve(f)}lookupMutationBatch(e,n){return ie.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,o=this.ei(s),u=o<0?0:o;return ie.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return ie.resolve(this.mutationQueue.length===0?nN:this.tr-1)}getAllMutationBatches(e){return ie.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new Bt(n,0),o=new Bt(n,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([s,o],(f=>{const m=this.Xr(f.Yr);u.push(m)})),ie.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new Pt(ze);return n.forEach((o=>{const u=new Bt(o,0),f=new Bt(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,f],(m=>{s=s.add(m.Yr)}))})),ie.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,o=s.length+1;let u=s;Ae.isDocumentKey(u)||(u=u.child(""));const f=new Bt(new Ae(u),0);let m=new Pt(ze);return this.Zr.forEachWhile((p=>{const g=p.key.path;return!!s.isPrefixOf(g)&&(g.length===o&&(m=m.add(p.Yr)),!0)}),f),ie.resolve(this.ti(m))}ti(e){const n=[];return e.forEach((s=>{const o=this.Xr(s);o!==null&&n.push(o)})),n}removeMutationBatch(e,n){ft(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return ie.forEach(n.mutations,(o=>{const u=new Bt(o.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=s}))}ir(e){}containsKey(e,n){const s=new Bt(n,0),o=this.Zr.firstAfterOrEqual(s);return ie.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,ie.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vO{constructor(e){this.ri=e,this.docs=(function(){return new bt(Ae.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,o=this.docs.get(s),u=o?o.size:0,f=this.ri(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return ie.resolve(s?s.document.mutableCopy():tn.newInvalidDocument(n))}getEntries(e,n){let s=rs();return n.forEach((o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():tn.newInvalidDocument(o))})),ie.resolve(s)}getDocumentsMatchingQuery(e,n,s,o){let u=rs();const f=n.path,m=new Ae(f.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:g,value:{document:_}}=p.getNext();if(!f.isPrefixOf(g.path))break;g.path.length>f.length+1||ZI(WI(_),s)<=0||(o.has(_.key)||of(n,_))&&(u=u.insert(_.key,_.mutableCopy()))}return ie.resolve(u)}getAllFromCollectionGroup(e,n,s,o){Ie(9500)}ii(e,n){return ie.forEach(this.docs,(s=>n(s)))}newChangeBuffer(e){return new _O(this)}getSize(e){return ie.resolve(this.size)}}class _O extends hO{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((s,o)=>{o.isValidDocument()?n.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(s)})),ie.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EO{constructor(e){this.persistence=e,this.si=new aa((n=>Zp(n)),Jp),this.lastRemoteSnapshotVersion=Ce.min(),this.highestTargetId=0,this.oi=0,this._i=new sg,this.targetCount=0,this.ai=_o.ur()}forEachTarget(e,n){return this.si.forEach(((s,o)=>n(o))),ie.resolve()}getLastRemoteSnapshotVersion(e){return ie.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ie.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),ie.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.oi&&(this.oi=n),ie.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new _o(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,ie.resolve()}updateTargetData(e,n){return this.Pr(n),ie.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,ie.resolve()}removeTargets(e,n,s){let o=0;const u=[];return this.si.forEach(((f,m)=>{m.sequenceNumber<=n&&s.get(m.targetId)===null&&(this.si.delete(f),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)})),ie.waitFor(u).next((()=>o))}getTargetCount(e){return ie.resolve(this.targetCount)}getTargetData(e,n){const s=this.si.get(n)||null;return ie.resolve(s)}addMatchingKeys(e,n,s){return this._i.Wr(n,s),ie.resolve()}removeMatchingKeys(e,n,s){this._i.zr(n,s);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach((f=>{u.push(o.markPotentiallyOrphaned(e,f))})),ie.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),ie.resolve()}getMatchingKeysForTargetId(e,n){const s=this._i.Hr(n);return ie.resolve(s)}containsKey(e,n){return ie.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lT{constructor(e,n){this.ui={},this.overlays={},this.ci=new nf(0),this.li=!1,this.li=!0,this.hi=new gO,this.referenceDelegate=e(this),this.Pi=new EO(this),this.indexManager=new iO,this.remoteDocumentCache=(function(o){return new vO(o)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new nO(n),this.Ii=new mO(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new pO,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.ui[e.toKey()];return s||(s=new yO(n,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,s){pe("MemoryPersistence","Starting transaction:",e);const o=new bO(this.ci.next());return this.referenceDelegate.Ei(),s(o).next((u=>this.referenceDelegate.di(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ai(e,n){return ie.or(Object.values(this.ui).map((s=>()=>s.containsKey(e,n))))}}class bO extends eN{constructor(e){super(),this.currentSequenceNumber=e}}class ag{constructor(e){this.persistence=e,this.Ri=new sg,this.Vi=null}static mi(e){return new ag(e)}get fi(){if(this.Vi)return this.Vi;throw Ie(60996)}addReference(e,n,s){return this.Ri.addReference(s,n),this.fi.delete(s.toString()),ie.resolve()}removeReference(e,n,s){return this.Ri.removeReference(s,n),this.fi.add(s.toString()),ie.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),ie.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((o=>this.fi.add(o.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next((o=>{o.forEach((u=>this.fi.add(u.toString())))})).next((()=>s.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ie.forEach(this.fi,(s=>{const o=Ae.fromPath(s);return this.gi(e,o).next((u=>{u||n.removeEntry(o,Ce.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((s=>{s?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return ie.or([()=>ie.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Hh{constructor(e,n){this.persistence=e,this.pi=new aa((s=>iN(s.path)),((s,o)=>s.isEqual(o))),this.garbageCollector=cO(this,n)}static mi(e,n){return new Hh(e,n)}Ei(){}di(e){return ie.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>n.next((o=>s+o))))}wr(e){let n=0;return this.pr(e,(s=>{n++})).next((()=>n))}pr(e,n){return ie.forEach(this.pi,((s,o)=>this.br(e,s,o).next((u=>u?ie.resolve():n(o)))))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ii(e,(f=>this.br(e,f,n).next((m=>{m||(s++,u.removeEntry(f,Ce.min()))})))).next((()=>u.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),ie.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),ie.resolve()}removeReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),ie.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),ie.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Eh(e.data.value)),n}br(e,n,s){return ie.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.pi.get(n);return ie.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class og{constructor(e,n,s,o){this.targetId=e,this.fromCache=n,this.Es=s,this.ds=o}static As(e,n){let s=$e(),o=$e();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new og(e,n.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wO{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TO{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return SR()?8:tN(sn())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,s,o){const u={result:null};return this.ys(e,n).next((f=>{u.result=f})).next((()=>{if(!u.result)return this.ws(e,n,o,s).next((f=>{u.result=f}))})).next((()=>{if(u.result)return;const f=new wO;return this.Ss(e,n,f).next((m=>{if(u.result=m,this.Vs)return this.bs(e,n,f,m.size)}))})).next((()=>u.result))}bs(e,n,s,o){return s.documentReadCount<this.fs?(eo()<=je.DEBUG&&pe("QueryEngine","SDK will not create cache indexes for query:",to(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),ie.resolve()):(eo()<=je.DEBUG&&pe("QueryEngine","Query:",to(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.gs*o?(eo()<=je.DEBUG&&pe("QueryEngine","The SDK decides to create cache indexes for query:",to(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,wr(n))):ie.resolve())}ys(e,n){if(Z0(n))return ie.resolve(null);let s=wr(n);return this.indexManager.getIndexType(e,s).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=zh(n,null,"F"),s=wr(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next((u=>{const f=$e(...u);return this.ps.getDocuments(e,f).next((m=>this.indexManager.getMinOffset(e,s).next((p=>{const g=this.Ds(n,m);return this.Cs(n,g,f,p.readTime)?this.ys(e,zh(n,null,"F")):this.vs(e,g,n,p)}))))})))))}ws(e,n,s,o){return Z0(n)||o.isEqual(Ce.min())?ie.resolve(null):this.ps.getDocuments(e,s).next((u=>{const f=this.Ds(n,u);return this.Cs(n,f,s,o)?ie.resolve(null):(eo()<=je.DEBUG&&pe("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),to(n)),this.vs(e,f,n,XI(o,cu)).next((m=>m)))}))}Ds(e,n){let s=new Pt(Bw(e));return n.forEach(((o,u)=>{of(e,u)&&(s=s.add(u))})),s}Cs(e,n,s,o){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Ss(e,n,s){return eo()<=je.DEBUG&&pe("QueryEngine","Using full collection scan to execute query:",to(n)),this.ps.getDocumentsMatchingQuery(e,n,Ji.min(),s)}vs(e,n,s,o){return this.ps.getDocumentsMatchingQuery(e,s,o).next((u=>(n.forEach((f=>{u=u.insert(f.key,f)})),u)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lg="LocalStore",AO=3e8;class SO{constructor(e,n,s,o){this.persistence=e,this.Fs=n,this.serializer=o,this.Ms=new bt(ze),this.xs=new aa((u=>Zp(u)),Jp),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new dO(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function RO(r,e,n,s){return new SO(r,e,n,s)}async function uT(r,e){const n=Ge(r);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next((u=>(o=u,n.Bs(e),n.mutationQueue.getAllMutationBatches(s)))).next((u=>{const f=[],m=[];let p=$e();for(const g of o){f.push(g.batchId);for(const _ of g.mutations)p=p.add(_.key)}for(const g of u){m.push(g.batchId);for(const _ of g.mutations)p=p.add(_.key)}return n.localDocuments.getDocuments(s,p).next((g=>({Ls:g,removedBatchIds:f,addedBatchIds:m})))}))}))}function cT(r){const e=Ge(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function xO(r,e){const n=Ge(r),s=e.snapshotVersion;let o=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const f=n.Ns.newChangeBuffer({trackRemovals:!0});o=n.Ms;const m=[];e.targetChanges.forEach(((_,T)=>{const R=o.get(T);if(!R)return;m.push(n.Pi.removeMatchingKeys(u,_.removedDocuments,T).next((()=>n.Pi.addMatchingKeys(u,_.addedDocuments,T))));let U=R.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(T)!==null?U=U.withResumeToken(Qt.EMPTY_BYTE_STRING,Ce.min()).withLastLimboFreeSnapshotVersion(Ce.min()):_.resumeToken.approximateByteSize()>0&&(U=U.withResumeToken(_.resumeToken,s)),o=o.insert(T,U),(function(K,N,X){return K.resumeToken.approximateByteSize()===0||N.snapshotVersion.toMicroseconds()-K.snapshotVersion.toMicroseconds()>=AO?!0:X.addedDocuments.size+X.modifiedDocuments.size+X.removedDocuments.size>0})(R,U,_)&&m.push(n.Pi.updateTargetData(u,U))}));let p=rs(),g=$e();if(e.documentUpdates.forEach((_=>{e.resolvedLimboDocuments.has(_)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,_))})),m.push(CO(u,f,e.documentUpdates).next((_=>{p=_.ks,g=_.qs}))),!s.isEqual(Ce.min())){const _=n.Pi.getLastRemoteSnapshotVersion(u).next((T=>n.Pi.setTargetsMetadata(u,u.currentSequenceNumber,s)));m.push(_)}return ie.waitFor(m).next((()=>f.apply(u))).next((()=>n.localDocuments.getLocalViewOfDocuments(u,p,g))).next((()=>p))})).then((u=>(n.Ms=o,u)))}function CO(r,e,n){let s=$e(),o=$e();return n.forEach((u=>s=s.add(u))),e.getEntries(r,s).next((u=>{let f=rs();return n.forEach(((m,p)=>{const g=u.get(m);p.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(m)),p.isNoDocument()&&p.version.isEqual(Ce.min())?(e.removeEntry(m,p.readTime),f=f.insert(m,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(p),f=f.insert(m,p)):pe(lg,"Ignoring outdated watch update for ",m,". Current version:",g.version," Watch version:",p.version)})),{ks:f,qs:o}}))}function IO(r,e){const n=Ge(r);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let o;return n.Pi.getTargetData(s,e).next((u=>u?(o=u,ie.resolve(o)):n.Pi.allocateTargetId(s).next((f=>(o=new $i(e,f,"TargetPurposeListen",s.currentSequenceNumber),n.Pi.addTargetData(s,o).next((()=>o)))))))})).then((s=>{const o=n.Ms.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(s.targetId,s),n.xs.set(e,s.targetId)),s}))}async function mp(r,e,n){const s=Ge(r),o=s.Ms.get(e),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,(f=>s.persistence.referenceDelegate.removeTarget(f,o)))}catch(f){if(!Co(f))throw f;pe(lg,`Failed to update sequence numbers for target ${e}: ${f}`)}s.Ms=s.Ms.remove(e),s.xs.delete(o.target)}function hE(r,e,n){const s=Ge(r);let o=Ce.min(),u=$e();return s.persistence.runTransaction("Execute query","readwrite",(f=>(function(p,g,_){const T=Ge(p),R=T.xs.get(_);return R!==void 0?ie.resolve(T.Ms.get(R)):T.Pi.getTargetData(g,_)})(s,f,wr(e)).next((m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(f,m.targetId).next((p=>{u=p}))})).next((()=>s.Fs.getDocumentsMatchingQuery(f,e,n?o:Ce.min(),n?u:$e()))).next((m=>(NO(s,TN(e),m),{documents:m,Qs:u})))))}function NO(r,e,n){let s=r.Os.get(e)||Ce.min();n.forEach(((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)})),r.Os.set(e,s)}class fE{constructor(){this.activeTargetIds=IN()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class OO{constructor(){this.Mo=new fE,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,s){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new fE,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DO{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dE="ConnectivityMonitor";class mE{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){pe(dE,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){pe(dE,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ah=null;function pp(){return ah===null?ah=(function(){return 268435456+Math.round(2147483648*Math.random())})():ah++,"0x"+ah.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vm="RestConnection",kO={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class MO{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${s}/databases/${o}`,this.Wo=this.databaseId.database===Lh?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Go(e,n,s,o,u){const f=pp(),m=this.zo(e,n.toUriEncodedString());pe(Vm,`Sending RPC '${e}' ${f}:`,m,s);const p={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(p,o,u);const{host:g}=new URL(m),_=ia(g);return this.Jo(e,m,p,s,_).then((T=>(pe(Vm,`Received RPC '${e}' ${f}: `,T),T)),(T=>{throw po(Vm,`RPC '${e}' ${f} failed with error: `,T,"url: ",m,"request:",s),T}))}Ho(e,n,s,o,u,f){return this.Go(e,n,s,o,u)}jo(e,n,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+xo})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((o,u)=>e[u]=o)),s&&s.headers.forEach(((o,u)=>e[u]=o))}zo(e,n){const s=kO[e];return`${this.Uo}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PO{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jt="WebChannelConnection";class VO extends MO{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,s,o,u){const f=pp();return new Promise(((m,p)=>{const g=new pw;g.setWithCredentials(!0),g.listenOnce(gw.COMPLETE,(()=>{try{switch(g.getLastErrorCode()){case vh.NO_ERROR:const T=g.getResponseJson();pe(Jt,`XHR for RPC '${e}' ${f} received:`,JSON.stringify(T)),m(T);break;case vh.TIMEOUT:pe(Jt,`RPC '${e}' ${f} timed out`),p(new ge(ue.DEADLINE_EXCEEDED,"Request time out"));break;case vh.HTTP_ERROR:const R=g.getStatus();if(pe(Jt,`RPC '${e}' ${f} failed with status:`,R,"response text:",g.getResponseText()),R>0){let U=g.getResponseJson();Array.isArray(U)&&(U=U[0]);const z=U?.error;if(z&&z.status&&z.message){const K=(function(X){const Q=X.toLowerCase().replace(/_/g,"-");return Object.values(ue).indexOf(Q)>=0?Q:ue.UNKNOWN})(z.status);p(new ge(K,z.message))}else p(new ge(ue.UNKNOWN,"Server responded with status "+g.getStatus()))}else p(new ge(ue.UNAVAILABLE,"Connection failed."));break;default:Ie(9055,{l_:e,streamId:f,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{pe(Jt,`RPC '${e}' ${f} completed.`)}}));const _=JSON.stringify(o);pe(Jt,`RPC '${e}' ${f} sending request:`,o),g.send(n,"POST",_,s,15)}))}T_(e,n,s){const o=pp(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=_w(),m=vw(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.jo(p.initMessageHeaders,n,s),p.encodeInitMessageHeaders=!0;const _=u.join("");pe(Jt,`Creating RPC '${e}' stream ${o}: ${_}`,p);const T=f.createWebChannel(_,p);this.I_(T);let R=!1,U=!1;const z=new PO({Yo:N=>{U?pe(Jt,`Not sending because RPC '${e}' stream ${o} is closed:`,N):(R||(pe(Jt,`Opening RPC '${e}' stream ${o} transport.`),T.open(),R=!0),pe(Jt,`RPC '${e}' stream ${o} sending:`,N),T.send(N))},Zo:()=>T.close()}),K=(N,X,Q)=>{N.listen(X,(re=>{try{Q(re)}catch(de){setTimeout((()=>{throw de}),0)}}))};return K(T,Ql.EventType.OPEN,(()=>{U||(pe(Jt,`RPC '${e}' stream ${o} transport opened.`),z.o_())})),K(T,Ql.EventType.CLOSE,(()=>{U||(U=!0,pe(Jt,`RPC '${e}' stream ${o} transport closed`),z.a_(),this.E_(T))})),K(T,Ql.EventType.ERROR,(N=>{U||(U=!0,po(Jt,`RPC '${e}' stream ${o} transport errored. Name:`,N.name,"Message:",N.message),z.a_(new ge(ue.UNAVAILABLE,"The operation could not be completed")))})),K(T,Ql.EventType.MESSAGE,(N=>{if(!U){const X=N.data[0];ft(!!X,16349);const Q=X,re=Q?.error||Q[0]?.error;if(re){pe(Jt,`RPC '${e}' stream ${o} received error:`,re);const de=re.status;let ae=(function(S){const x=Rt[S];if(x!==void 0)return Xw(x)})(de),oe=re.message;ae===void 0&&(ae=ue.INTERNAL,oe="Unknown error status: "+de+" with message "+re.message),U=!0,z.a_(new ge(ae,oe)),T.close()}else pe(Jt,`RPC '${e}' stream ${o} received:`,X),z.u_(X)}})),K(m,yw.STAT_EVENT,(N=>{N.stat===np.PROXY?pe(Jt,`RPC '${e}' stream ${o} detected buffering proxy`):N.stat===np.NOPROXY&&pe(Jt,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{z.__()}),0),z}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function Lm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hf(r){return new $N(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hT{constructor(e,n,s=1e3,o=1.5,u=6e4){this.Mi=e,this.timerId=n,this.d_=s,this.A_=o,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-s);o>0&&pe("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pE="PersistentStream";class LO{constructor(e,n,s,o,u,f,m,p){this.Mi=e,this.S_=s,this.b_=o,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new hT(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===ue.RESOURCE_EXHAUSTED?(ci(n.toString()),ci("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===ue.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,o])=>{this.D_===n&&this.G_(s,o)}),(s=>{e((()=>{const o=new ge(ue.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)}))}))}G_(e,n){const s=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{s((()=>this.z_(o)))})),this.stream.onMessage((o=>{s((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return pe(pE,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(pe(pE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class UO extends LO{constructor(e,n,s,o,u,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=YN(this.serializer,e),s=(function(u){if(!("targetChange"in u))return Ce.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?Ce.min():f.readTime?uo(f.readTime):Ce.min()})(e);return this.listener.H_(n,s)}Y_(e){const n={};n.database=oE(this.serializer),n.addTarget=(function(u,f){let m;const p=f.target;if(m=op(p)?{documents:QN(u,p)}:{query:XN(u,p).ft},m.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){m.resumeToken=Jw(u,f.resumeToken);const g=hp(u,f.expectedCount);g!==null&&(m.expectedCount=g)}else if(f.snapshotVersion.compareTo(Ce.min())>0){m.readTime=fp(u,f.snapshotVersion.toTimestamp());const g=hp(u,f.expectedCount);g!==null&&(m.expectedCount=g)}return m})(this.serializer,e);const s=ZN(this.serializer,e);s&&(n.labels=s),this.q_(n)}Z_(e){const n={};n.database=oE(this.serializer),n.removeTarget=e,this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jO{}class zO extends jO{constructor(e,n,s,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new ge(ue.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,f])=>this.connection.Go(e,dp(n,s),o,u,f))).catch((u=>{throw u.name==="FirebaseError"?(u.code===ue.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ge(ue.UNKNOWN,u.toString())}))}Ho(e,n,s,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([f,m])=>this.connection.Ho(e,dp(n,s),o,f,m,u))).catch((f=>{throw f.name==="FirebaseError"?(f.code===ue.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new ge(ue.UNKNOWN,f.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class BO{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ci(n),this.aa=!1):pe("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eo="RemoteStore";class qO{constructor(e,n,s,o,u){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo((f=>{s.enqueueAndForget((async()=>{xu(this)&&(pe(Eo,"Restarting streams for network reachability change."),await(async function(p){const g=Ge(p);g.Ea.add(4),await Ru(g),g.Ra.set("Unknown"),g.Ea.delete(4),await ff(g)})(this))}))})),this.Ra=new BO(s,o)}}async function ff(r){if(xu(r))for(const e of r.da)await e(!0)}async function Ru(r){for(const e of r.da)await e(!1)}function fT(r,e){const n=Ge(r);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),fg(n)?hg(n):Oo(n).O_()&&cg(n,e))}function ug(r,e){const n=Ge(r),s=Oo(n);n.Ia.delete(e),s.O_()&&dT(n,e),n.Ia.size===0&&(s.O_()?s.L_():xu(n)&&n.Ra.set("Unknown"))}function cg(r,e){if(r.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ce.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Oo(r).Y_(e)}function dT(r,e){r.Va.Ue(e),Oo(r).Z_(e)}function hg(r){r.Va=new qN({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),At:e=>r.Ia.get(e)||null,ht:()=>r.datastore.serializer.databaseId}),Oo(r).start(),r.Ra.ua()}function fg(r){return xu(r)&&!Oo(r).x_()&&r.Ia.size>0}function xu(r){return Ge(r).Ea.size===0}function mT(r){r.Va=void 0}async function HO(r){r.Ra.set("Online")}async function FO(r){r.Ia.forEach(((e,n)=>{cg(r,e)}))}async function GO(r,e){mT(r),fg(r)?(r.Ra.ha(e),hg(r)):r.Ra.set("Unknown")}async function $O(r,e,n){if(r.Ra.set("Online"),e instanceof Zw&&e.state===2&&e.cause)try{await(async function(o,u){const f=u.cause;for(const m of u.targetIds)o.Ia.has(m)&&(await o.remoteSyncer.rejectListen(m,f),o.Ia.delete(m),o.Va.removeTarget(m))})(r,e)}catch(s){pe(Eo,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await gE(r,s)}else if(e instanceof wh?r.Va.Ze(e):e instanceof Ww?r.Va.st(e):r.Va.tt(e),!n.isEqual(Ce.min()))try{const s=await cT(r.localStore);n.compareTo(s)>=0&&await(function(u,f){const m=u.Va.Tt(f);return m.targetChanges.forEach(((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const _=u.Ia.get(g);_&&u.Ia.set(g,_.withResumeToken(p.resumeToken,f))}})),m.targetMismatches.forEach(((p,g)=>{const _=u.Ia.get(p);if(!_)return;u.Ia.set(p,_.withResumeToken(Qt.EMPTY_BYTE_STRING,_.snapshotVersion)),dT(u,p);const T=new $i(_.target,p,g,_.sequenceNumber);cg(u,T)})),u.remoteSyncer.applyRemoteEvent(m)})(r,n)}catch(s){pe(Eo,"Failed to raise snapshot:",s),await gE(r,s)}}async function gE(r,e,n){if(!Co(e))throw e;r.Ea.add(1),await Ru(r),r.Ra.set("Offline"),n||(n=()=>cT(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{pe(Eo,"Retrying IndexedDB access"),await n(),r.Ea.delete(1),await ff(r)}))}async function yE(r,e){const n=Ge(r);n.asyncQueue.verifyOperationInProgress(),pe(Eo,"RemoteStore received new credentials");const s=xu(n);n.Ea.add(3),await Ru(n),s&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await ff(n)}async function KO(r,e){const n=Ge(r);e?(n.Ea.delete(2),await ff(n)):e||(n.Ea.add(2),await Ru(n),n.Ra.set("Unknown"))}function Oo(r){return r.ma||(r.ma=(function(n,s,o){const u=Ge(n);return u.sa(),new UO(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(r.datastore,r.asyncQueue,{Xo:HO.bind(null,r),t_:FO.bind(null,r),r_:GO.bind(null,r),H_:$O.bind(null,r)}),r.da.push((async e=>{e?(r.ma.B_(),fg(r)?hg(r):r.Ra.set("Unknown")):(await r.ma.stop(),mT(r))}))),r.ma}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dg{constructor(e,n,s,o,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new lo,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((f=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,o,u){const f=Date.now()+s,m=new dg(e,n,f,o,u);return m.start(s),m}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ge(ue.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function pT(r,e){if(ci("AsyncQueue",`${e}: ${r}`),Co(r))return new ge(ue.UNAVAILABLE,`${e}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class co{static emptySet(e){return new co(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||Ae.comparator(n.key,s.key):(n,s)=>Ae.comparator(n.key,s.key),this.keyedMap=Xl(),this.sortedSet=new bt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,s)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof co)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new co;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vE{constructor(){this.ga=new bt(Ae.comparator)}track(e){const n=e.doc.key,s=this.ga.get(n);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(n,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(n):e.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Ie(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,s)=>{e.push(s)})),e}}class bo{constructor(e,n,s,o,u,f,m,p,g){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(e,n,s,o,u){const f=[];return n.forEach((m=>{f.push({type:0,doc:m})})),new bo(e,n,co.emptySet(n),f,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&af(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YO{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class QO{constructor(){this.queries=_E(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const o=Ge(n),u=o.queries;o.queries=_E(),u.forEach(((f,m)=>{for(const p of m.Sa)p.onError(s)}))})(this,new ge(ue.ABORTED,"Firestore shutting down"))}}function _E(){return new aa((r=>zw(r)),af)}async function XO(r,e){const n=Ge(r);let s=3;const o=e.query;let u=n.queries.get(o);u?!u.ba()&&e.Da()&&(s=2):(u=new YO,s=e.Da()?0:1);try{switch(s){case 0:u.wa=await n.onListen(o,!0);break;case 1:u.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(f){const m=pT(f,`Initialization of query '${to(e.query)}' failed`);return void e.onError(m)}n.queries.set(o,u),u.Sa.push(e),e.va(n.onlineState),u.wa&&e.Fa(u.wa)&&mg(n)}async function WO(r,e){const n=Ge(r),s=e.query;let o=3;const u=n.queries.get(s);if(u){const f=u.Sa.indexOf(e);f>=0&&(u.Sa.splice(f,1),u.Sa.length===0?o=e.Da()?0:1:!u.ba()&&e.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function ZO(r,e){const n=Ge(r);let s=!1;for(const o of e){const u=o.query,f=n.queries.get(u);if(f){for(const m of f.Sa)m.Fa(o)&&(s=!0);f.wa=o}}s&&mg(n)}function JO(r,e,n){const s=Ge(r),o=s.queries.get(e);if(o)for(const u of o.Sa)u.onError(n);s.queries.delete(e)}function mg(r){r.Ca.forEach((e=>{e.next()}))}var gp,EE;(EE=gp||(gp={})).Ma="default",EE.Cache="cache";class eD{constructor(e,n,s){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new bo(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=bo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==gp.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gT{constructor(e){this.key=e}}class yT{constructor(e){this.key=e}}class tD{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=$e(),this.mutatedKeys=$e(),this.eu=Bw(e),this.tu=new co(this.eu)}get nu(){return this.Ya}ru(e,n){const s=n?n.iu:new vE,o=n?n.tu:this.tu;let u=n?n.mutatedKeys:this.mutatedKeys,f=o,m=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((_,T)=>{const R=o.get(_),U=of(this.query,T)?T:null,z=!!R&&this.mutatedKeys.has(R.key),K=!!U&&(U.hasLocalMutations||this.mutatedKeys.has(U.key)&&U.hasCommittedMutations);let N=!1;R&&U?R.data.isEqual(U.data)?z!==K&&(s.track({type:3,doc:U}),N=!0):this.su(R,U)||(s.track({type:2,doc:U}),N=!0,(p&&this.eu(U,p)>0||g&&this.eu(U,g)<0)&&(m=!0)):!R&&U?(s.track({type:0,doc:U}),N=!0):R&&!U&&(s.track({type:1,doc:R}),N=!0,(p||g)&&(m=!0)),N&&(U?(f=f.add(U),u=K?u.add(_):u.delete(_)):(f=f.delete(_),u=u.delete(_)))})),this.query.limit!==null)for(;f.size>this.query.limit;){const _=this.query.limitType==="F"?f.last():f.first();f=f.delete(_.key),u=u.delete(_.key),s.track({type:1,doc:_})}return{tu:f,iu:s,Cs:m,mutatedKeys:u}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,o){const u=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const f=e.iu.ya();f.sort(((_,T)=>(function(U,z){const K=N=>{switch(N){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ie(20277,{Rt:N})}};return K(U)-K(z)})(_.type,T.type)||this.eu(_.doc,T.doc))),this.ou(s),o=o??!1;const m=n&&!o?this._u():[],p=this.Xa.size===0&&this.current&&!o?1:0,g=p!==this.Za;return this.Za=p,f.length!==0||g?{snapshot:new bo(this.query,e.tu,u,f,e.mutatedKeys,p===0,g,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:m}:{au:m}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new vE,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=$e(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const n=[];return e.forEach((s=>{this.Xa.has(s)||n.push(new yT(s))})),this.Xa.forEach((s=>{e.has(s)||n.push(new gT(s))})),n}cu(e){this.Ya=e.Qs,this.Xa=$e();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return bo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const pg="SyncEngine";class nD{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class rD{constructor(e){this.key=e,this.hu=!1}}class iD{constructor(e,n,s,o,u,f){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.Pu={},this.Tu=new aa((m=>zw(m)),af),this.Iu=new Map,this.Eu=new Set,this.du=new bt(Ae.comparator),this.Au=new Map,this.Ru=new sg,this.Vu={},this.mu=new Map,this.fu=_o.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function sD(r,e,n=!0){const s=wT(r);let o;const u=s.Tu.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await vT(s,e,n,!0),o}async function aD(r,e){const n=wT(r);await vT(n,e,!0,!1)}async function vT(r,e,n,s){const o=await IO(r.localStore,wr(e)),u=o.targetId,f=r.sharedClientState.addLocalQueryTarget(u,n);let m;return s&&(m=await oD(r,e,u,f==="current",o.resumeToken)),r.isPrimaryClient&&n&&fT(r.remoteStore,o),m}async function oD(r,e,n,s,o){r.pu=(T,R,U)=>(async function(K,N,X,Q){let re=N.view.ru(X);re.Cs&&(re=await hE(K.localStore,N.query,!1).then((({documents:D})=>N.view.ru(D,re))));const de=Q&&Q.targetChanges.get(N.targetId),ae=Q&&Q.targetMismatches.get(N.targetId)!=null,oe=N.view.applyChanges(re,K.isPrimaryClient,de,ae);return wE(K,N.targetId,oe.au),oe.snapshot})(r,T,R,U);const u=await hE(r.localStore,e,!0),f=new tD(e,u.Qs),m=f.ru(u.documents),p=Su.createSynthesizedTargetChangeForCurrentChange(n,s&&r.onlineState!=="Offline",o),g=f.applyChanges(m,r.isPrimaryClient,p);wE(r,n,g.au);const _=new nD(e,n,f);return r.Tu.set(e,_),r.Iu.has(n)?r.Iu.get(n).push(e):r.Iu.set(n,[e]),g.snapshot}async function lD(r,e,n){const s=Ge(r),o=s.Tu.get(e),u=s.Iu.get(o.targetId);if(u.length>1)return s.Iu.set(o.targetId,u.filter((f=>!af(f,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await mp(s.localStore,o.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(o.targetId),n&&ug(s.remoteStore,o.targetId),yp(s,o.targetId)})).catch(tf)):(yp(s,o.targetId),await mp(s.localStore,o.targetId,!0))}async function uD(r,e){const n=Ge(r),s=n.Tu.get(e),o=n.Iu.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),ug(n.remoteStore,s.targetId))}async function _T(r,e){const n=Ge(r);try{const s=await xO(n.localStore,e);e.targetChanges.forEach(((o,u)=>{const f=n.Au.get(u);f&&(ft(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?f.hu=!0:o.modifiedDocuments.size>0?ft(f.hu,14607):o.removedDocuments.size>0&&(ft(f.hu,42227),f.hu=!1))})),await bT(n,s,e)}catch(s){await tf(s)}}function bE(r,e,n){const s=Ge(r);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.Tu.forEach(((u,f)=>{const m=f.view.va(e);m.snapshot&&o.push(m.snapshot)})),(function(f,m){const p=Ge(f);p.onlineState=m;let g=!1;p.queries.forEach(((_,T)=>{for(const R of T.Sa)R.va(m)&&(g=!0)})),g&&mg(p)})(s.eventManager,e),o.length&&s.Pu.H_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function cD(r,e,n){const s=Ge(r);s.sharedClientState.updateQueryState(e,"rejected",n);const o=s.Au.get(e),u=o&&o.key;if(u){let f=new bt(Ae.comparator);f=f.insert(u,tn.newNoDocument(u,Ce.min()));const m=$e().add(u),p=new cf(Ce.min(),new Map,new bt(ze),f,m);await _T(s,p),s.du=s.du.remove(u),s.Au.delete(e),gg(s)}else await mp(s.localStore,e,!1).then((()=>yp(s,e,n))).catch(tf)}function yp(r,e,n=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.Iu.get(e))r.Tu.delete(s),n&&r.Pu.yu(s,n);r.Iu.delete(e),r.isPrimaryClient&&r.Ru.jr(e).forEach((s=>{r.Ru.containsKey(s)||ET(r,s)}))}function ET(r,e){r.Eu.delete(e.path.canonicalString());const n=r.du.get(e);n!==null&&(ug(r.remoteStore,n),r.du=r.du.remove(e),r.Au.delete(n),gg(r))}function wE(r,e,n){for(const s of n)s instanceof gT?(r.Ru.addReference(s.key,e),hD(r,s)):s instanceof yT?(pe(pg,"Document no longer in limbo: "+s.key),r.Ru.removeReference(s.key,e),r.Ru.containsKey(s.key)||ET(r,s.key)):Ie(19791,{wu:s})}function hD(r,e){const n=e.key,s=n.path.canonicalString();r.du.get(n)||r.Eu.has(s)||(pe(pg,"New document in limbo: "+n),r.Eu.add(s),gg(r))}function gg(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const e=r.Eu.values().next().value;r.Eu.delete(e);const n=new Ae(lt.fromString(e)),s=r.fu.next();r.Au.set(s,new rD(n)),r.du=r.du.insert(n,s),fT(r.remoteStore,new $i(wr(eg(n.path)),s,"TargetPurposeLimboResolution",nf.ce))}}async function bT(r,e,n){const s=Ge(r),o=[],u=[],f=[];s.Tu.isEmpty()||(s.Tu.forEach(((m,p)=>{f.push(s.pu(p,e,n).then((g=>{if((g||n)&&s.isPrimaryClient){const _=g?!g.fromCache:n?.targetChanges.get(p.targetId)?.current;s.sharedClientState.updateQueryState(p.targetId,_?"current":"not-current")}if(g){o.push(g);const _=og.As(p.targetId,g);u.push(_)}})))})),await Promise.all(f),s.Pu.H_(o),await(async function(p,g){const _=Ge(p);try{await _.persistence.runTransaction("notifyLocalViewChanges","readwrite",(T=>ie.forEach(g,(R=>ie.forEach(R.Es,(U=>_.persistence.referenceDelegate.addReference(T,R.targetId,U))).next((()=>ie.forEach(R.ds,(U=>_.persistence.referenceDelegate.removeReference(T,R.targetId,U)))))))))}catch(T){if(!Co(T))throw T;pe(lg,"Failed to update sequence numbers: "+T)}for(const T of g){const R=T.targetId;if(!T.fromCache){const U=_.Ms.get(R),z=U.snapshotVersion,K=U.withLastLimboFreeSnapshotVersion(z);_.Ms=_.Ms.insert(R,K)}}})(s.localStore,u))}async function fD(r,e){const n=Ge(r);if(!n.currentUser.isEqual(e)){pe(pg,"User change. New user:",e.toKey());const s=await uT(n.localStore,e);n.currentUser=e,(function(u,f){u.mu.forEach((m=>{m.forEach((p=>{p.reject(new ge(ue.CANCELLED,f))}))})),u.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await bT(n,s.Ls)}}function dD(r,e){const n=Ge(r),s=n.Au.get(e);if(s&&s.hu)return $e().add(s.key);{let o=$e();const u=n.Iu.get(e);if(!u)return o;for(const f of u){const m=n.Tu.get(f);o=o.unionWith(m.view.nu)}return o}}function wT(r){const e=Ge(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=_T.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=dD.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=cD.bind(null,e),e.Pu.H_=ZO.bind(null,e.eventManager),e.Pu.yu=JO.bind(null,e.eventManager),e}class Fh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=hf(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return RO(this.persistence,new TO,e.initialUser,this.serializer)}Cu(e){return new lT(ag.mi,this.serializer)}Du(e){return new OO}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Fh.provider={build:()=>new Fh};class mD extends Fh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){ft(this.persistence.referenceDelegate instanceof Hh,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new lO(s,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?mn.withCacheSize(this.cacheSizeBytes):mn.DEFAULT;return new lT((s=>Hh.mi(s,n)),this.serializer)}}class vp{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>bE(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=fD.bind(null,this.syncEngine),await KO(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new QO})()}createDatastore(e){const n=hf(e.databaseInfo.databaseId),s=(function(u){return new VO(u)})(e.databaseInfo);return(function(u,f,m,p){return new zO(u,f,m,p)})(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return(function(s,o,u,f,m){return new qO(s,o,u,f,m)})(this.localStore,this.datastore,e.asyncQueue,(n=>bE(this.syncEngine,n,0)),(function(){return mE.v()?new mE:new DO})())}createSyncEngine(e,n){return(function(o,u,f,m,p,g,_){const T=new iD(o,u,f,m,p,g);return _&&(T.gu=!0),T})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const s=Ge(n);pe(Eo,"RemoteStore shutting down."),s.Ea.add(5),await Ru(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}vp.provider={build:()=>new vp};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pD{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):ci("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const is="FirestoreClient";class gD{constructor(e,n,s,o,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=o,this.user=en.UNAUTHENTICATED,this.clientId=ww.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,(async f=>{pe(is,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f})),this.appCheckCredentials.start(s,(f=>(pe(is,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new lo;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=pT(n,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function Um(r,e){r.asyncQueue.verifyOperationInProgress(),pe(is,"Initializing OfflineComponentProvider");const n=r.configuration;await e.initialize(n);let s=n.initialUser;r.setCredentialChangeListener((async o=>{s.isEqual(o)||(await uT(e.localStore,o),s=o)})),e.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=e}async function TE(r,e){r.asyncQueue.verifyOperationInProgress();const n=await yD(r);pe(is,"Initializing OnlineComponentProvider"),await e.initialize(n,r.configuration),r.setCredentialChangeListener((s=>yE(e.remoteStore,s))),r.setAppCheckTokenChangeListener(((s,o)=>yE(e.remoteStore,o))),r._onlineComponents=e}async function yD(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){pe(is,"Using user provided OfflineComponentProvider");try{await Um(r,r._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(o){return o.name==="FirebaseError"?o.code===ue.FAILED_PRECONDITION||o.code===ue.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;po("Error using user provided cache. Falling back to memory cache: "+n),await Um(r,new Fh)}}else pe(is,"Using default OfflineComponentProvider"),await Um(r,new mD(void 0));return r._offlineComponents}async function vD(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(pe(is,"Using user provided OnlineComponentProvider"),await TE(r,r._uninitializedComponentsProvider._online)):(pe(is,"Using default OnlineComponentProvider"),await TE(r,new vp))),r._onlineComponents}async function AE(r){const e=await vD(r),n=e.eventManager;return n.onListen=sD.bind(null,e.syncEngine),n.onUnlisten=lD.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=aD.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=uD.bind(null,e.syncEngine),n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TT(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SE=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AT="firestore.googleapis.com",RE=!0;class xE{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ge(ue.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=AT,this.ssl=RE}else this.host=e.host,this.ssl=e.ssl??RE;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=oT;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<aO)throw new ge(ue.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}YI("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=TT(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new ge(ue.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new ge(ue.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new ge(ue.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,o){return s.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class yg{constructor(e,n,s,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new xE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ge(ue.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ge(ue.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new xE(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new UI;switch(s.type){case"firstParty":return new qI(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ge(ue.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=SE.get(n);s&&(pe("ComponentProvider","Removing Datastore"),SE.delete(n),s.terminate())})(this),Promise.resolve()}}function _D(r,e,n,s={}){r=_h(r,yg);const o=ia(e),u=r._getSettings(),f={...u,emulatorOptions:r._getEmulatorOptions()},m=`${e}:${n}`;o&&(Mp(`https://${m}`),Pp("Firestore",!0)),u.host!==AT&&u.host!==m&&po("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p={...u,host:m,ssl:o,emulatorOptions:s};if(!Js(p,f)&&(r._setSettings(p),s.mockUserToken)){let g,_;if(typeof s.mockUserToken=="string")g=s.mockUserToken,_=en.MOCK_USER;else{g=Rb(s.mockUserToken,r._app?.options.projectId);const T=s.mockUserToken.sub||s.mockUserToken.user_id;if(!T)throw new ge(ue.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");_=new en(T)}r._authCredentials=new jI(new bw(g,_))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ls{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new ls(this.firestore,e,this._query)}}class rn{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ho(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new rn(this.firestore,e,this._key)}toJSON(){return{type:rn._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,s){if(Au(n,rn._jsonSchema))return new rn(e,s||null,new Ae(lt.fromString(n.referencePath)))}}rn._jsonSchemaVersion="firestore/documentReference/1.0",rn._jsonSchema={type:Ct("string",rn._jsonSchemaVersion),referencePath:Ct("string")};class ho extends ls{constructor(e,n,s){super(e,n,eg(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new rn(this.firestore,null,new Ae(e))}withConverter(e){return new ho(this.firestore,e,this._path)}}function CE(r,e,...n){if(r=an(r),r instanceof yg){const s=lt.fromString(e,...n);return U0(s),new ho(r,null,s)}{if(!(r instanceof rn||r instanceof ho))throw new ge(ue.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(lt.fromString(e,...n));return U0(s),new ho(r.firestore,null,s)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IE="AsyncQueue";class NE{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new hT(this,"async_queue_retry"),this._c=()=>{const s=Lm();s&&pe(IE,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const n=Lm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Lm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new lo;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Co(e))throw e;pe(IE,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,ci("INTERNAL UNHANDLED ERROR: ",OE(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=n,n}enqueueAfterDelay(e,n,s){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const o=dg.createAndSchedule(this,e,n,s,(u=>this.hc(u)));return this.tc.push(o),o}uc(){this.nc&&Ie(47125,{Pc:OE(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function OE(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DE(r){return(function(n,s){if(typeof n!="object"||n===null)return!1;const o=n;for(const u of s)if(u in o&&typeof o[u]=="function")return!0;return!1})(r,["next","error","complete"])}class _p extends yg{constructor(e,n,s,o){super(e,n,s,o),this.type="firestore",this._queue=new NE,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new NE(e),this._firestoreClient=void 0,await e}}}function ED(r,e){const n=typeof r=="object"?r:Up(),s=typeof r=="string"?r:Lh,o=Xh(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=Tb("firestore");u&&_D(o,...u)}return o}function bD(r){if(r._terminated)throw new ge(ue.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||wD(r),r._firestoreClient}function wD(r){const e=r._freezeSettings(),n=(function(o,u,f,m){return new oN(o,u,f,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,TT(m.experimentalLongPollingOptions),m.useFetchStreams,m.isUsingEmulator)})(r._databaseId,r._app?.options.appId||"",r._persistenceKey,e);r._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),r._firestoreClient=new gD(r._authCredentials,r._appCheckCredentials,r._queue,n,r._componentsProvider&&(function(o){const u=o?._online.build();return{_offline:o?._offline.build(u),_online:u}})(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Bn(Qt.fromBase64String(e))}catch(n){throw new ge(ue.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Bn(Qt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Bn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Au(e,Bn._jsonSchema))return Bn.fromBase64String(e.bytes)}}Bn._jsonSchemaVersion="firestore/bytes/1.0",Bn._jsonSchema={type:Ct("string",Bn._jsonSchemaVersion),bytes:Ct("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ST{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ge(ue.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new nn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RT{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tr{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ge(ue.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ge(ue.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return ze(this._lat,e._lat)||ze(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Tr._jsonSchemaVersion}}static fromJSON(e){if(Au(e,Tr._jsonSchema))return new Tr(e.latitude,e.longitude)}}Tr._jsonSchemaVersion="firestore/geoPoint/1.0",Tr._jsonSchema={type:Ct("string",Tr._jsonSchemaVersion),latitude:Ct("number"),longitude:Ct("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ar{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Ar._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Au(e,Ar._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new Ar(e.vectorValues);throw new ge(ue.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Ar._jsonSchemaVersion="firestore/vectorValue/1.0",Ar._jsonSchema={type:Ct("string",Ar._jsonSchemaVersion),vectorValues:Ct("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TD=/^__.*__$/;function xT(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ie(40011,{Ac:r})}}class vg{constructor(e,n,s,o,u,f){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Rc(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new vg({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),s=this.Vc({path:n,fc:!1});return s.gc(e),s}yc(e){const n=this.path?.child(e),s=this.Vc({path:n,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Ep(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(xT(this.Ac)&&TD.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class AD{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||hf(e)}Cc(e,n,s,o=!1){return new vg({Ac:e,methodName:n,Dc:s,path:nn.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function SD(r){const e=r._freezeSettings(),n=hf(r._databaseId);return new AD(r._databaseId,!!e.ignoreUndefinedProperties,n)}function RD(r,e,n,s=!1){return _g(n,r.Cc(s?4:3,e))}function _g(r,e){if(CT(r=an(r)))return CD("Unsupported field value:",e,r),xD(r,e);if(r instanceof RT)return(function(s,o){if(!xT(o.Ac))throw o.Sc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(s,o){const u=[];let f=0;for(const m of s){let p=_g(m,o.wc(f));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),f++}return{arrayValue:{values:u}}})(r,e)}return(function(s,o){if((s=an(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return NN(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=ut.fromDate(s);return{timestampValue:fp(o.serializer,u)}}if(s instanceof ut){const u=new ut(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:fp(o.serializer,u)}}if(s instanceof Tr)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Bn)return{bytesValue:Jw(o.serializer,s._byteString)};if(s instanceof rn){const u=o.databaseId,f=s.firestore._databaseId;if(!f.isEqual(u))throw o.Sc(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:eT(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof Ar)return(function(f,m){return{mapValue:{fields:{[Ow]:{stringValue:Dw},[Uh]:{arrayValue:{values:f.toArray().map((g=>{if(typeof g!="number")throw m.Sc("VectorValues must only contain numeric values.");return tg(m.serializer,g)}))}}}}}})(s,o);throw o.Sc(`Unsupported field value: ${ef(s)}`)})(r,e)}function xD(r,e){const n={};return Sw(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Io(r,((s,o)=>{const u=_g(o,e.mc(s));u!=null&&(n[s]=u)})),{mapValue:{fields:n}}}function CT(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof ut||r instanceof Tr||r instanceof Bn||r instanceof rn||r instanceof RT||r instanceof Ar)}function CD(r,e,n){if(!CT(n)||!Tw(n)){const s=ef(n);throw s==="an object"?e.Sc(r+" a custom object"):e.Sc(r+" "+s)}}const ID=new RegExp("[~\\*/\\[\\]]");function ND(r,e,n){if(e.search(ID)>=0)throw Ep(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new ST(...e.split("."))._internalPath}catch{throw Ep(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function Ep(r,e,n,s,o){const u=s&&!s.isEmpty(),f=o!==void 0;let m=`Function ${e}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(u||f)&&(p+=" (found",u&&(p+=` in field ${s}`),f&&(p+=` in document ${o}`),p+=")"),new ge(ue.INVALID_ARGUMENT,m+r+p)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IT{constructor(e,n,s,o,u){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new rn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new OD(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(df("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class OD extends IT{data(){return super.data()}}function df(r,e){return typeof e=="string"?ND(r,e):e instanceof ST?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DD(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new ge(ue.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Eg{}class bg extends Eg{}function kE(r,e,...n){let s=[];e instanceof Eg&&s.push(e),s=s.concat(n),(function(u){const f=u.filter((p=>p instanceof wg)).length,m=u.filter((p=>p instanceof mf)).length;if(f>1||f>0&&m>0)throw new ge(ue.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const o of s)r=o._apply(r);return r}class mf extends bg{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new mf(e,n,s)}_apply(e){const n=this._parse(e);return NT(e._query,n),new ls(e.firestore,e.converter,lp(e._query,n))}_parse(e){const n=SD(e.firestore);return(function(u,f,m,p,g,_,T){let R;if(g.isKeyField()){if(_==="array-contains"||_==="array-contains-any")throw new ge(ue.INVALID_ARGUMENT,`Invalid Query. You can't perform '${_}' queries on documentId().`);if(_==="in"||_==="not-in"){LE(T,_);const z=[];for(const K of T)z.push(VE(p,u,K));R={arrayValue:{values:z}}}else R=VE(p,u,T)}else _!=="in"&&_!=="not-in"&&_!=="array-contains-any"||LE(T,_),R=RD(m,f,T,_==="in"||_==="not-in");return xt.create(g,_,R)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function kD(r,e,n){const s=e,o=df("where",r);return mf._create(o,s,n)}class wg extends Eg{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new wg(e,n)}_parse(e){const n=this._queryConstraints.map((s=>s._parse(e))).filter((s=>s.getFilters().length>0));return n.length===1?n[0]:er.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(o,u){let f=o;const m=u.getFlattenedFilters();for(const p of m)NT(f,p),f=lp(f,p)})(e._query,n),new ls(e.firestore,e.converter,lp(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Tg extends bg{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new Tg(e,n)}_apply(e){const n=(function(o,u,f){if(o.startAt!==null)throw new ge(ue.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new ge(ue.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new mu(u,f)})(e._query,this._field,this._direction);return new ls(e.firestore,e.converter,(function(o,u){const f=o.explicitOrderBy.concat([u]);return new No(o.path,o.collectionGroup,f,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)})(e._query,n))}}function ME(r,e="asc"){const n=e,s=df("orderBy",r);return Tg._create(s,n)}class Ag extends bg{constructor(e,n,s){super(),this.type=e,this._limit=n,this._limitType=s}static _create(e,n,s){return new Ag(e,n,s)}_apply(e){return new ls(e.firestore,e.converter,zh(e._query,this._limit,this._limitType))}}function PE(r){return QI("limit",r),Ag._create("limit",r,"F")}function VE(r,e,n){if(typeof(n=an(n))=="string"){if(n==="")throw new ge(ue.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!jw(e)&&n.indexOf("/")!==-1)throw new ge(ue.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(lt.fromString(n));if(!Ae.isDocumentKey(s))throw new ge(ue.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return $0(r,new Ae(s))}if(n instanceof rn)return $0(r,n._key);throw new ge(ue.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${ef(n)}.`)}function LE(r,e){if(!Array.isArray(r)||r.length===0)throw new ge(ue.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function NT(r,e){const n=(function(o,u){for(const f of o)for(const m of f.getFlattenedFilters())if(u.indexOf(m.op)>=0)return m.op;return null})(r.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new ge(ue.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ge(ue.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class MD{convertValue(e,n="none"){switch(ns(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Et(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ts(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ie(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return Io(e,((o,u)=>{s[o]=this.convertValue(u,n)})),s}convertVectorValue(e){const n=e.fields?.[Uh].arrayValue?.values?.map((s=>Et(s.doubleValue)));return new Ar(n)}convertGeoPoint(e){return new Tr(Et(e.latitude),Et(e.longitude))}convertArray(e,n){return(e.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const s=sf(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(hu(e));default:return null}}convertTimestamp(e){const n=es(e);return new ut(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=lt.fromString(e);ft(aT(s),9688,{name:e});const o=new fu(s.get(1),s.get(3)),u=new Ae(s.popFirst(5));return o.isEqual(n)||ci(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}class Zl{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Zs extends IT{constructor(e,n,s,o,u,f){super(e,n,s,o,f),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Th(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(df("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ge(ue.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Zs._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Zs._jsonSchemaVersion="firestore/documentSnapshot/1.0",Zs._jsonSchema={type:Ct("string",Zs._jsonSchemaVersion),bundleSource:Ct("string","DocumentSnapshot"),bundleName:Ct("string"),bundle:Ct("string")};class Th extends Zs{data(e={}){return super.data(e)}}class fo{constructor(e,n,s,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new Zl(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((s=>{e.call(n,new Th(this._firestore,this._userDataWriter,s.key,s,new Zl(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ge(ue.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map((m=>{const p=new Th(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Zl(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:p,oldIndex:-1,newIndex:f++}}))}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((m=>u||m.type!==3)).map((m=>{const p=new Th(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Zl(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,_=-1;return m.type!==0&&(g=f.indexOf(m.doc.key),f=f.delete(m.doc.key)),m.type!==1&&(f=f.add(m.doc),_=f.indexOf(m.doc.key)),{type:PD(m.type),doc:p,oldIndex:g,newIndex:_}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ge(ue.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=fo._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=ww.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(n.push(u._document),s.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function PD(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ie(61501,{type:r})}}fo._jsonSchemaVersion="firestore/querySnapshot/1.0",fo._jsonSchema={type:Ct("string",fo._jsonSchemaVersion),bundleSource:Ct("string","QuerySnapshot"),bundleName:Ct("string"),bundle:Ct("string")};class OT extends MD{constructor(e){super(),this.firestore=e}convertBytes(e){return new Bn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new rn(this.firestore,null,n)}}function UE(r,...e){r=an(r);let n={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||DE(e[s])||(n=e[s++]);const o={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(DE(e[s])){const p=e[s];e[s]=p.next?.bind(p),e[s+1]=p.error?.bind(p),e[s+2]=p.complete?.bind(p)}let u,f,m;if(r instanceof rn)f=_h(r.firestore,_p),m=eg(r._key.path),u={next:p=>{e[s]&&e[s](VD(f,r,p))},error:e[s+1],complete:e[s+2]};else{const p=_h(r,ls);f=_h(p.firestore,_p),m=p._query;const g=new OT(f);u={next:_=>{e[s]&&e[s](new fo(f,g,p,_))},error:e[s+1],complete:e[s+2]},DD(r._query)}return(function(g,_,T,R){const U=new pD(R),z=new eD(_,U,T);return g.asyncQueue.enqueueAndForget((async()=>XO(await AE(g),z))),()=>{U.Nu(),g.asyncQueue.enqueueAndForget((async()=>WO(await AE(g),z)))}})(bD(f),m,o,u)}function VD(r,e,n){const s=n.docs.get(e._key),o=new OT(r);return new Zs(r,o,e._key,s,new Zl(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(o){xo=o})(sa),ea(new Zi("firestore",((s,{instanceIdentifier:o,options:u})=>{const f=s.getProvider("app").getImmediate(),m=new _p(new zI(s.getProvider("auth-internal")),new HI(f,s.getProvider("app-check-internal")),(function(g,_){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new ge(ue.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new fu(g.options.projectId,_)})(f,o),f);return u={useFetchStreams:n,...u},m._setSettings(u),m}),"PUBLIC").setMultipleInstances(!0)),Er(M0,P0,e),Er(M0,P0,"esm2020")})();const LD={apiKey:"AIzaSyDmy0-a9HGRJwbINKjMA-R1FoukAHQJO1o",authDomain:"plcv-817f5.firebaseapp.com",projectId:"plcv-817f5",storageBucket:"plcv-817f5.firebasestorage.app",messagingSenderId:"967010201686",appId:"1:967010201686:web:8c1f3edfbe22f25aaa0bf7",measurementId:"G-7TGZLKG577"},Sg=Ib(LD),Gl=sI(Sg);MI(Sg);const jE=ED(Sg),DT=new ni;DT.setCustomParameters({prompt:"select_account"});const kT=C.createContext();function pf(){const r=C.useContext(kT);if(r===void 0)throw new Error("useAuth must be used within an AuthProvider");return r}function UD({children:r}){const[e,n]=C.useState(null),[s,o]=C.useState(!0);C.useEffect(()=>Kx(Gl,R=>{n(R),o(!1)}),[]);const _={user:e,loading:s,signInWithGoogle:async()=>{try{return(await mC(Gl,DT)).user}catch(T){throw console.error("Error signing in with Google:",T),T}},signUpWithEmail:async(T,R,U)=>{try{const z=await Bx(Gl,T,R);return await Fx(z.user,{displayName:U}),z.user}catch(z){throw console.error("Error signing up with email:",z),z}},signInWithEmail:async(T,R)=>{try{return(await qx(Gl,T,R)).user}catch(U){throw console.error("Error signing in with email:",U),U}},logout:async()=>{try{await Yx(Gl)}catch(T){throw console.error("Error signing out:",T),T}},getIdToken:async()=>{if(!e)throw console.error("No user is signed in when trying to get ID token"),new Error("No user is signed in");try{console.log("Getting ID token for user:",e.email);const T=await e.getIdToken(!0);return console.log("ID token obtained successfully, length:",T.length),T}catch(T){throw console.error("Error getting ID token:",T),T}}};return w.jsx(kT.Provider,{value:_,children:r})}function zE({children:r}){const{user:e,loading:n}=pf();return n?w.jsx("div",{className:"min-h-screen flex items-center justify-center",children:w.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-gray-900"})}):e?r:w.jsx(fb,{to:"/login",replace:!0})}function BE(r,e){if(typeof r=="function")return r(e);r!=null&&(r.current=e)}function jD(...r){return e=>{let n=!1;const s=r.map(o=>{const u=BE(o,e);return!n&&typeof u=="function"&&(n=!0),u});if(n)return()=>{for(let o=0;o<s.length;o++){const u=s[o];typeof u=="function"?u():BE(r[o],null)}}}}function zD(r){const e=qD(r),n=C.forwardRef((s,o)=>{const{children:u,...f}=s,m=C.Children.toArray(u),p=m.find(FD);if(p){const g=p.props.children,_=m.map(T=>T===p?C.Children.count(g)>1?C.Children.only(null):C.isValidElement(g)?g.props.children:null:T);return w.jsx(e,{...f,ref:o,children:C.isValidElement(g)?C.cloneElement(g,void 0,_):null})}return w.jsx(e,{...f,ref:o,children:u})});return n.displayName=`${r}.Slot`,n}var BD=zD("Slot");function qD(r){const e=C.forwardRef((n,s)=>{const{children:o,...u}=n;if(C.isValidElement(o)){const f=$D(o),m=GD(u,o.props);return o.type!==C.Fragment&&(m.ref=s?jD(s,f):f),C.cloneElement(o,m)}return C.Children.count(o)>1?C.Children.only(null):null});return e.displayName=`${r}.SlotClone`,e}var HD=Symbol("radix.slottable");function FD(r){return C.isValidElement(r)&&typeof r.type=="function"&&"__radixId"in r.type&&r.type.__radixId===HD}function GD(r,e){const n={...e};for(const s in e){const o=r[s],u=e[s];/^on[A-Z]/.test(s)?o&&u?n[s]=(...m)=>{const p=u(...m);return o(...m),p}:o&&(n[s]=o):s==="style"?n[s]={...o,...u}:s==="className"&&(n[s]=[o,u].filter(Boolean).join(" "))}return{...r,...n}}function $D(r){let e=Object.getOwnPropertyDescriptor(r.props,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?r.ref:(e=Object.getOwnPropertyDescriptor(r,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?r.props.ref:r.props.ref||r.ref)}function MT(r){var e,n,s="";if(typeof r=="string"||typeof r=="number")s+=r;else if(typeof r=="object")if(Array.isArray(r)){var o=r.length;for(e=0;e<o;e++)r[e]&&(n=MT(r[e]))&&(s&&(s+=" "),s+=n)}else for(n in r)r[n]&&(s&&(s+=" "),s+=n);return s}function PT(){for(var r,e,n=0,s="",o=arguments.length;n<o;n++)(r=arguments[n])&&(e=MT(r))&&(s&&(s+=" "),s+=e);return s}const qE=r=>typeof r=="boolean"?`${r}`:r===0?"0":r,HE=PT,KD=(r,e)=>n=>{var s;if(e?.variants==null)return HE(r,n?.class,n?.className);const{variants:o,defaultVariants:u}=e,f=Object.keys(o).map(g=>{const _=n?.[g],T=u?.[g];if(_===null)return null;const R=qE(_)||qE(T);return o[g][R]}),m=n&&Object.entries(n).reduce((g,_)=>{let[T,R]=_;return R===void 0||(g[T]=R),g},{}),p=e==null||(s=e.compoundVariants)===null||s===void 0?void 0:s.reduce((g,_)=>{let{class:T,className:R,...U}=_;return Object.entries(U).every(z=>{let[K,N]=z;return Array.isArray(N)?N.includes({...u,...m}[K]):{...u,...m}[K]===N})?[...g,T,R]:g},[]);return HE(r,f,p,n?.class,n?.className)},Rg="-",YD=r=>{const e=XD(r),{conflictingClassGroups:n,conflictingClassGroupModifiers:s}=r;return{getClassGroupId:f=>{const m=f.split(Rg);return m[0]===""&&m.length!==1&&m.shift(),VT(m,e)||QD(f)},getConflictingClassGroupIds:(f,m)=>{const p=n[f]||[];return m&&s[f]?[...p,...s[f]]:p}}},VT=(r,e)=>{if(r.length===0)return e.classGroupId;const n=r[0],s=e.nextPart.get(n),o=s?VT(r.slice(1),s):void 0;if(o)return o;if(e.validators.length===0)return;const u=r.join(Rg);return e.validators.find(({validator:f})=>f(u))?.classGroupId},FE=/^\[(.+)\]$/,QD=r=>{if(FE.test(r)){const e=FE.exec(r)[1],n=e?.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},XD=r=>{const{theme:e,classGroups:n}=r,s={nextPart:new Map,validators:[]};for(const o in n)bp(n[o],s,o,e);return s},bp=(r,e,n,s)=>{r.forEach(o=>{if(typeof o=="string"){const u=o===""?e:GE(e,o);u.classGroupId=n;return}if(typeof o=="function"){if(WD(o)){bp(o(s),e,n,s);return}e.validators.push({validator:o,classGroupId:n});return}Object.entries(o).forEach(([u,f])=>{bp(f,GE(e,u),n,s)})})},GE=(r,e)=>{let n=r;return e.split(Rg).forEach(s=>{n.nextPart.has(s)||n.nextPart.set(s,{nextPart:new Map,validators:[]}),n=n.nextPart.get(s)}),n},WD=r=>r.isThemeGetter,ZD=r=>{if(r<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,s=new Map;const o=(u,f)=>{n.set(u,f),e++,e>r&&(e=0,s=n,n=new Map)};return{get(u){let f=n.get(u);if(f!==void 0)return f;if((f=s.get(u))!==void 0)return o(u,f),f},set(u,f){n.has(u)?n.set(u,f):o(u,f)}}},wp="!",Tp=":",JD=Tp.length,ek=r=>{const{prefix:e,experimentalParseClassName:n}=r;let s=o=>{const u=[];let f=0,m=0,p=0,g;for(let z=0;z<o.length;z++){let K=o[z];if(f===0&&m===0){if(K===Tp){u.push(o.slice(p,z)),p=z+JD;continue}if(K==="/"){g=z;continue}}K==="["?f++:K==="]"?f--:K==="("?m++:K===")"&&m--}const _=u.length===0?o:o.substring(p),T=tk(_),R=T!==_,U=g&&g>p?g-p:void 0;return{modifiers:u,hasImportantModifier:R,baseClassName:T,maybePostfixModifierPosition:U}};if(e){const o=e+Tp,u=s;s=f=>f.startsWith(o)?u(f.substring(o.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:f,maybePostfixModifierPosition:void 0}}if(n){const o=s;s=u=>n({className:u,parseClassName:o})}return s},tk=r=>r.endsWith(wp)?r.substring(0,r.length-1):r.startsWith(wp)?r.substring(1):r,nk=r=>{const e=Object.fromEntries(r.orderSensitiveModifiers.map(s=>[s,!0]));return s=>{if(s.length<=1)return s;const o=[];let u=[];return s.forEach(f=>{f[0]==="["||e[f]?(o.push(...u.sort(),f),u=[]):u.push(f)}),o.push(...u.sort()),o}},rk=r=>({cache:ZD(r.cacheSize),parseClassName:ek(r),sortModifiers:nk(r),...YD(r)}),ik=/\s+/,sk=(r,e)=>{const{parseClassName:n,getClassGroupId:s,getConflictingClassGroupIds:o,sortModifiers:u}=e,f=[],m=r.trim().split(ik);let p="";for(let g=m.length-1;g>=0;g-=1){const _=m[g],{isExternal:T,modifiers:R,hasImportantModifier:U,baseClassName:z,maybePostfixModifierPosition:K}=n(_);if(T){p=_+(p.length>0?" "+p:p);continue}let N=!!K,X=s(N?z.substring(0,K):z);if(!X){if(!N){p=_+(p.length>0?" "+p:p);continue}if(X=s(z),!X){p=_+(p.length>0?" "+p:p);continue}N=!1}const Q=u(R).join(":"),re=U?Q+wp:Q,de=re+X;if(f.includes(de))continue;f.push(de);const ae=o(X,N);for(let oe=0;oe<ae.length;++oe){const D=ae[oe];f.push(re+D)}p=_+(p.length>0?" "+p:p)}return p};function ak(){let r=0,e,n,s="";for(;r<arguments.length;)(e=arguments[r++])&&(n=LT(e))&&(s&&(s+=" "),s+=n);return s}const LT=r=>{if(typeof r=="string")return r;let e,n="";for(let s=0;s<r.length;s++)r[s]&&(e=LT(r[s]))&&(n&&(n+=" "),n+=e);return n};function ok(r,...e){let n,s,o,u=f;function f(p){const g=e.reduce((_,T)=>T(_),r());return n=rk(g),s=n.cache.get,o=n.cache.set,u=m,m(p)}function m(p){const g=s(p);if(g)return g;const _=sk(p,n);return o(p,_),_}return function(){return u(ak.apply(null,arguments))}}const Mt=r=>{const e=n=>n[r]||[];return e.isThemeGetter=!0,e},UT=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,jT=/^\((?:(\w[\w-]*):)?(.+)\)$/i,lk=/^\d+\/\d+$/,uk=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,ck=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,hk=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,fk=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,dk=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Ja=r=>lk.test(r),Me=r=>!!r&&!Number.isNaN(Number(r)),Bi=r=>!!r&&Number.isInteger(Number(r)),jm=r=>r.endsWith("%")&&Me(r.slice(0,-1)),ti=r=>uk.test(r),mk=()=>!0,pk=r=>ck.test(r)&&!hk.test(r),zT=()=>!1,gk=r=>fk.test(r),yk=r=>dk.test(r),vk=r=>!ve(r)&&!_e(r),_k=r=>Do(r,HT,zT),ve=r=>UT.test(r),$s=r=>Do(r,FT,pk),zm=r=>Do(r,Ak,Me),$E=r=>Do(r,BT,zT),Ek=r=>Do(r,qT,yk),oh=r=>Do(r,GT,gk),_e=r=>jT.test(r),$l=r=>ko(r,FT),bk=r=>ko(r,Sk),KE=r=>ko(r,BT),wk=r=>ko(r,HT),Tk=r=>ko(r,qT),lh=r=>ko(r,GT,!0),Do=(r,e,n)=>{const s=UT.exec(r);return s?s[1]?e(s[1]):n(s[2]):!1},ko=(r,e,n=!1)=>{const s=jT.exec(r);return s?s[1]?e(s[1]):n:!1},BT=r=>r==="position"||r==="percentage",qT=r=>r==="image"||r==="url",HT=r=>r==="length"||r==="size"||r==="bg-size",FT=r=>r==="length",Ak=r=>r==="number",Sk=r=>r==="family-name",GT=r=>r==="shadow",Rk=()=>{const r=Mt("color"),e=Mt("font"),n=Mt("text"),s=Mt("font-weight"),o=Mt("tracking"),u=Mt("leading"),f=Mt("breakpoint"),m=Mt("container"),p=Mt("spacing"),g=Mt("radius"),_=Mt("shadow"),T=Mt("inset-shadow"),R=Mt("text-shadow"),U=Mt("drop-shadow"),z=Mt("blur"),K=Mt("perspective"),N=Mt("aspect"),X=Mt("ease"),Q=Mt("animate"),re=()=>["auto","avoid","all","avoid-page","page","left","right","column"],de=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],ae=()=>[...de(),_e,ve],oe=()=>["auto","hidden","clip","visible","scroll"],D=()=>["auto","contain","none"],S=()=>[_e,ve,p],x=()=>[Ja,"full","auto",...S()],k=()=>[Bi,"none","subgrid",_e,ve],P=()=>["auto",{span:["full",Bi,_e,ve]},Bi,_e,ve],L=()=>[Bi,"auto",_e,ve],I=()=>["auto","min","max","fr",_e,ve],Pe=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],Ee=()=>["start","end","center","stretch","center-safe","end-safe"],F=()=>["auto",...S()],ce=()=>[Ja,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...S()],se=()=>[r,_e,ve],Oe=()=>[...de(),KE,$E,{position:[_e,ve]}],M=()=>["no-repeat",{repeat:["","x","y","space","round"]}],Z=()=>["auto","cover","contain",wk,_k,{size:[_e,ve]}],le=()=>[jm,$l,$s],ne=()=>["","none","full",g,_e,ve],W=()=>["",Me,$l,$s],me=()=>["solid","dashed","dotted","double"],fe=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],we=()=>[Me,jm,KE,$E],De=()=>["","none",z,_e,ve],Ye=()=>["none",Me,_e,ve],qt=()=>["none",Me,_e,ve],gn=()=>[Me,_e,ve],xn=()=>[Ja,"full",...S()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[ti],breakpoint:[ti],color:[mk],container:[ti],"drop-shadow":[ti],ease:["in","out","in-out"],font:[vk],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[ti],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[ti],shadow:[ti],spacing:["px",Me],text:[ti],"text-shadow":[ti],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Ja,ve,_e,N]}],container:["container"],columns:[{columns:[Me,ve,_e,m]}],"break-after":[{"break-after":re()}],"break-before":[{"break-before":re()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:ae()}],overflow:[{overflow:oe()}],"overflow-x":[{"overflow-x":oe()}],"overflow-y":[{"overflow-y":oe()}],overscroll:[{overscroll:D()}],"overscroll-x":[{"overscroll-x":D()}],"overscroll-y":[{"overscroll-y":D()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:x()}],"inset-x":[{"inset-x":x()}],"inset-y":[{"inset-y":x()}],start:[{start:x()}],end:[{end:x()}],top:[{top:x()}],right:[{right:x()}],bottom:[{bottom:x()}],left:[{left:x()}],visibility:["visible","invisible","collapse"],z:[{z:[Bi,"auto",_e,ve]}],basis:[{basis:[Ja,"full","auto",m,...S()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Me,Ja,"auto","initial","none",ve]}],grow:[{grow:["",Me,_e,ve]}],shrink:[{shrink:["",Me,_e,ve]}],order:[{order:[Bi,"first","last","none",_e,ve]}],"grid-cols":[{"grid-cols":k()}],"col-start-end":[{col:P()}],"col-start":[{"col-start":L()}],"col-end":[{"col-end":L()}],"grid-rows":[{"grid-rows":k()}],"row-start-end":[{row:P()}],"row-start":[{"row-start":L()}],"row-end":[{"row-end":L()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":I()}],"auto-rows":[{"auto-rows":I()}],gap:[{gap:S()}],"gap-x":[{"gap-x":S()}],"gap-y":[{"gap-y":S()}],"justify-content":[{justify:[...Pe(),"normal"]}],"justify-items":[{"justify-items":[...Ee(),"normal"]}],"justify-self":[{"justify-self":["auto",...Ee()]}],"align-content":[{content:["normal",...Pe()]}],"align-items":[{items:[...Ee(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...Ee(),{baseline:["","last"]}]}],"place-content":[{"place-content":Pe()}],"place-items":[{"place-items":[...Ee(),"baseline"]}],"place-self":[{"place-self":["auto",...Ee()]}],p:[{p:S()}],px:[{px:S()}],py:[{py:S()}],ps:[{ps:S()}],pe:[{pe:S()}],pt:[{pt:S()}],pr:[{pr:S()}],pb:[{pb:S()}],pl:[{pl:S()}],m:[{m:F()}],mx:[{mx:F()}],my:[{my:F()}],ms:[{ms:F()}],me:[{me:F()}],mt:[{mt:F()}],mr:[{mr:F()}],mb:[{mb:F()}],ml:[{ml:F()}],"space-x":[{"space-x":S()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":S()}],"space-y-reverse":["space-y-reverse"],size:[{size:ce()}],w:[{w:[m,"screen",...ce()]}],"min-w":[{"min-w":[m,"screen","none",...ce()]}],"max-w":[{"max-w":[m,"screen","none","prose",{screen:[f]},...ce()]}],h:[{h:["screen","lh",...ce()]}],"min-h":[{"min-h":["screen","lh","none",...ce()]}],"max-h":[{"max-h":["screen","lh",...ce()]}],"font-size":[{text:["base",n,$l,$s]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[s,_e,zm]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",jm,ve]}],"font-family":[{font:[bk,ve,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[o,_e,ve]}],"line-clamp":[{"line-clamp":[Me,"none",_e,zm]}],leading:[{leading:[u,...S()]}],"list-image":[{"list-image":["none",_e,ve]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",_e,ve]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:se()}],"text-color":[{text:se()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...me(),"wavy"]}],"text-decoration-thickness":[{decoration:[Me,"from-font","auto",_e,$s]}],"text-decoration-color":[{decoration:se()}],"underline-offset":[{"underline-offset":[Me,"auto",_e,ve]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:S()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",_e,ve]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",_e,ve]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:Oe()}],"bg-repeat":[{bg:M()}],"bg-size":[{bg:Z()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Bi,_e,ve],radial:["",_e,ve],conic:[Bi,_e,ve]},Tk,Ek]}],"bg-color":[{bg:se()}],"gradient-from-pos":[{from:le()}],"gradient-via-pos":[{via:le()}],"gradient-to-pos":[{to:le()}],"gradient-from":[{from:se()}],"gradient-via":[{via:se()}],"gradient-to":[{to:se()}],rounded:[{rounded:ne()}],"rounded-s":[{"rounded-s":ne()}],"rounded-e":[{"rounded-e":ne()}],"rounded-t":[{"rounded-t":ne()}],"rounded-r":[{"rounded-r":ne()}],"rounded-b":[{"rounded-b":ne()}],"rounded-l":[{"rounded-l":ne()}],"rounded-ss":[{"rounded-ss":ne()}],"rounded-se":[{"rounded-se":ne()}],"rounded-ee":[{"rounded-ee":ne()}],"rounded-es":[{"rounded-es":ne()}],"rounded-tl":[{"rounded-tl":ne()}],"rounded-tr":[{"rounded-tr":ne()}],"rounded-br":[{"rounded-br":ne()}],"rounded-bl":[{"rounded-bl":ne()}],"border-w":[{border:W()}],"border-w-x":[{"border-x":W()}],"border-w-y":[{"border-y":W()}],"border-w-s":[{"border-s":W()}],"border-w-e":[{"border-e":W()}],"border-w-t":[{"border-t":W()}],"border-w-r":[{"border-r":W()}],"border-w-b":[{"border-b":W()}],"border-w-l":[{"border-l":W()}],"divide-x":[{"divide-x":W()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":W()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...me(),"hidden","none"]}],"divide-style":[{divide:[...me(),"hidden","none"]}],"border-color":[{border:se()}],"border-color-x":[{"border-x":se()}],"border-color-y":[{"border-y":se()}],"border-color-s":[{"border-s":se()}],"border-color-e":[{"border-e":se()}],"border-color-t":[{"border-t":se()}],"border-color-r":[{"border-r":se()}],"border-color-b":[{"border-b":se()}],"border-color-l":[{"border-l":se()}],"divide-color":[{divide:se()}],"outline-style":[{outline:[...me(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Me,_e,ve]}],"outline-w":[{outline:["",Me,$l,$s]}],"outline-color":[{outline:se()}],shadow:[{shadow:["","none",_,lh,oh]}],"shadow-color":[{shadow:se()}],"inset-shadow":[{"inset-shadow":["none",T,lh,oh]}],"inset-shadow-color":[{"inset-shadow":se()}],"ring-w":[{ring:W()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:se()}],"ring-offset-w":[{"ring-offset":[Me,$s]}],"ring-offset-color":[{"ring-offset":se()}],"inset-ring-w":[{"inset-ring":W()}],"inset-ring-color":[{"inset-ring":se()}],"text-shadow":[{"text-shadow":["none",R,lh,oh]}],"text-shadow-color":[{"text-shadow":se()}],opacity:[{opacity:[Me,_e,ve]}],"mix-blend":[{"mix-blend":[...fe(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":fe()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Me]}],"mask-image-linear-from-pos":[{"mask-linear-from":we()}],"mask-image-linear-to-pos":[{"mask-linear-to":we()}],"mask-image-linear-from-color":[{"mask-linear-from":se()}],"mask-image-linear-to-color":[{"mask-linear-to":se()}],"mask-image-t-from-pos":[{"mask-t-from":we()}],"mask-image-t-to-pos":[{"mask-t-to":we()}],"mask-image-t-from-color":[{"mask-t-from":se()}],"mask-image-t-to-color":[{"mask-t-to":se()}],"mask-image-r-from-pos":[{"mask-r-from":we()}],"mask-image-r-to-pos":[{"mask-r-to":we()}],"mask-image-r-from-color":[{"mask-r-from":se()}],"mask-image-r-to-color":[{"mask-r-to":se()}],"mask-image-b-from-pos":[{"mask-b-from":we()}],"mask-image-b-to-pos":[{"mask-b-to":we()}],"mask-image-b-from-color":[{"mask-b-from":se()}],"mask-image-b-to-color":[{"mask-b-to":se()}],"mask-image-l-from-pos":[{"mask-l-from":we()}],"mask-image-l-to-pos":[{"mask-l-to":we()}],"mask-image-l-from-color":[{"mask-l-from":se()}],"mask-image-l-to-color":[{"mask-l-to":se()}],"mask-image-x-from-pos":[{"mask-x-from":we()}],"mask-image-x-to-pos":[{"mask-x-to":we()}],"mask-image-x-from-color":[{"mask-x-from":se()}],"mask-image-x-to-color":[{"mask-x-to":se()}],"mask-image-y-from-pos":[{"mask-y-from":we()}],"mask-image-y-to-pos":[{"mask-y-to":we()}],"mask-image-y-from-color":[{"mask-y-from":se()}],"mask-image-y-to-color":[{"mask-y-to":se()}],"mask-image-radial":[{"mask-radial":[_e,ve]}],"mask-image-radial-from-pos":[{"mask-radial-from":we()}],"mask-image-radial-to-pos":[{"mask-radial-to":we()}],"mask-image-radial-from-color":[{"mask-radial-from":se()}],"mask-image-radial-to-color":[{"mask-radial-to":se()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":de()}],"mask-image-conic-pos":[{"mask-conic":[Me]}],"mask-image-conic-from-pos":[{"mask-conic-from":we()}],"mask-image-conic-to-pos":[{"mask-conic-to":we()}],"mask-image-conic-from-color":[{"mask-conic-from":se()}],"mask-image-conic-to-color":[{"mask-conic-to":se()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:Oe()}],"mask-repeat":[{mask:M()}],"mask-size":[{mask:Z()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",_e,ve]}],filter:[{filter:["","none",_e,ve]}],blur:[{blur:De()}],brightness:[{brightness:[Me,_e,ve]}],contrast:[{contrast:[Me,_e,ve]}],"drop-shadow":[{"drop-shadow":["","none",U,lh,oh]}],"drop-shadow-color":[{"drop-shadow":se()}],grayscale:[{grayscale:["",Me,_e,ve]}],"hue-rotate":[{"hue-rotate":[Me,_e,ve]}],invert:[{invert:["",Me,_e,ve]}],saturate:[{saturate:[Me,_e,ve]}],sepia:[{sepia:["",Me,_e,ve]}],"backdrop-filter":[{"backdrop-filter":["","none",_e,ve]}],"backdrop-blur":[{"backdrop-blur":De()}],"backdrop-brightness":[{"backdrop-brightness":[Me,_e,ve]}],"backdrop-contrast":[{"backdrop-contrast":[Me,_e,ve]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Me,_e,ve]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Me,_e,ve]}],"backdrop-invert":[{"backdrop-invert":["",Me,_e,ve]}],"backdrop-opacity":[{"backdrop-opacity":[Me,_e,ve]}],"backdrop-saturate":[{"backdrop-saturate":[Me,_e,ve]}],"backdrop-sepia":[{"backdrop-sepia":["",Me,_e,ve]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":S()}],"border-spacing-x":[{"border-spacing-x":S()}],"border-spacing-y":[{"border-spacing-y":S()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",_e,ve]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Me,"initial",_e,ve]}],ease:[{ease:["linear","initial",X,_e,ve]}],delay:[{delay:[Me,_e,ve]}],animate:[{animate:["none",Q,_e,ve]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[K,_e,ve]}],"perspective-origin":[{"perspective-origin":ae()}],rotate:[{rotate:Ye()}],"rotate-x":[{"rotate-x":Ye()}],"rotate-y":[{"rotate-y":Ye()}],"rotate-z":[{"rotate-z":Ye()}],scale:[{scale:qt()}],"scale-x":[{"scale-x":qt()}],"scale-y":[{"scale-y":qt()}],"scale-z":[{"scale-z":qt()}],"scale-3d":["scale-3d"],skew:[{skew:gn()}],"skew-x":[{"skew-x":gn()}],"skew-y":[{"skew-y":gn()}],transform:[{transform:[_e,ve,"","none","gpu","cpu"]}],"transform-origin":[{origin:ae()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:xn()}],"translate-x":[{"translate-x":xn()}],"translate-y":[{"translate-y":xn()}],"translate-z":[{"translate-z":xn()}],"translate-none":["translate-none"],accent:[{accent:se()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:se()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",_e,ve]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":S()}],"scroll-mx":[{"scroll-mx":S()}],"scroll-my":[{"scroll-my":S()}],"scroll-ms":[{"scroll-ms":S()}],"scroll-me":[{"scroll-me":S()}],"scroll-mt":[{"scroll-mt":S()}],"scroll-mr":[{"scroll-mr":S()}],"scroll-mb":[{"scroll-mb":S()}],"scroll-ml":[{"scroll-ml":S()}],"scroll-p":[{"scroll-p":S()}],"scroll-px":[{"scroll-px":S()}],"scroll-py":[{"scroll-py":S()}],"scroll-ps":[{"scroll-ps":S()}],"scroll-pe":[{"scroll-pe":S()}],"scroll-pt":[{"scroll-pt":S()}],"scroll-pr":[{"scroll-pr":S()}],"scroll-pb":[{"scroll-pb":S()}],"scroll-pl":[{"scroll-pl":S()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",_e,ve]}],fill:[{fill:["none",...se()]}],"stroke-w":[{stroke:[Me,$l,$s,zm]}],stroke:[{stroke:["none",...se()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},xk=ok(Rk);function us(...r){return xk(PT(r))}const Ck=KD("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),gt=C.forwardRef(({className:r,variant:e,size:n,asChild:s=!1,...o},u)=>{const f=s?BD:"button";return w.jsx(f,{className:us(Ck({variant:e,size:n,className:r})),ref:u,...o})});gt.displayName="Button";const Ki=C.forwardRef(({className:r,type:e,...n},s)=>w.jsx("input",{type:e,className:us("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",r),ref:s,...n}));Ki.displayName="Input";const Qn=C.forwardRef(({className:r,...e},n)=>w.jsx("div",{ref:n,className:us("rounded-lg border bg-card text-card-foreground shadow-sm",r),...e}));Qn.displayName="Card";const $T=C.forwardRef(({className:r,...e},n)=>w.jsx("div",{ref:n,className:us("flex flex-col space-y-1.5 p-6",r),...e}));$T.displayName="CardHeader";const KT=C.forwardRef(({className:r,...e},n)=>w.jsx("div",{ref:n,className:us("text-2xl font-semibold leading-none tracking-tight",r),...e}));KT.displayName="CardTitle";const YT=C.forwardRef(({className:r,...e},n)=>w.jsx("div",{ref:n,className:us("text-sm text-muted-foreground",r),...e}));YT.displayName="CardDescription";const QT=C.forwardRef(({className:r,...e},n)=>w.jsx("div",{ref:n,className:us("p-6 pt-0",r),...e}));QT.displayName="CardContent";const Ik=C.forwardRef(({className:r,...e},n)=>w.jsx("div",{ref:n,className:us("flex items-center p-6 pt-0",r),...e}));Ik.displayName="CardFooter";const Nk="/assets/plc-CZ7lQLiY.webp",Bm="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcScIghZJCd7WFx6f3jIQ9A_eWu6tbJGoXzh-A&s";function Ok(){const{user:r,signInWithGoogle:e,signInWithEmail:n,signUpWithEmail:s}=pf(),[o,u]=C.useState(!1),[f,m]=C.useState(!1),[p,g]=C.useState({email:"",password:"",username:"",confirmPassword:""}),[_,T]=C.useState("");if(r)return w.jsx(fb,{to:"/",replace:!0});const R=K=>{g({...p,[K.target.name]:K.target.value}),T("")},U=async()=>{try{u(!0),T(""),await e()}catch{T("Failed to sign in with Google. Please try again.")}finally{u(!1)}},z=async K=>{if(K.preventDefault(),f&&p.password!==p.confirmPassword){T("Passwords do not match");return}if(p.password.length<6){T("Password must be at least 6 characters long");return}try{if(u(!0),T(""),f){if(!p.username.trim()){T("Username is required for sign up");return}await s(p.email,p.password,p.username)}else await n(p.email,p.password)}catch(N){N.code==="auth/email-already-in-use"?T("Email is already registered. Please sign in instead."):N.code==="auth/weak-password"?T("Password is too weak. Please choose a stronger password."):N.code==="auth/invalid-email"?T("Please enter a valid email address."):N.code==="auth/user-not-found"?T("No account found with this email. Please sign up first."):N.code==="auth/wrong-password"?T("Incorrect password. Please try again."):T(`Authentication failed: ${N.message}`)}finally{u(!1)}};return w.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-white to-[#E2001A]/10 font-sans",children:[w.jsx("header",{className:"bg-white/90 backdrop-blur-sm shadow-lg",children:w.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:w.jsxs("div",{className:"text-center",children:[w.jsxs("div",{className:"flex items-center justify-center gap-3 mb-2",children:[w.jsx("img",{src:Bm,alt:"ABB Logo",className:"h-12 w-12 rounded-lg shadow-lg border-2 border-[#E2001A] bg-white",style:{objectFit:"contain"}}),w.jsx("h1",{className:"text-4xl font-extrabold text-[#E2001A] tracking-tight",children:"ABB Chatbot"})]}),w.jsx("p",{className:"text-lg text-gray-700 max-w-2xl mx-auto font-medium",children:"Luxury Industrial Automation Platform powered by ABB"})]})})}),w.jsxs("div",{className:"flex min-h-[calc(100vh-120px)]",children:[w.jsx("div",{className:"hidden lg:flex lg:w-1/2 flex-col justify-center p-12 bg-gradient-to-br from-[#E2001A]/10 to-white",children:w.jsxs("div",{className:"max-w-lg mx-auto",children:[w.jsx("div",{className:"mb-8",children:w.jsx("img",{src:Nk,alt:"PLC Control System",className:"w-full h-auto rounded-2xl shadow-2xl border-2 border-[#E2001A]/30"})}),w.jsx("h2",{className:"text-4xl font-extrabold text-[#E2001A] mb-6",children:"Industrial Automation & Control"}),w.jsx("p",{className:"text-lg text-gray-700 mb-8 font-medium",children:"Experience the power of ABB in modern industrial automation. Monitor, control, and optimize your manufacturing processes with luxury and precision."}),w.jsxs("div",{className:"space-y-4",children:[w.jsxs("div",{className:"flex items-center gap-3",children:[w.jsx("div",{className:"w-2 h-2 bg-[#E2001A] rounded-full"}),w.jsx("span",{className:"text-gray-800 font-semibold",children:"Real-time Processing & Control"})]}),w.jsxs("div",{className:"flex items-center gap-3",children:[w.jsx("div",{className:"w-2 h-2 bg-[#E2001A] rounded-full"}),w.jsx("span",{className:"text-gray-800 font-semibold",children:"Industrial Grade Reliability"})]}),w.jsxs("div",{className:"flex items-center gap-3",children:[w.jsx("div",{className:"w-2 h-2 bg-[#E2001A] rounded-full"}),w.jsx("span",{className:"text-gray-800 font-semibold",children:"Network Integration & Monitoring"})]})]})]})}),w.jsx("div",{className:"w-full lg:w-1/2 flex items-center justify-center p-8",children:w.jsxs(Qn,{className:"w-full max-w-md p-8 shadow-2xl rounded-2xl bg-white/90",children:[w.jsxs("div",{className:"text-center mb-8",children:[w.jsxs("div",{className:"flex items-center justify-center gap-3 mb-4",children:[w.jsx("img",{src:Bm,alt:"ABB Logo",className:"h-10 w-10 rounded-lg border-2 border-[#E2001A] bg-white shadow",style:{objectFit:"contain"}}),w.jsx("h1",{className:"text-2xl font-bold text-[#E2001A]",children:"ABB Chatbot"})]}),w.jsx("h2",{className:"text-xl font-semibold text-gray-700",children:f?"Create Account":"Welcome Back"}),w.jsx("p",{className:"text-gray-600 mt-2",children:f?"Sign up to start your ABB automation journey":"Sign in to your ABB account"})]}),_&&w.jsx("div",{className:"mb-4 p-3 bg-[#E2001A]/10 text-[#E2001A] rounded-lg font-medium",children:w.jsx("p",{className:"text-sm",children:_})}),w.jsxs("form",{onSubmit:z,className:"space-y-4 mb-6",children:[f&&w.jsxs("div",{children:[w.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Username"}),w.jsx(Ki,{type:"text",name:"username",value:p.username,onChange:R,placeholder:"Enter your username",required:f,disabled:o})]}),w.jsxs("div",{children:[w.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),w.jsx(Ki,{type:"email",name:"email",value:p.email,onChange:R,placeholder:"Enter your email",required:!0,disabled:o})]}),w.jsxs("div",{children:[w.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Password"}),w.jsx(Ki,{type:"password",name:"password",value:p.password,onChange:R,placeholder:"Enter your password",required:!0,disabled:o})]}),f&&w.jsxs("div",{children:[w.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Confirm Password"}),w.jsx(Ki,{type:"password",name:"confirmPassword",value:p.confirmPassword,onChange:R,placeholder:"Confirm your password",required:f,disabled:o})]}),w.jsx(gt,{type:"submit",className:"w-full bg-[#E2001A] hover:bg-[#b80014] text-white font-semibold rounded-lg shadow",disabled:o,children:o?w.jsxs("div",{className:"flex items-center gap-2",children:[w.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),f?"Creating Account...":"Signing In..."]}):f?"Create Account":"Sign In"})]}),w.jsxs("div",{className:"relative mb-6",children:[w.jsx("div",{className:"absolute inset-0 flex items-center",children:w.jsx("div",{className:"w-full border-t border-[#E2001A]/30"})}),w.jsx("div",{className:"relative flex justify-center text-sm",children:w.jsx("span",{className:"px-2 bg-white text-[#E2001A] font-semibold",children:"Or continue with"})})]}),w.jsxs(gt,{onClick:U,disabled:o,variant:"outline",className:"w-full flex items-center gap-2 border-[#E2001A] text-[#E2001A] font-semibold rounded-lg",children:[w.jsxs("svg",{className:"w-4 h-4",viewBox:"0 0 24 24",children:[w.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),w.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),w.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),w.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Sign in with Google"]}),w.jsx("div",{className:"mt-6 text-center",children:w.jsxs("p",{className:"text-gray-700 font-medium",children:[f?"Already have an account?":"Don't have an account?"," ",w.jsx("button",{type:"button",onClick:()=>{m(!f),T(""),g({email:"",password:"",username:"",confirmPassword:""})},className:"text-[#E2001A] hover:text-[#b80014] font-semibold underline",disabled:o,children:f?"Sign in here":"Sign up here"})]})})]})})]}),w.jsxs("footer",{className:"bg-[#E2001A] text-white py-8 mt-8 shadow-inner",children:[w.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[w.jsxs("div",{className:"flex items-center justify-center gap-3 mb-2",children:[w.jsx("img",{src:Bm,alt:"ABB Logo",className:"h-8 w-8 rounded-lg border-2 border-white bg-white",style:{objectFit:"contain"}}),w.jsx("span",{className:"text-xl font-bold tracking-wide",children:"ABB Chatbot"})]}),w.jsxs("p",{className:"text-sm text-white/80",children:[" ",new Date().getFullYear()," ABB Industrial Automation. All rights reserved."]})]}),w.jsx("div",{className:"max-w-3xl mx-auto mt-8 px-4 text-center",children:w.jsxs("div",{className:"bg-white/80 rounded-2xl shadow-lg p-8 border-0",children:[w.jsx("h3",{className:"text-2xl font-bold text-[#E2001A] mb-4",children:"Why Choose ABB Chatbot?"}),w.jsxs("ul",{className:"space-y-3 text-gray-800 text-lg font-medium",children:[w.jsxs("li",{children:[w.jsx("span",{className:"inline-block w-3 h-3 bg-[#E2001A] rounded-full mr-2 align-middle"}),w.jsx("span",{children:"Instant answers for industrial automation queries"})]}),w.jsxs("li",{children:[w.jsx("span",{className:"inline-block w-3 h-3 bg-[#E2001A] rounded-full mr-2 align-middle"}),w.jsx("span",{children:"Luxury-grade UI for a premium experience"})]}),w.jsxs("li",{children:[w.jsx("span",{className:"inline-block w-3 h-3 bg-[#E2001A] rounded-full mr-2 align-middle"}),w.jsx("span",{children:"Secure authentication powered by ABB and Google"})]}),w.jsxs("li",{children:[w.jsx("span",{className:"inline-block w-3 h-3 bg-[#E2001A] rounded-full mr-2 align-middle"}),w.jsx("span",{children:"Save and manage your automation knowledge in your library"})]}),w.jsxs("li",{children:[w.jsx("span",{className:"inline-block w-3 h-3 bg-[#E2001A] rounded-full mr-2 align-middle"}),w.jsx("span",{children:"Responsive design for desktop and mobile"})]})]}),w.jsx("div",{className:"mt-6",children:w.jsx("span",{className:"text-[#E2001A] font-semibold",children:"Ready to automate your future?"})})]})})]})]})}class Dk{constructor(e){this.user=e,this.listeners=new Map}async getToken(){return this.user&&this.user.getIdToken?await this.user.getIdToken():null}async createSession(e="New Chat"){try{const n=await this.getToken(),s=await fetch("http://localhost:8000/api/v1/chat/sessions",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${n}`},body:JSON.stringify({title:e})});if(!s.ok)throw new Error(`HTTP error! status: ${s.status}`);return(await s.json()).session_id}catch(n){throw console.error("Error creating session:",n),n}}async getSessions(){try{const e=await this.getToken(),n=await fetch("http://localhost:8000/api/v1/chat/sessions",{headers:{Authorization:`Bearer ${e}`}});if(!n.ok)throw new Error(`HTTP error! status: ${n.status}`);return(await n.json()).sessions}catch(e){throw console.error("Error getting sessions:",e),e}}async getSessionMessages(e){try{const n=await this.getToken(),s=await fetch(`http://localhost:8000/api/v1/chat/sessions/${e}/messages`,{headers:{Authorization:`Bearer ${n}`}});if(!s.ok)throw new Error(`HTTP error! status: ${s.status}`);return(await s.json()).messages}catch(n){throw console.error("Error getting session messages:",n),n}}async sendMessage(e,n,s=[]){try{const o=await this.getToken(),u=s.map(p=>{let g=p.content;return typeof g=="object"&&g!==null&&(g.responses&&Array.isArray(g.responses)?g=g.responses.map(_=>_.content||"").join(`

`):g=JSON.stringify(g)),{role:p.role,content:String(g),...p.timestamp&&{timestamp:new Date(p.timestamp).toISOString()}}}),f=await fetch(`http://localhost:8000/api/v1/chat/sessions/${e}/messages`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${o}`},body:JSON.stringify({message:n,conversation_history:u})});if(!f.ok)throw new Error(`HTTP error! status: ${f.status}`);const m=await f.json();if(typeof m.response=="string")try{const p=JSON.parse(m.response);if(Array.isArray(p)&&p.every(_=>_&&typeof _=="object"&&_.type&&_.content))return{responses:p}}catch{}return{type:"text",content:m.response||"No response received"}}catch(o){throw console.error("Error sending message:",o),o}}async updateSessionTitle(e,n){try{const s=await this.getToken(),o=await fetch(`http://localhost:8000/api/v1/chat/sessions/${e}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${s}`},body:JSON.stringify({title:n})});if(!o.ok)throw new Error(`HTTP error! status: ${o.status}`);return await o.json()}catch(s){throw console.error("Error updating session title:",s),s}}async deleteSession(e){try{const n=await this.getToken(),s=await fetch(`http://localhost:8000/api/v1/chat/sessions/${e}`,{method:"DELETE",headers:{Authorization:`Bearer ${n}`}});if(!s.ok)throw new Error(`HTTP error! status: ${s.status}`);return await s.json()}catch(n){throw console.error("Error deleting session:",n),n}}listenToSessions(e){if(!this.user?.uid)return null;const n=kE(CE(jE,"chat_sessions"),kD("user_id","==",this.user.uid),ME("updated_at","desc"),PE(50));return UE(n,o=>{const u=o.docs.map(f=>({id:f.id,...f.data()}));e(u)},o=>{console.error("Error listening to sessions:",o)})}listenToSessionMessages(e,n){if(!e)return null;const s=kE(CE(jE,"chat_sessions",e,"messages"),ME("timestamp","asc"),PE(100)),o=UE(s,u=>{const f=u.docs.map(m=>({id:m.id,...m.data()}));n(f)},u=>{console.error("Error listening to messages:",u)});return this.listeners.set(e,o),o}stopListeningToSession(e){const n=this.listeners.get(e);n&&(n(),this.listeners.delete(e))}stopAllListeners(){this.listeners.forEach(e=>e()),this.listeners.clear()}generateSessionTitle(e){if(!e)return"New Chat";let n=e.substring(0,50).trim();const s=n.lastIndexOf(" ");return s>20&&(n=n.substring(0,s)),e.length>50&&(n+="..."),n||"New Chat"}}class XT{constructor(e,n){this.user=e,this.getIdToken=n,this.baseUrl="http://localhost:8000/api/v1/library"}async saveToLibrary(e,n,s,o=null){try{const u=await this.getIdToken();let f=n.content;typeof f=="object"&&f!==null&&(f.responses&&Array.isArray(f.responses)?f=f.responses.map(p=>p.content||"").join(`

`):f=JSON.stringify(f));const m=await fetch(`${this.baseUrl}/entries`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${u}`},body:JSON.stringify({user_question:e,assistant_response:f,session_id:s,message_pair_id:o,tags:[],category:null})});if(!m.ok)throw new Error(`HTTP error! status: ${m.status}`);return await m.json()}catch(u){throw console.error("Error saving to library:",u),u}}async getLibraryEntries(e=50){try{const n=await this.getIdToken(),s=await fetch(`${this.baseUrl}/entries?limit=${e}`,{method:"GET",headers:{Authorization:`Bearer ${n}`}});if(!s.ok)throw new Error(`HTTP error! status: ${s.status}`);return await s.json()}catch(n){throw console.error("Error getting library entries:",n),n}}async searchLibrary(e,n=20,s=null,o=[]){try{const u=await this.getIdToken(),f=await fetch(`${this.baseUrl}/search`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${u}`},body:JSON.stringify({query:e,limit:n,category:s,tags:o})});if(!f.ok)throw new Error(`HTTP error! status: ${f.status}`);return await f.json()}catch(u){throw console.error("Error searching library:",u),u}}async getLibraryStats(){try{const e=await this.getIdToken(),n=await fetch(`${this.baseUrl}/stats`,{method:"GET",headers:{Authorization:`Bearer ${e}`}});if(!n.ok)throw new Error(`HTTP error! status: ${n.status}`);return await n.json()}catch(e){throw console.error("Error getting library stats:",e),e}}}function kk({title:r,titleId:e,...n},s){return C.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":e},n),r?C.createElement("title",{id:e},r):null,C.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.5 19.5 3 12m0 0 7.5-7.5M3 12h18"}))}const Mk=C.forwardRef(kk);function Pk({title:r,titleId:e,...n},s){return C.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":e},n),r?C.createElement("title",{id:e},r):null,C.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6.042A8.967 8.967 0 0 0 6 3.75c-1.052 0-2.062.18-3 .512v14.25A8.987 8.987 0 0 1 6 18c2.305 0 4.408.867 6 2.292m0-14.25a8.966 8.966 0 0 1 6-2.292c1.052 0 2.062.18 3 .512v14.25A8.987 8.987 0 0 0 18 18a8.967 8.967 0 0 0-6 2.292m0-14.25v14.25"}))}const Ah=C.forwardRef(Pk);function Vk({title:r,titleId:e,...n},s){return C.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":e},n),r?C.createElement("title",{id:e},r):null,C.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17.593 3.322c1.1.128 1.907 1.077 1.907 2.185V21L12 17.25 4.5 21V5.507c0-1.108.806-2.057 1.907-2.185a48.507 48.507 0 0 1 11.186 0Z"}))}const Lk=C.forwardRef(Vk);function Uk({title:r,titleId:e,...n},s){return C.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":e},n),r?C.createElement("title",{id:e},r):null,C.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 0 1 2.25-2.25h13.5A2.25 2.25 0 0 1 21 7.5v11.25m-18 0A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75m-18 0v-7.5A2.25 2.25 0 0 1 5.25 9h13.5A2.25 2.25 0 0 1 21 11.25v7.5"}))}const YE=C.forwardRef(Uk);function jk({title:r,titleId:e,...n},s){return C.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":e},n),r?C.createElement("title",{id:e},r):null,C.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 12.76c0 1.6 1.123 2.994 2.707 3.227 1.087.16 2.185.283 3.293.369V21l4.076-4.076a1.526 1.526 0 0 1 1.037-.443 48.282 48.282 0 0 0 5.68-.494c1.584-.233 2.707-1.626 2.707-3.228V6.741c0-1.602-1.123-2.995-2.707-3.228A48.394 48.394 0 0 0 12 3c-2.392 0-4.744.175-7.043.513C3.373 3.746 2.25 5.14 2.25 6.741v6.018Z"}))}const zk=C.forwardRef(jk);function Bk({title:r,titleId:e,...n},s){return C.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":e},n),r?C.createElement("title",{id:e},r):null,C.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m4.5 12.75 6 6 9-13.5"}))}const wo=C.forwardRef(Bk);function qk({title:r,titleId:e,...n},s){return C.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":e},n),r?C.createElement("title",{id:e},r):null,C.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.666 3.888A2.25 2.25 0 0 0 13.5 2.25h-3c-1.03 0-1.9.693-2.166 1.638m7.332 0c.055.194.084.4.084.612v0a.75.75 0 0 1-.75.75H9a.75.75 0 0 1-.75-.75v0c0-.212.03-.418.084-.612m7.332 0c.646.049 1.288.11 1.927.184 1.1.128 1.907 1.077 1.907 2.185V19.5a2.25 2.25 0 0 1-2.25 2.25H6.75A2.25 2.25 0 0 1 4.5 19.5V6.257c0-1.108.806-2.057 1.907-2.185a48.208 48.208 0 0 1 1.927-.184"}))}const Ap=C.forwardRef(qk);function Hk({title:r,titleId:e,...n},s){return C.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":e},n),r?C.createElement("title",{id:e},r):null,C.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z"}))}const Fk=C.forwardRef(Hk);function Gk({title:r,titleId:e,...n},s){return C.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":e},n),r?C.createElement("title",{id:e},r):null,C.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L6.832 19.82a4.5 4.5 0 0 1-1.897 1.13l-2.685.8.8-2.685a4.5 4.5 0 0 1 1.13-1.897L16.863 4.487Zm0 0L19.5 7.125"}))}const $k=C.forwardRef(Gk);function Kk({title:r,titleId:e,...n},s){return C.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":e},n),r?C.createElement("title",{id:e},r):null,C.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"}))}const Yk=C.forwardRef(Kk);function Qk({title:r,titleId:e,...n},s){return C.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":e},n),r?C.createElement("title",{id:e},r):null,C.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.568 3H5.25A2.25 2.25 0 0 0 3 5.25v4.318c0 .597.237 1.17.659 1.591l9.581 9.581c.699.699 1.78.872 2.607.33a18.095 18.095 0 0 0 5.223-5.223c.542-.827.369-1.908-.33-2.607L11.16 3.66A2.25 2.25 0 0 0 9.568 3Z"}),C.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 6h.008v.008H6V6Z"}))}const Xk=C.forwardRef(Qk);function Wk({title:r,titleId:e,...n},s){return C.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":e},n),r?C.createElement("title",{id:e},r):null,C.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"}))}const Zk=C.forwardRef(Wk);function Jk({title:r,titleId:e,...n},s){return C.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":e},n),r?C.createElement("title",{id:e},r):null,C.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18 18 6M6 6l12 12"}))}const Sp=C.forwardRef(Jk);function e4({sessions:r,currentSessionId:e,onSessionSelect:n,onNewChat:s,onUpdateTitle:o,onDeleteSession:u,isLoading:f}){const[m,p]=C.useState(null),[g,_]=C.useState(""),T=N=>{p(N.session_id),_(N.title)},R=()=>{p(null),_("")},U=async N=>{g.trim()&&await o(N,g.trim()),R()},z=(N,X)=>{N.key==="Enter"?U(X):N.key==="Escape"&&R()},K=N=>N?new Date(N).toLocaleString([],{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"";return w.jsxs("div",{className:"w-80 h-screen bg-white flex flex-col fixed left-0 top-0 z-10 shadow-xl",style:{fontFamily:"Segoe UI, Arial, sans-serif",borderRight:"none"},children:[w.jsx("div",{className:"p-4 border-b-2 border-[#E2001A]/20 bg-[#E2001A]/5",children:w.jsxs(gt,{onClick:s,className:"w-full flex items-center gap-2 bg-[#E2001A] text-white font-semibold rounded-lg shadow hover:bg-[#E2001A]/90 transition-all duration-200",disabled:f,children:[w.jsx(Yk,{className:"w-4 h-4"}),"New Chat"]})}),w.jsx("div",{className:"flex-1 overflow-y-auto bg-white",children:f?w.jsx("div",{className:"p-4 text-center text-gray-500",children:w.jsx("div",{className:"animate-pulse",children:"Loading chats..."})}):r.length===0?w.jsxs("div",{className:"p-4 text-center text-gray-500",children:[w.jsx(zk,{className:"w-12 h-12 mx-auto mb-2 opacity-50"}),w.jsx("p",{children:"No chats yet"}),w.jsx("p",{className:"text-sm",children:"Start a new conversation!"})]}):w.jsx("div",{className:"p-2 space-y-2",children:r.map(N=>w.jsx(Qn,{className:`group p-4 cursor-pointer rounded-xl shadow-md transition-all duration-200 bg-gradient-to-r from-white via-[#E2001A]/5 to-white hover:from-[#E2001A]/10 hover:to-white ${e===N.session_id?"bg-[#E2001A]/10 shadow-lg":""}`,style:{border:"none"},onClick:()=>n(N.session_id),children:w.jsxs("div",{className:"flex items-center justify-between gap-2",children:[w.jsx("div",{className:"flex-1 min-w-0",children:m===N.session_id?w.jsxs("div",{className:"flex items-center gap-1",children:[w.jsx(Ki,{value:g,onChange:X=>_(X.target.value),onKeyDown:X=>z(X,N.session_id),className:"h-7 text-base font-medium rounded-md border-[#E2001A]/30 focus:border-[#E2001A]",autoFocus:!0,onClick:X=>X.stopPropagation()}),w.jsx(gt,{size:"sm",variant:"ghost",className:"h-7 w-7 p-0 text-[#E2001A] hover:bg-[#E2001A]/10",onClick:X=>{X.stopPropagation(),U(N.session_id)},children:w.jsx(wo,{className:"w-4 h-4"})}),w.jsx(gt,{size:"sm",variant:"ghost",className:"h-7 w-7 p-0 text-gray-500 hover:bg-gray-100",onClick:X=>{X.stopPropagation(),R()},children:w.jsx(Sp,{className:"w-4 h-4"})})]}):w.jsxs("div",{children:[w.jsx("h3",{className:"font-bold text-base truncate text-[#E2001A] group-hover:text-[#E2001A]/80 transition-all duration-200",children:N.title}),w.jsx("div",{className:"mt-1",children:w.jsx("span",{className:"text-xs text-gray-600 font-semibold tracking-wide block",children:K(N.updated_at)})})]})}),w.jsx("div",{className:"flex items-center gap-1",children:m!==N.session_id&&w.jsxs(w.Fragment,{children:[w.jsx(gt,{size:"sm",variant:"ghost",className:"h-7 w-7 p-0 text-gray-400 hover:text-[#E2001A]",onClick:X=>{X.stopPropagation(),T(N)},children:w.jsx($k,{className:"w-4 h-4"})}),w.jsx(gt,{size:"sm",variant:"ghost",className:"h-7 w-7 p-0 text-gray-400 hover:text-red-600",onClick:X=>{X.stopPropagation(),window.confirm("Are you sure you want to delete this chat?")&&u(N.session_id)},children:w.jsx(Zk,{className:"w-4 h-4"})})]})})]})},N.session_id))})})]})}function t4(r,e,n){return e in r?Object.defineProperty(r,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[e]=n,r}function QE(r,e){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(r);e&&(s=s.filter(function(o){return Object.getOwnPropertyDescriptor(r,o).enumerable})),n.push.apply(n,s)}return n}function XE(r){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?QE(Object(n),!0).forEach(function(s){t4(r,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):QE(Object(n)).forEach(function(s){Object.defineProperty(r,s,Object.getOwnPropertyDescriptor(n,s))})}return r}function n4(r,e){if(r==null)return{};var n={},s=Object.keys(r),o,u;for(u=0;u<s.length;u++)o=s[u],!(e.indexOf(o)>=0)&&(n[o]=r[o]);return n}function r4(r,e){if(r==null)return{};var n=n4(r,e),s,o;if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(r);for(o=0;o<u.length;o++)s=u[o],!(e.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(r,s)&&(n[s]=r[s])}return n}function i4(r,e){return s4(r)||a4(r,e)||o4(r,e)||l4()}function s4(r){if(Array.isArray(r))return r}function a4(r,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(r)))){var n=[],s=!0,o=!1,u=void 0;try{for(var f=r[Symbol.iterator](),m;!(s=(m=f.next()).done)&&(n.push(m.value),!(e&&n.length===e));s=!0);}catch(p){o=!0,u=p}finally{try{!s&&f.return!=null&&f.return()}finally{if(o)throw u}}return n}}function o4(r,e){if(r){if(typeof r=="string")return WE(r,e);var n=Object.prototype.toString.call(r).slice(8,-1);if(n==="Object"&&r.constructor&&(n=r.constructor.name),n==="Map"||n==="Set")return Array.from(r);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return WE(r,e)}}function WE(r,e){(e==null||e>r.length)&&(e=r.length);for(var n=0,s=new Array(e);n<e;n++)s[n]=r[n];return s}function l4(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function u4(r,e,n){return e in r?Object.defineProperty(r,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[e]=n,r}function ZE(r,e){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(r);e&&(s=s.filter(function(o){return Object.getOwnPropertyDescriptor(r,o).enumerable})),n.push.apply(n,s)}return n}function JE(r){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ZE(Object(n),!0).forEach(function(s){u4(r,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):ZE(Object(n)).forEach(function(s){Object.defineProperty(r,s,Object.getOwnPropertyDescriptor(n,s))})}return r}function c4(){for(var r=arguments.length,e=new Array(r),n=0;n<r;n++)e[n]=arguments[n];return function(s){return e.reduceRight(function(o,u){return u(o)},s)}}function Jl(r){return function e(){for(var n=this,s=arguments.length,o=new Array(s),u=0;u<s;u++)o[u]=arguments[u];return o.length>=r.length?r.apply(this,o):function(){for(var f=arguments.length,m=new Array(f),p=0;p<f;p++)m[p]=arguments[p];return e.apply(n,[].concat(o,m))}}}function Gh(r){return{}.toString.call(r).includes("Object")}function h4(r){return!Object.keys(r).length}function pu(r){return typeof r=="function"}function f4(r,e){return Object.prototype.hasOwnProperty.call(r,e)}function d4(r,e){return Gh(e)||Wi("changeType"),Object.keys(e).some(function(n){return!f4(r,n)})&&Wi("changeField"),e}function m4(r){pu(r)||Wi("selectorType")}function p4(r){pu(r)||Gh(r)||Wi("handlerType"),Gh(r)&&Object.values(r).some(function(e){return!pu(e)})&&Wi("handlersType")}function g4(r){r||Wi("initialIsRequired"),Gh(r)||Wi("initialType"),h4(r)&&Wi("initialContent")}function y4(r,e){throw new Error(r[e]||r.default)}var v4={initialIsRequired:"initial state is required",initialType:"initial state should be an object",initialContent:"initial state shouldn't be an empty object",handlerType:"handler should be an object or a function",handlersType:"all handlers should be a functions",selectorType:"selector should be a function",changeType:"provided value of changes should be an object",changeField:'it seams you want to change a field in the state which is not specified in the "initial" state',default:"an unknown error accured in `state-local` package"},Wi=Jl(y4)(v4),uh={changes:d4,selector:m4,handler:p4,initial:g4};function _4(r){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};uh.initial(r),uh.handler(e);var n={current:r},s=Jl(w4)(n,e),o=Jl(b4)(n),u=Jl(uh.changes)(r),f=Jl(E4)(n);function m(){var g=arguments.length>0&&arguments[0]!==void 0?arguments[0]:function(_){return _};return uh.selector(g),g(n.current)}function p(g){c4(s,o,u,f)(g)}return[m,p]}function E4(r,e){return pu(e)?e(r.current):e}function b4(r,e){return r.current=JE(JE({},r.current),e),e}function w4(r,e,n){return pu(e)?e(r.current):Object.keys(n).forEach(function(s){var o;return(o=e[s])===null||o===void 0?void 0:o.call(e,r.current[s])}),n}var T4={create:_4},A4={paths:{vs:"https://cdn.jsdelivr.net/npm/monaco-editor@0.52.2/min/vs"}};function S4(r){return function e(){for(var n=this,s=arguments.length,o=new Array(s),u=0;u<s;u++)o[u]=arguments[u];return o.length>=r.length?r.apply(this,o):function(){for(var f=arguments.length,m=new Array(f),p=0;p<f;p++)m[p]=arguments[p];return e.apply(n,[].concat(o,m))}}}function R4(r){return{}.toString.call(r).includes("Object")}function x4(r){return r||eb("configIsRequired"),R4(r)||eb("configType"),r.urls?(C4(),{paths:{vs:r.urls.monacoBase}}):r}function C4(){console.warn(WT.deprecation)}function I4(r,e){throw new Error(r[e]||r.default)}var WT={configIsRequired:"the configuration object is required",configType:"the configuration object should be an object",default:"an unknown error accured in `@monaco-editor/loader` package",deprecation:`Deprecation warning!
    You are using deprecated way of configuration.

    Instead of using
      monaco.config({ urls: { monacoBase: '...' } })
    use
      monaco.config({ paths: { vs: '...' } })

    For more please check the link https://github.com/suren-atoyan/monaco-loader#config
  `},eb=S4(I4)(WT),N4={config:x4},O4=function(){for(var e=arguments.length,n=new Array(e),s=0;s<e;s++)n[s]=arguments[s];return function(o){return n.reduceRight(function(u,f){return f(u)},o)}};function ZT(r,e){return Object.keys(e).forEach(function(n){e[n]instanceof Object&&r[n]&&Object.assign(e[n],ZT(r[n],e[n]))}),XE(XE({},r),e)}var D4={type:"cancelation",msg:"operation is manually canceled"};function qm(r){var e=!1,n=new Promise(function(s,o){r.then(function(u){return e?o(D4):s(u)}),r.catch(o)});return n.cancel=function(){return e=!0},n}var k4=T4.create({config:A4,isInitialized:!1,resolve:null,reject:null,monaco:null}),JT=i4(k4,2),Cu=JT[0],gf=JT[1];function M4(r){var e=N4.config(r),n=e.monaco,s=r4(e,["monaco"]);gf(function(o){return{config:ZT(o.config,s),monaco:n}})}function P4(){var r=Cu(function(e){var n=e.monaco,s=e.isInitialized,o=e.resolve;return{monaco:n,isInitialized:s,resolve:o}});if(!r.isInitialized){if(gf({isInitialized:!0}),r.monaco)return r.resolve(r.monaco),qm(Hm);if(window.monaco&&window.monaco.editor)return e1(window.monaco),r.resolve(window.monaco),qm(Hm);O4(V4,U4)(j4)}return qm(Hm)}function V4(r){return document.body.appendChild(r)}function L4(r){var e=document.createElement("script");return r&&(e.src=r),e}function U4(r){var e=Cu(function(s){var o=s.config,u=s.reject;return{config:o,reject:u}}),n=L4("".concat(e.config.paths.vs,"/loader.js"));return n.onload=function(){return r()},n.onerror=e.reject,n}function j4(){var r=Cu(function(n){var s=n.config,o=n.resolve,u=n.reject;return{config:s,resolve:o,reject:u}}),e=window.require;e.config(r.config),e(["vs/editor/editor.main"],function(n){e1(n),r.resolve(n)},function(n){r.reject(n)})}function e1(r){Cu().monaco||gf({monaco:r})}function z4(){return Cu(function(r){var e=r.monaco;return e})}var Hm=new Promise(function(r,e){return gf({resolve:r,reject:e})}),t1={config:M4,init:P4,__getMonacoInstance:z4},B4={wrapper:{display:"flex",position:"relative",textAlign:"initial"},fullWidth:{width:"100%"},hide:{display:"none"}},Fm=B4,q4={container:{display:"flex",height:"100%",width:"100%",justifyContent:"center",alignItems:"center"}},H4=q4;function F4({children:r}){return Xs.createElement("div",{style:H4.container},r)}var G4=F4,$4=G4;function K4({width:r,height:e,isEditorReady:n,loading:s,_ref:o,className:u,wrapperProps:f}){return Xs.createElement("section",{style:{...Fm.wrapper,width:r,height:e},...f},!n&&Xs.createElement($4,null,s),Xs.createElement("div",{ref:o,style:{...Fm.fullWidth,...!n&&Fm.hide},className:u}))}var Y4=K4,n1=C.memo(Y4);function Q4(r){C.useEffect(r,[])}var r1=Q4;function X4(r,e,n=!0){let s=C.useRef(!0);C.useEffect(s.current||!n?()=>{s.current=!1}:r,e)}var Rn=X4;function au(){}function io(r,e,n,s){return W4(r,s)||Z4(r,e,n,s)}function W4(r,e){return r.editor.getModel(i1(r,e))}function Z4(r,e,n,s){return r.editor.createModel(e,n,s?i1(r,s):void 0)}function i1(r,e){return r.Uri.parse(e)}function J4({original:r,modified:e,language:n,originalLanguage:s,modifiedLanguage:o,originalModelPath:u,modifiedModelPath:f,keepCurrentOriginalModel:m=!1,keepCurrentModifiedModel:p=!1,theme:g="light",loading:_="Loading...",options:T={},height:R="100%",width:U="100%",className:z,wrapperProps:K={},beforeMount:N=au,onMount:X=au}){let[Q,re]=C.useState(!1),[de,ae]=C.useState(!0),oe=C.useRef(null),D=C.useRef(null),S=C.useRef(null),x=C.useRef(X),k=C.useRef(N),P=C.useRef(!1);r1(()=>{let Ee=t1.init();return Ee.then(F=>(D.current=F)&&ae(!1)).catch(F=>F?.type!=="cancelation"&&console.error("Monaco initialization: error:",F)),()=>oe.current?Pe():Ee.cancel()}),Rn(()=>{if(oe.current&&D.current){let Ee=oe.current.getOriginalEditor(),F=io(D.current,r||"",s||n||"text",u||"");F!==Ee.getModel()&&Ee.setModel(F)}},[u],Q),Rn(()=>{if(oe.current&&D.current){let Ee=oe.current.getModifiedEditor(),F=io(D.current,e||"",o||n||"text",f||"");F!==Ee.getModel()&&Ee.setModel(F)}},[f],Q),Rn(()=>{let Ee=oe.current.getModifiedEditor();Ee.getOption(D.current.editor.EditorOption.readOnly)?Ee.setValue(e||""):e!==Ee.getValue()&&(Ee.executeEdits("",[{range:Ee.getModel().getFullModelRange(),text:e||"",forceMoveMarkers:!0}]),Ee.pushUndoStop())},[e],Q),Rn(()=>{oe.current?.getModel()?.original.setValue(r||"")},[r],Q),Rn(()=>{let{original:Ee,modified:F}=oe.current.getModel();D.current.editor.setModelLanguage(Ee,s||n||"text"),D.current.editor.setModelLanguage(F,o||n||"text")},[n,s,o],Q),Rn(()=>{D.current?.editor.setTheme(g)},[g],Q),Rn(()=>{oe.current?.updateOptions(T)},[T],Q);let L=C.useCallback(()=>{if(!D.current)return;k.current(D.current);let Ee=io(D.current,r||"",s||n||"text",u||""),F=io(D.current,e||"",o||n||"text",f||"");oe.current?.setModel({original:Ee,modified:F})},[n,e,o,r,s,u,f]),I=C.useCallback(()=>{!P.current&&S.current&&(oe.current=D.current.editor.createDiffEditor(S.current,{automaticLayout:!0,...T}),L(),D.current?.editor.setTheme(g),re(!0),P.current=!0)},[T,g,L]);C.useEffect(()=>{Q&&x.current(oe.current,D.current)},[Q]),C.useEffect(()=>{!de&&!Q&&I()},[de,Q,I]);function Pe(){let Ee=oe.current?.getModel();m||Ee?.original?.dispose(),p||Ee?.modified?.dispose(),oe.current?.dispose()}return Xs.createElement(n1,{width:U,height:R,isEditorReady:Q,loading:_,_ref:S,className:z,wrapperProps:K})}var eM=J4;C.memo(eM);function tM(r){let e=C.useRef();return C.useEffect(()=>{e.current=r},[r]),e.current}var nM=tM,ch=new Map;function rM({defaultValue:r,defaultLanguage:e,defaultPath:n,value:s,language:o,path:u,theme:f="light",line:m,loading:p="Loading...",options:g={},overrideServices:_={},saveViewState:T=!0,keepCurrentModel:R=!1,width:U="100%",height:z="100%",className:K,wrapperProps:N={},beforeMount:X=au,onMount:Q=au,onChange:re,onValidate:de=au}){let[ae,oe]=C.useState(!1),[D,S]=C.useState(!0),x=C.useRef(null),k=C.useRef(null),P=C.useRef(null),L=C.useRef(Q),I=C.useRef(X),Pe=C.useRef(),Ee=C.useRef(s),F=nM(u),ce=C.useRef(!1),se=C.useRef(!1);r1(()=>{let Z=t1.init();return Z.then(le=>(x.current=le)&&S(!1)).catch(le=>le?.type!=="cancelation"&&console.error("Monaco initialization: error:",le)),()=>k.current?M():Z.cancel()}),Rn(()=>{let Z=io(x.current,r||s||"",e||o||"",u||n||"");Z!==k.current?.getModel()&&(T&&ch.set(F,k.current?.saveViewState()),k.current?.setModel(Z),T&&k.current?.restoreViewState(ch.get(u)))},[u],ae),Rn(()=>{k.current?.updateOptions(g)},[g],ae),Rn(()=>{!k.current||s===void 0||(k.current.getOption(x.current.editor.EditorOption.readOnly)?k.current.setValue(s):s!==k.current.getValue()&&(se.current=!0,k.current.executeEdits("",[{range:k.current.getModel().getFullModelRange(),text:s,forceMoveMarkers:!0}]),k.current.pushUndoStop(),se.current=!1))},[s],ae),Rn(()=>{let Z=k.current?.getModel();Z&&o&&x.current?.editor.setModelLanguage(Z,o)},[o],ae),Rn(()=>{m!==void 0&&k.current?.revealLine(m)},[m],ae),Rn(()=>{x.current?.editor.setTheme(f)},[f],ae);let Oe=C.useCallback(()=>{if(!(!P.current||!x.current)&&!ce.current){I.current(x.current);let Z=u||n,le=io(x.current,s||r||"",e||o||"",Z||"");k.current=x.current?.editor.create(P.current,{model:le,automaticLayout:!0,...g},_),T&&k.current.restoreViewState(ch.get(Z)),x.current.editor.setTheme(f),m!==void 0&&k.current.revealLine(m),oe(!0),ce.current=!0}},[r,e,n,s,o,u,g,_,T,f,m]);C.useEffect(()=>{ae&&L.current(k.current,x.current)},[ae]),C.useEffect(()=>{!D&&!ae&&Oe()},[D,ae,Oe]),Ee.current=s,C.useEffect(()=>{ae&&re&&(Pe.current?.dispose(),Pe.current=k.current?.onDidChangeModelContent(Z=>{se.current||re(k.current.getValue(),Z)}))},[ae,re]),C.useEffect(()=>{if(ae){let Z=x.current.editor.onDidChangeMarkers(le=>{let ne=k.current.getModel()?.uri;if(ne&&le.find(W=>W.path===ne.path)){let W=x.current.editor.getModelMarkers({resource:ne});de?.(W)}});return()=>{Z?.dispose()}}return()=>{}},[ae,de]);function M(){Pe.current?.dispose(),R?T&&ch.set(u,k.current.saveViewState()):k.current.getModel()?.dispose(),k.current.dispose()}return Xs.createElement(n1,{width:U,height:z,isEditorReady:ae,loading:p,_ref:P,className:K,wrapperProps:N})}var iM=rM,sM=C.memo(iM);function tb({userMessage:r,assistantMessage:e,onSaveToLibrary:n,onMarkInaccurate:s,isLoading:o=!1,isSaved:u=!1}){const[f,m]=C.useState(null),[p,g]=C.useState(!1);Xs.useEffect(()=>{g(!0)},[]);const _=async()=>{m("accurate");try{await n(r,e)}catch(R){console.error("Error saving to library:",R),m(null)}},T=()=>{m("inaccurate"),s?.(r,e)};return u?w.jsx("div",{className:`mt-3 p-3 bg-white border-2 border-[#E2001A] rounded-xl shadow-lg transition-all duration-500 ${p?"opacity-100 translate-y-0":"opacity-0 translate-y-4"}`,children:w.jsxs("div",{className:"flex items-center gap-2 text-[#E2001A]",children:[w.jsx(Lk,{className:"w-4 h-4"}),w.jsx("span",{className:"text-sm font-semibold",children:"Saved to Library"})]})}):f==="accurate"?w.jsx("div",{className:`mt-3 p-3 bg-white border-2 border-[#E2001A] rounded-xl shadow-lg transition-all duration-500 ${p?"opacity-100 translate-y-0":"opacity-0 translate-y-4"}`,children:w.jsxs("div",{className:"flex items-center gap-2 text-[#E2001A]",children:[w.jsx(wo,{className:"w-4 h-4"}),w.jsx("span",{className:"text-sm font-semibold",children:o?"Saving to library...":"Saved to library successfully!"})]})}):f==="inaccurate"?w.jsx("div",{className:`mt-3 p-3 bg-[#E2001A]/10 border-2 border-[#E2001A] rounded-xl shadow-lg transition-all duration-500 ${p?"opacity-100 translate-y-0":"opacity-0 translate-y-4"}`,children:w.jsxs("div",{className:"flex items-center gap-2 text-[#E2001A]",children:[w.jsx(Sp,{className:"w-4 h-4"}),w.jsx("span",{className:"text-sm font-semibold",children:"Thank you for the feedback!"})]})}):w.jsx("div",{className:`mt-3 p-3 bg-white border-2 rounded-xl shadow-lg transition-all duration-500 ${p?"opacity-100 translate-y-0":"opacity-0 translate-y-4"}`,children:w.jsxs("div",{className:"flex flex-col gap-2",children:[w.jsx("p",{className:"text-base font-medium text-[#E2001A]",children:"Was this information accurate and helpful?"}),w.jsxs("div",{className:"flex gap-2",children:[w.jsxs(gt,{size:"sm",variant:"outline",onClick:_,disabled:o,className:"flex items-center gap-1 border-[#6bf070] text-[#0c4d19] hover:bg-[#E2001A]/10 font-semibold",children:[w.jsx(wo,{className:"w-3 h-3"}),"Yes, save to library"]}),w.jsxs(gt,{size:"sm",variant:"outline",onClick:T,disabled:o,className:"flex items-center gap-1 border-[#E2001A] text-[#E2001A] hover:bg-[#E2001A]/10 font-semibold",children:[w.jsx(Sp,{className:"w-3 h-3"}),"No, inaccurate"]})]})]})})}function aM({message:r,timestamp:e,userMessage:n,onSaveToLibrary:s,onMarkInaccurate:o,isSaved:u=!1}){const[f,m]=C.useState({});let p=null,g=r.content;if(Array.isArray(r.content))p={responses:r.content},g=null;else if(r.content&&typeof r.content=="object")r.content.responses&&Array.isArray(r.content.responses)?(p=r.content,g=null):r.content.type&&r.content.content&&(p={responses:[r.content]},g=null);else if(typeof r.content=="string"){let N=r.content.trim();N.startsWith("```json")&&(N=N.substring(7)),N.startsWith("```")&&(N=N.substring(3)),N.endsWith("```")&&(N=N.substring(0,N.length-3)),N=N.trim();try{const X=JSON.parse(N);Array.isArray(X)&&X.every(re=>re&&typeof re=="object"&&re.type&&re.content)&&(p={responses:X},g=null)}catch{g=N}}const _=async(N,X)=>{try{const Q=typeof N=="string"?N:JSON.stringify(N,null,2);await navigator.clipboard.writeText(Q),m(re=>({...re,[X]:!0})),setTimeout(()=>{m(re=>({...re,[X]:!1}))},2e3)}catch(Q){console.error("Failed to copy: ",Q)}},T=N=>{switch(N){case"ladder":return"text";case"plc-code":return"text";default:return"text"}},R=N=>{switch(N){case"ladder":return"Ladder Diagram";case"plc-code":return"PLC Code";case"text":default:return"Response"}},U=N=>{if(!N)return null;const X=N.status==="valid"?"text-green-700 bg-green-50 border-green-200":N.status==="invalid"?"text-red-700 bg-red-50 border-red-200":"text-amber-700 bg-amber-50 border-amber-200";return w.jsxs("div",{className:`mt-2 rounded-lg border ${X} p-3`,children:[w.jsxs("div",{className:"flex items-center justify-between",children:[w.jsx("span",{className:"text-sm font-semibold",children:"Validation"}),w.jsx("span",{className:"text-xs",children:N.executable?"Executable":"Not Executable"})]}),N.reason&&w.jsx("p",{className:"text-sm mt-1 whitespace-pre-wrap",children:N.reason}),Array.isArray(N.warnings)&&N.warnings.length>0&&w.jsx("ul",{className:"mt-2 list-disc list-inside text-xs space-y-1",children:N.warnings.map((Q,re)=>w.jsx("li",{children:Q},re))})]})};if(p&&p.responses&&Array.isArray(p.responses))return w.jsxs("div",{className:"w-full max-w-none space-y-3",children:[p.responses.map((N,X)=>{const Q=`${r.role}-${e}-${N.type}-${X}`,re="transition-all duration-700 ease-in-out opacity-100 translate-y-0";if(N.type==="plc-code"||N.type==="ladder"||N.type==="code"||N.type==="structured-text"){const de=()=>{const ae=typeof N.content=="string"?N.content.replace(/\\n/g,`
`):N.content,oe=new Blob([ae],{type:"text/plain"}),D=URL.createObjectURL(oe),S=document.createElement("a");S.href=D,S.download=`plc-code-${e||Date.now()}.st`,document.body.appendChild(S),S.click(),document.body.removeChild(S),URL.revokeObjectURL(D)};return w.jsxs("div",{className:"flex flex-col gap-2",children:[w.jsxs(Qn,{className:`w-full max-w-none p-0 overflow-hidden rounded-xl shadow-xl ${re}`,style:{fontFamily:"Segoe UI, Arial, sans-serif",border:"none"},children:[w.jsxs("div",{className:"flex items-center justify-between px-6 py-3 bg-[#E2001A]/10 rounded-t-xl",style:{borderBottom:"none"},children:[w.jsx("span",{className:"text-sm font-semibold text-[#E2001A]",children:R(N.type)}),w.jsxs("div",{className:"flex items-center gap-2",children:[w.jsx(gt,{variant:"ghost",size:"sm",className:"h-6 w-6 p-0 text-[#E2001A] hover:bg-[#E2001A]/10",onClick:()=>_(N.content,Q),children:f[Q]?w.jsx(wo,{className:"w-3 h-3 text-green-600"}):w.jsx(Ap,{className:"w-3 h-3"})}),w.jsx(gt,{variant:"ghost",size:"sm",className:"h-6 w-6 p-0 text-[#E2001A] hover:bg-[#E2001A]/10",onClick:de,"aria-label":"Download code as .st",children:w.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-4 h-4",children:w.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 16v-8m0 8l-4-4m4 4l4-4M4 20h16"})})})]})]}),w.jsx("div",{className:"w-full min-w-0",style:{background:"white",borderRadius:"0 0 1rem 1rem",border:"none"},children:w.jsx(sM,{height:"220px",defaultLanguage:T(N.type),value:typeof N.content=="string"?N.content.replace(/\\n/g,`
`):N.content,options:{readOnly:!0,minimap:{enabled:!1},scrollBeyondLastLine:!1,wordWrap:"on",fontSize:15,fontFamily:"Consolas, Segoe UI, Arial, monospace",theme:"vs-light",selectOnLineNumbers:!0,automaticLayout:!0,scrollbar:{horizontal:"hidden",vertical:"hidden"},overviewRulerLanes:0,hideCursorInOverviewRuler:!0,overviewRulerBorder:!1}})}),w.jsx("div",{className:"px-6 pb-4",style:{border:"none"},children:U(N.validation)})]}),N.explanation&&w.jsx("div",{className:"mt-2 text-base text-gray-800 font-normal px-2",children:N.explanation})]},X)}else return w.jsx("div",{className:"mt-2 text-base text-gray-800 font-normal px-2",style:{border:"none"},children:typeof N.content=="string"?N.content.replace(/\\n/g,`
`):N.content},X)}),e&&w.jsx("div",{className:"text-xs text-[#E2001A] text-right",style:{border:"none"},children:new Date(e).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}),n&&s&&w.jsx("div",{style:{border:"none"},children:w.jsx(tb,{userMessage:n,assistantMessage:r,onSaveToLibrary:s,onMarkInaccurate:o,isSaved:u})})]});const z=`${r.role}-${e}-fallback`,K=typeof g=="string"?g:JSON.stringify(g,null,2);return w.jsxs("div",{className:"bg-white text-gray-900 border rounded-bl-none rounded-2xl px-4 py-3 shadow max-w-[85%]",children:[w.jsxs("div",{className:"flex items-center justify-between mb-2",children:[w.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Response"}),w.jsx(gt,{variant:"ghost",size:"sm",className:"h-6 w-6 p-0",onClick:()=>_(K,z),children:f[z]?w.jsx(wo,{className:"w-3 h-3 text-green-600"}):w.jsx(Ap,{className:"w-3 h-3"})})]}),w.jsx("p",{className:"whitespace-pre-wrap leading-relaxed",children:typeof K=="string"?K.replace(/\\n/g,`
`):K}),e&&w.jsx("div",{className:"text-xs mt-1 text-gray-500",children:new Date(e).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}),n&&s&&w.jsx(tb,{userMessage:n,assistantMessage:r,onSaveToLibrary:s,onMarkInaccurate:o,isSaved:u})]})}function oM(){const r=[{category:"Text Responses",examples:["What is a PLC?","Explain the difference between NO and NC contacts","How does a timer work in ladder logic?"]},{category:"Ladder Diagrams",examples:["Show me a ladder diagram for a start/stop motor control","Create a ladder diagram for a traffic light system","Draw a ladder diagram with a timer and counter"]},{category:"PLC Code",examples:["Write PLC code for a conveyor belt control","Generate structured text for a temperature controller","Show me function block code for a PID controller"]},{category:"Complete Solutions",examples:["Explain and show a timer implementation with code and ladder","Create a motor control system with explanation, ladder diagram, and PLC code","Design a safety circuit with documentation and implementation"]}];return w.jsxs("div",{className:"space-y-4",children:[w.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"IEC 61131-3 Assistant Guide"}),w.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:r.map((e,n)=>w.jsxs(Qn,{children:[w.jsxs($T,{children:[w.jsx(KT,{className:"text-sm",children:e.category}),w.jsxs(YT,{className:"text-xs",children:[e.category==="Text Responses"&&"Ask general questions about PLC programming",e.category==="Ladder Diagrams"&&"Request ladder diagrams for specific applications",e.category==="PLC Code"&&"Get structured text or function block code",e.category==="Complete Solutions"&&"Get explanation + diagram + code in one response"]})]}),w.jsx(QT,{children:w.jsx("div",{className:"space-y-2",children:e.examples.map((s,o)=>w.jsxs("div",{className:"text-xs text-gray-600 p-2 bg-gray-50 rounded",children:['"',s,'"']},o))})})]},n))}),w.jsx("div",{className:"text-xs text-gray-500 mt-4",children:w.jsxs("p",{children:[w.jsx("strong",{children:"Tip:"})," Be specific in your requests. The assistant will respond with exactly what you ask for."]})})]})}function lM({size:r=32}){return w.jsx("div",{className:"flex items-center justify-center",children:w.jsx("span",{className:"inline-block animate-spin",style:{width:r,height:r},children:w.jsxs("svg",{width:r,height:r,viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[w.jsx("circle",{cx:"16",cy:"16",r:"14",stroke:"#E2001A",strokeWidth:"4",strokeDasharray:"22 44",strokeLinecap:"round",opacity:"0.2"}),w.jsx("circle",{cx:"16",cy:"16",r:"14",stroke:"#E2001A",strokeWidth:"4",strokeDasharray:"22 44",strokeLinecap:"round",className:"animate-spin"})]})})})}function nb(){return w.jsxs("div",{className:"flex items-center justify-center h-16",children:["ABB".split("").map((r,e)=>w.jsx("span",{className:`text-4xl font-extrabold text-[#E2001A] mx-2 animate-jump animation-delay-${e}`,style:{animation:`jump 0.7s infinite ${e*.15}s`,display:"inline-block"},children:r},e)),w.jsx("style",{children:`
        @keyframes jump {
          0%, 100% { transform: translateY(0); }
          40% { transform: translateY(-18px); }
        }
      `})]})}function uM(){const{user:r,logout:e,getIdToken:n}=pf(),s=Kh(),[o,u]=C.useState([]),[f,m]=C.useState(null),[p,g]=C.useState([]),[_,T]=C.useState(""),[R,U]=C.useState(!1),[z,K]=C.useState(!0),[N,X]=C.useState(!1),[Q,re]=C.useState(null),[de,ae]=C.useState(null),[oe,D]=C.useState({}),[S,x]=C.useState([]),k=C.useRef(null);C.useEffect(()=>{if(r&&n){const W=new Dk(r,n),me=new XT(r,n);re(W),ae(me)}},[r,n]),C.useEffect(()=>{Q&&I()},[Q]),C.useEffect(()=>{de&&P()},[de]);const P=async()=>{try{const W=await de.getLibraryEntries();x(W)}catch(W){console.error("Error loading library entries:",W)}},L=(W,me)=>{if(!W||!me)return!1;let fe=me.content;return typeof fe=="object"&&fe!==null&&(fe.responses&&Array.isArray(fe.responses)?fe=fe.responses.map(we=>we.content||"").join(`

`):fe=JSON.stringify(fe)),S.some(we=>we.user_question===W&&we.assistant_response===fe)};C.useEffect(()=>{k.current?.scrollIntoView({behavior:"smooth"})},[p]);const I=async()=>{try{K(!0);const W=await Q.getSessions();u(W||[]),!f&&W&&W.length>0?await Pe(W[0].session_id):(!W||W.length===0)&&(m(null),g([]))}catch(W){console.error("Error loading sessions:",W),u([]),m(null),g([])}finally{K(!1)}},Pe=async W=>{try{X(!0),m(W);const fe=(await Q.getSessionMessages(W)).map(we=>{let De=we.content;if(typeof De=="string"&&we.role==="assistant")try{const Ye=JSON.parse(De);Array.isArray(Ye)?De={responses:Ye}:Ye&&Ye.responses&&Array.isArray(Ye.responses)?De=Ye:Ye&&Ye.type&&Ye.content&&(De={responses:[Ye]})}catch{}return{role:we.role,content:De,timestamp:we.timestamp}});g(fe)}catch(me){console.error("Error loading session messages:",me),g([])}finally{X(!1)}},Ee=async()=>{try{K(!0);const W=await Q.createSession();m(W),g([]),await I()}catch(W){console.error("Error creating new chat:",W)}finally{K(!1)}},F=async(W,me)=>{try{await Q.updateSessionTitle(W,me),await I()}catch(fe){console.error("Error updating session title:",fe)}},ce=async W=>{try{await Q.deleteSession(W),f===W&&(m(null),g([])),await I()}catch(me){console.error("Error deleting session:",me)}},se=async(W,me)=>{try{await navigator.clipboard.writeText(W),D(fe=>({...fe,[me]:!0})),setTimeout(()=>{D(fe=>({...fe,[me]:!1}))},2e3)}catch(fe){console.error("Failed to copy: ",fe)}},Oe=async(W,me)=>{try{if(!de||!f)return;await de.saveToLibrary(W,me,f),await P()}catch(fe){throw console.error("Error saving to library:",fe),fe}},M=(W,me)=>{console.log("User marked as inaccurate:",{userMessage:W,assistantMessage:me})},Z=async()=>{try{await e()}catch(W){console.error("Logout failed:",W)}},le=async W=>{W?.preventDefault();const me=_.trim();if(!me||R||!f)return;U(!0),T("");const fe={role:"user",content:me,timestamp:new Date};g(we=>[...we,fe]);try{const Ye={role:"assistant",content:await Q.sendMessage(f,me,p),timestamp:new Date};if(g(qt=>[...qt,Ye]),p.length===0){const qt=Q.generateSessionTitle(me);await F(f,qt)}}catch(we){console.error("Failed to get response:",we);const De={role:"assistant",content:"Sorry, I encountered an error while processing your message. Please try again.",timestamp:new Date};g(Ye=>[...Ye,De])}finally{U(!1)}},ne=W=>{W.key==="Enter"&&!W.shiftKey&&(W.preventDefault(),le())};return w.jsxs("div",{className:"min-h-screen bg-gray-50",children:[w.jsx(e4,{sessions:o,currentSessionId:f,onSessionSelect:Pe,onNewChat:Ee,onUpdateTitle:F,onDeleteSession:ce,isLoading:z}),w.jsxs("div",{className:"ml-80 flex flex-col min-h-screen",children:[w.jsx("nav",{className:"bg-white border-b shadow-sm",children:w.jsx("div",{className:"px-4 sm:px-6 lg:px-8",children:w.jsxs("div",{className:"flex items-center justify-between h-16",children:[w.jsxs("div",{className:"flex items-center gap-3",children:[w.jsx("img",{src:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcScIghZJCd7WFx6f3jIQ9A_eWu6tbJGoXzh-A&s",alt:"ABB Logo",className:"h-8 w-20 rounded",style:{background:"white"}}),w.jsx("h1",{className:"text-lg font-bold text-[#E2001A] tracking-wide",style:{fontFamily:"Segoe UI, Arial, sans-serif"},children:"ABB Chatbot"})]}),w.jsxs("div",{className:"flex items-center gap-3",children:[w.jsxs(gt,{onClick:()=>s("/library"),variant:"outline",size:"sm",className:"flex items-center gap-2",children:[w.jsx(Ah,{className:"w-4 h-4"}),"Library"]}),r?.photoURL&&w.jsx("img",{src:r.photoURL,alt:r.displayName,className:"h-8 w-8 rounded-full"}),w.jsx("span",{className:"text-sm text-gray-700",children:r?.displayName||r?.email}),w.jsx(gt,{onClick:Z,variant:"outline",size:"sm",children:"Sign Out"})]})]})})}),w.jsx("main",{className:"flex-1 flex flex-col pb-24",children:R?w.jsx("div",{className:"flex-1 flex items-center justify-center",children:w.jsx(nb,{})}):N?w.jsx("div",{className:"flex-1 flex items-center justify-center",children:w.jsx(nb,{})}):f?w.jsx("div",{className:"flex-1 flex flex-col",children:w.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:[p.length===0?w.jsx("div",{className:"max-w-4xl mx-auto py-8",children:w.jsx(oM,{})}):p.map((W,me)=>{const fe=W.role==="assistant"&&me>0&&p[me-1].role==="user"?p[me-1].content:null,we=fe?L(fe,W):!1;return w.jsx("div",{className:`flex ${W.role==="user"?"justify-end":"justify-start"} w-full`,children:W.role==="user"?w.jsxs("div",{className:"bg-blue-600 text-white rounded-br-none rounded-2xl px-4 py-3 shadow max-w-[85%] min-w-0",children:[w.jsxs("div",{className:"flex items-center justify-between mb-2",children:[w.jsx("span",{className:"text-sm font-medium text-blue-100",children:"You"}),w.jsx(gt,{variant:"ghost",size:"sm",className:"h-6 w-6 p-0 text-blue-100 hover:text-white hover:bg-blue-700",onClick:()=>se(W.content,`user-${me}`),children:oe[`user-${me}`]?w.jsx(wo,{className:"w-3 h-3"}):w.jsx(Ap,{className:"w-3 h-3"})})]}),w.jsx("p",{className:"whitespace-pre-wrap leading-relaxed",children:W.content}),W.timestamp&&w.jsx("div",{className:"text-xs mt-1 text-blue-100",children:new Date(W.timestamp).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]}):w.jsx("div",{className:"w-full max-w-[95%] min-w-0",children:w.jsx(aM,{message:W,timestamp:W.timestamp,userMessage:fe,onSaveToLibrary:Oe,onMarkInaccurate:M,isSaved:we})})},me)}),w.jsx("div",{ref:k})]})}):w.jsx("div",{className:"flex-1 flex items-center justify-center",children:w.jsxs("div",{className:"text-center",children:[w.jsx("div",{className:"h-16 w-16 mx-auto mb-4 rounded-full bg-blue-100 flex items-center justify-center",children:w.jsx("div",{className:"h-8 w-8 rounded bg-blue-600"})}),w.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Welcome to AI Chat"}),w.jsx("p",{className:"text-gray-600 mb-4",children:"Start a new conversation to get help with anything."}),w.jsx(gt,{onClick:Ee,children:"Start New Chat"})]})})}),f&&w.jsx("div",{className:"fixed bottom-0 left-80 right-0 border-t bg-white p-4 z-10",children:w.jsxs("form",{onSubmit:le,className:"flex items-end gap-2",children:[w.jsx("div",{className:"flex-1",children:w.jsx(Ki,{value:_,onChange:W=>T(W.target.value),onKeyDown:ne,placeholder:"Type your message...",className:"min-h-12 border-2 border-[#E2001A] rounded-xl focus:border-[#E2001A] font-medium text-lg",disabled:R})}),w.jsx(gt,{type:"submit",disabled:!_.trim()||R,className:"bg-[#E2001A] text-white font-semibold px-6 py-2 rounded-xl shadow-lg hover:bg-[#b80015] transition-all duration-200 flex items-center gap-2",children:R?w.jsxs(w.Fragment,{children:[w.jsx("span",{className:"mr-2",children:"Sending"}),w.jsx("span",{className:"inline-block align-middle",children:w.jsx(lM,{size:20})})]}):"Send"})]})})]})]})}function cM(){const{user:r,getIdToken:e}=pf(),n=Kh(),[s,o]=C.useState(null),[u,f]=C.useState([]),[m,p]=C.useState(""),[g,_]=C.useState(null),[T,R]=C.useState(!0),[U,z]=C.useState(!1),[K,N]=C.useState(null);C.useEffect(()=>{if(r&&e){const oe=new XT(r,e);o(oe)}},[r,e]),C.useEffect(()=>{s&&X()},[s]);const X=async()=>{try{R(!0);const oe=await s.getLibraryEntries();f(oe);const D=oe.length,S=new Date,x=new Date(S.getTime()-10080*60*1e3),k=oe.filter(I=>new Date(I.created_at)>=x).length,P={};oe.forEach(I=>{const Pe=I.category||"General";P[Pe]=(P[Pe]||0)+1});const L=Object.entries(P).map(([I,Pe])=>({name:I,count:Pe})).sort((I,Pe)=>Pe.count-I.count);N({total_entries:D,recent_entries_count:k,categories:L})}catch(oe){console.error("Error loading library data:",oe)}finally{R(!1)}},Q=async oe=>{if(oe.preventDefault(),!m.trim()){_(null);return}try{z(!0);const D=m.trim().toLowerCase(),S=u.filter(x=>{const k=x.user_question.toLowerCase().includes(D),P=x.assistant_response.toLowerCase().includes(D),L=x.tags.some(I=>I.toLowerCase().includes(D));return k||P||L});_({entries:S,total:S.length,query:m.trim()})}catch(D){console.error("Error searching library:",D)}finally{z(!1)}},re=()=>{p(""),_(null)},de=oe=>new Date(oe).toLocaleDateString([],{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),ae=g?g.entries:u;return T?w.jsxs("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:[w.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),w.jsx("span",{className:"ml-2 text-gray-600",children:"Loading your library..."})]}):w.jsxs("div",{className:"min-h-screen bg-gray-50",children:[w.jsx("nav",{className:"bg-white border-b shadow-sm",children:w.jsx("div",{className:"px-4 sm:px-6 lg:px-8",children:w.jsxs("div",{className:"flex items-center justify-between h-16",children:[w.jsxs("div",{className:"flex items-center gap-3",children:[w.jsxs(gt,{variant:"ghost",size:"sm",onClick:()=>n("/"),className:"flex items-center gap-2",children:[w.jsx(Mk,{className:"w-4 h-4"}),"Back to Chat"]}),w.jsx("div",{className:"h-6 w-px bg-gray-300"}),w.jsx(Ah,{className:"w-6 h-6 text-blue-600"}),w.jsx("h1",{className:"text-lg font-semibold text-gray-900",children:"Global Knowledge Library"})]}),w.jsxs("div",{className:"flex items-center gap-3",children:[r?.photoURL&&w.jsx("img",{src:r.photoURL,alt:r.displayName,className:"h-8 w-8 rounded-full"}),w.jsx("span",{className:"text-sm text-gray-700",children:r?.displayName||r?.email})]})]})})}),w.jsxs("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[K&&w.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[w.jsx(Qn,{className:"p-6",children:w.jsxs("div",{className:"flex items-center gap-3",children:[w.jsx(Ah,{className:"w-8 h-8 text-blue-600"}),w.jsxs("div",{children:[w.jsx("p",{className:"text-sm text-gray-600",children:"Total Entries"}),w.jsx("p",{className:"text-2xl font-semibold",children:K.total_entries})]})]})}),w.jsx(Qn,{className:"p-6",children:w.jsxs("div",{className:"flex items-center gap-3",children:[w.jsx(YE,{className:"w-8 h-8 text-green-600"}),w.jsxs("div",{children:[w.jsx("p",{className:"text-sm text-gray-600",children:"Recent (7 days)"}),w.jsx("p",{className:"text-2xl font-semibold",children:K.recent_entries_count})]})]})}),w.jsx(Qn,{className:"p-6",children:w.jsxs("div",{className:"flex items-center gap-3",children:[w.jsx(Xk,{className:"w-8 h-8 text-purple-600"}),w.jsxs("div",{children:[w.jsx("p",{className:"text-sm text-gray-600",children:"Categories"}),w.jsx("p",{className:"text-2xl font-semibold",children:K.categories.length})]})]})})]}),w.jsxs(Qn,{className:"p-6 mb-8",children:[w.jsxs("form",{onSubmit:Q,className:"flex gap-4",children:[w.jsx("div",{className:"flex-1",children:w.jsx(Ki,{value:m,onChange:oe=>p(oe.target.value),placeholder:"Search your saved questions and answers...",className:"w-full"})}),w.jsxs(gt,{type:"submit",disabled:U,children:[w.jsx(Fk,{className:"w-4 h-4 mr-2"}),U?"Searching...":"Search"]}),g&&w.jsx(gt,{variant:"outline",onClick:re,children:"Clear"})]}),g&&w.jsxs("div",{className:"mt-4 text-sm text-gray-600",children:["Found ",g.total,' result(s) for "',g.query,'"']})]}),ae.length===0?w.jsxs(Qn,{className:"p-12 text-center",children:[w.jsx(Ah,{className:"w-16 h-16 mx-auto mb-4 text-gray-400"}),w.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:g?"No search results":"No saved entries yet"}),w.jsx("p",{className:"text-gray-600 mb-4",children:g?"Try adjusting your search terms":"Start saving accurate AI responses to build your knowledge library"}),!g&&w.jsx(gt,{onClick:()=>n("/"),children:"Go to Chat"})]}):w.jsx("div",{className:"space-y-6",children:ae.map(oe=>w.jsxs(Qn,{className:"p-6",children:[w.jsxs("div",{className:"mb-4",children:[w.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-500 mb-2",children:[w.jsxs("div",{className:"flex items-center gap-2",children:[w.jsx(YE,{className:"w-4 h-4"}),de(oe.created_at)]}),w.jsxs("div",{className:"flex items-center gap-2",children:[w.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 24 24",children:w.jsx("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"})}),"Added by ",oe.user_name||"Anonymous User"]})]}),w.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-3",children:oe.user_question})]}),w.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[w.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"AI Response:"}),w.jsx("p",{className:"text-gray-900 whitespace-pre-wrap leading-relaxed",children:oe.assistant_response})]}),oe.tags&&oe.tags.length>0&&w.jsx("div",{className:"mt-4 flex gap-2",children:oe.tags.map((D,S)=>w.jsx("span",{className:"px-2 py-1 bg-blue-100 text-blue-800 text-xs rounded-full",children:D},S))})]},oe.entry_id))})]})]})}function hM(){return w.jsx(UD,{children:w.jsx(ZS,{children:w.jsxs(IS,{children:[w.jsx(hh,{path:"/login",element:w.jsx(Ok,{})}),w.jsx(hh,{path:"/",element:w.jsx(zE,{children:w.jsx(uM,{})})}),w.jsx(hh,{path:"/library",element:w.jsx(zE,{children:w.jsx(cM,{})})})]})})})}jA.createRoot(document.getElementById("root")).render(w.jsx(C.StrictMode,{children:w.jsx(hM,{})}));
